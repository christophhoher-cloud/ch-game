<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Spiele">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxODAgMTgwIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImciIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiM2NjdlZWEiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiM3NjRiYTIiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjQwIiBmaWxsPSJ1cmwoI2cpIi8+PHRleHQgeD0iOTAiIHk9IjEyNSIgZm9udC1zaXplPSIxMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiPvCfjq48L3RleHQ+PC9zdmc+">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxODAgMTgwIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImciIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiM2NjdlZWEiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiM3NjRiYTIiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjQwIiBmaWxsPSJ1cmwoI2cpIi8+PHRleHQgeD0iOTAiIHk9IjEyNSIgZm9udC1zaXplPSIxMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiPvCfjq48L3RleHQ+PC9zdmc+">
    <title>üéÆ Spiele-App</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&display=swap');
        :root{--sat:env(safe-area-inset-top);--sab:env(safe-area-inset-bottom)}
        *{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
        html,body{font-family:'Fredoka',sans-serif;min-height:100vh;min-height:100dvh;overflow-x:hidden;touch-action:manipulation;user-select:none;-webkit-user-select:none}
        body{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%)}
        #menu{padding:15px;padding-top:max(15px,calc(var(--sat)+10px));padding-bottom:max(15px,calc(var(--sab)+10px));min-height:100vh}
        h1{text-align:center;color:white;font-size:clamp(26px,6vw,38px);margin-bottom:6px;text-shadow:0 3px 0 rgba(0,0,0,0.2)}
        .subtitle{text-align:center;color:rgba(255,255,255,0.9);font-size:14px;margin-bottom:20px}
        .category{max-width:900px;margin:0 auto 20px}
        .cat-header{display:flex;align-items:center;gap:10px;margin-bottom:10px}
        .cat-icon{font-size:24px;background:white;width:42px;height:42px;border-radius:50%;display:flex;justify-content:center;align-items:center;box-shadow:0 4px 15px rgba(0,0,0,0.2)}
        .cat-title{color:white;font-size:20px;text-shadow:0 2px 0 rgba(0,0,0,0.15)}
        .games-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(90px,1fr));gap:10px}
        .game-btn{background:white;border:none;border-radius:14px;padding:12px 6px;cursor:pointer;display:flex;flex-direction:column;align-items:center;box-shadow:0 4px 15px rgba(0,0,0,0.15)}
        .game-btn:active{transform:scale(0.95)}
        .game-btn .icon{font-size:32px;margin-bottom:3px}
        .game-btn .title{font-size:10px;font-weight:600;color:#333}
        .game-btn .levels{font-size:8px;color:#888;margin-top:2px}
        .divider{height:2px;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.4),transparent);margin:15px auto;max-width:800px}
        #game-frame{display:none;position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;background:white}
        #game-frame iframe{width:100%;height:100%;border:none}
        #back-btn{position:fixed;top:max(8px,var(--sat));left:8px;z-index:2000;background:rgba(0,0,0,0.6);color:white;width:44px;height:44px;border-radius:50%;border:none;font-size:22px;cursor:pointer;display:none;align-items:center;justify-content:center;box-shadow:0 2px 10px rgba(0,0,0,0.3)}
    </style>
</head>
<body>
    <div id="menu">
        <h1>üéÆ Spiele-App</h1>
        <p class="subtitle">20 Spiele zum Lernen und Spa√ü!</p>
        
        <div class="category">
            <div class="cat-header"><div class="cat-icon">üìö</div><h2 class="cat-title">Lernen</h2></div>
            <div class="games-grid">
                <button class="game-btn" data-game="mathe"><div class="icon">‚ûï</div><div class="title">Mathe-Meister</div><div class="levels">5 Level</div></button>
                <button class="game-btn" data-game="abc"><div class="icon">üìö</div><div class="title">ABC-Meister</div><div class="levels">5 Level</div></button>
                <button class="game-btn" data-game="uhr"><div class="icon">üïê</div><div class="title">Uhr-Meister</div><div class="levels">5 Level</div></button>
                <button class="game-btn" data-game="zahlen"><div class="icon">üî¢</div><div class="title">Zahlen-Meister</div><div class="levels">5 Level</div></button>
                <button class="game-btn" data-game="woerter"><div class="icon">üî§</div><div class="title">W√∂rter-Bauer</div><div class="levels">5 Level</div></button>
                <button class="game-btn" data-game="laender"><div class="icon">üåç</div><div class="title">L√§nder-Quiz</div><div class="levels">5 Level</div></button>
                <button class="game-btn" data-game="tiere"><div class="icon">ü¶Å</div><div class="title">Tier-Experte</div><div class="levels">5 Level</div></button>
                <button class="game-btn" data-game="muster"><div class="icon">üîÆ</div><div class="title">Muster-Meister</div><div class="levels">5 Level</div></button>
                <button class="game-btn" data-game="brueche"><div class="icon">üçï</div><div class="title">Br√ºche-Meister</div><div class="levels">5 Level</div></button>
                <button class="game-btn" data-game="malen"><div class="icon">üé®</div><div class="title">Malen</div><div class="levels">4 Motive</div></button>
            </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="category">
            <div class="cat-header"><div class="cat-icon">üéÆ</div><h2 class="cat-title">Spa√ü & Action</h2></div>
            <div class="games-grid">
                <button class="game-btn" data-game="memory"><div class="icon">üß†</div><div class="title">Memory</div><div class="levels">5 Level</div></button>
                <button class="game-btn" data-game="reaktion"><div class="icon">‚ö°</div><div class="title">Reaktion</div><div class="levels">5 Level</div></button>
                <button class="game-btn" data-game="ballon"><div class="icon">üéà</div><div class="title">Ballon-Platzer</div><div class="levels">5 Level</div></button>
                <button class="game-btn" data-game="fangen"><div class="icon">üçé</div><div class="title">Fr√ºchte-F√§nger</div><div class="levels">5 Level</div></button>
                <button class="game-btn" data-game="frosch"><div class="icon">üê∏</div><div class="title">H√ºpf-Frosch</div><div class="levels">5 Level</div></button>
                <button class="game-btn" data-game="rennen"><div class="icon">üèéÔ∏è</div><div class="title">Renn-Meister</div><div class="levels">5 Strecken</div></button>
                <button class="game-btn" data-game="feuerwehr"><div class="icon">üöí</div><div class="title">Feuerwehr-Held</div><div class="levels">5 Level</div></button>
                <button class="game-btn" data-game="krankenwagen"><div class="icon">üöë</div><div class="title">Rettungs-Held</div><div class="levels">5 Level</div></button>
                <button class="game-btn" data-game="traktor"><div class="icon">üöú</div><div class="title">Traktor-Held</div><div class="levels">5 Level</div></button>
            </div>
        </div>
    </div>
    
    <button id="back-btn">‚Üê</button>
    <div id="game-frame"><iframe id="iframe" sandbox="allow-scripts allow-same-origin"></iframe></div>

<script>
const GAMES = {};
GAMES['mathe'] = 'PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImRlIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyI+CiAgICA8dGl0bGU+4p6VIE1hdGhlLU1laXN0ZXIhPC90aXRsZT4KICAgIDxzdHlsZT4KICAgICAgICBAaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1GcmVkb2thOndnaHRANDAwOzYwMDs3MDAmZGlzcGxheT1zd2FwJyk7CiAgICAgICAgKiB7IG1hcmdpbjogMDsgcGFkZGluZzogMDsgYm94LXNpemluZzogYm9yZGVyLWJveDsgfQogICAgICAgIGJvZHkgeyBmb250LWZhbWlseTogJ0ZyZWRva2EnLCBzYW5zLXNlcmlmOyBtaW4taGVpZ2h0OiAxMDB2aDsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTsgb3ZlcmZsb3c6IGhpZGRlbjsgdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb247IH0KICAgICAgICAjZ2FtZS1jb250YWluZXIgeyBwb3NpdGlvbjogcmVsYXRpdmU7IHdpZHRoOiAxMDB2dzsgaGVpZ2h0OiAxMDB2aDsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgfQogICAgICAgICN0b3AtYmFyIHsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogMTJweDsgcGFkZGluZzogMTJweDsgZmxleC13cmFwOiB3cmFwOyB9CiAgICAgICAgLnN0YXQtYm94IHsgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjkpOyBjb2xvcjogIzMzMzsgcGFkZGluZzogOHB4IDE4cHg7IGJvcmRlci1yYWRpdXM6IDI1cHg7IGZvbnQtc2l6ZTogMTdweDsgZm9udC13ZWlnaHQ6IDYwMDsgfQogICAgICAgICNzb3VuZC10b2dnbGUgeyBiYWNrZ3JvdW5kOiAjMzQ5OERCOyBib3JkZXI6IG5vbmU7IHBhZGRpbmc6IDhweCAxNXB4OyBib3JkZXItcmFkaXVzOiAyNXB4OyBmb250LXNpemU6IDE4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAgICNnYW1lLWFyZWEgeyBmbGV4OiAxOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgcGFkZGluZzogMjBweDsgfQogICAgICAgICNwcm9ibGVtLWFyZWEgeyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuOTUpOyBwYWRkaW5nOiAzMHB4IDUwcHg7IGJvcmRlci1yYWRpdXM6IDI1cHg7IG1hcmdpbi1ib3R0b206IDI1cHg7IGJveC1zaGFkb3c6IDAgOHB4IDMwcHggcmdiYSgwLDAsMCwwLjIpOyB9CiAgICAgICAgI3Byb2JsZW0tdGV4dCB7IGZvbnQtc2l6ZTogNTVweDsgY29sb3I6ICMzMzM7IGZvbnQtd2VpZ2h0OiBib2xkOyB0ZXh0LWFsaWduOiBjZW50ZXI7IH0KICAgICAgICAjdmlzdWFsLWFpZCB7IGZvbnQtc2l6ZTogMzBweDsgbWFyZ2luLXRvcDogMTBweDsgdGV4dC1hbGlnbjogY2VudGVyOyB9CiAgICAgICAgI2Fuc3dlcnMtY29udGFpbmVyIHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMiwgMWZyKTsgZ2FwOiAxNXB4OyBtYXgtd2lkdGg6IDMyMHB4OyB9CiAgICAgICAgLmFuc3dlci1idG4geyBwYWRkaW5nOiAyMHB4IDM1cHg7IGZvbnQtc2l6ZTogMzJweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGJhY2tncm91bmQ6IHdoaXRlOyBib3JkZXI6IG5vbmU7IGJvcmRlci1yYWRpdXM6IDIwcHg7IGN1cnNvcjogcG9pbnRlcjsgYm94LXNoYWRvdzogMCA1cHggMCByZ2JhKDAsMCwwLDAuMSk7IHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjE1czsgZm9udC1mYW1pbHk6ICdGcmVkb2thJywgc2Fucy1zZXJpZjsgfQogICAgICAgIC5hbnN3ZXItYnRuOmFjdGl2ZSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgzcHgpOyBib3gtc2hhZG93OiAwIDJweCAwIHJnYmEoMCwwLDAsMC4xKTsgfQogICAgICAgIC5hbnN3ZXItYnRuLmNvcnJlY3QgeyBiYWNrZ3JvdW5kOiAjMkVDQzcxOyBjb2xvcjogd2hpdGU7IH0KICAgICAgICAuYW5zd2VyLWJ0bi53cm9uZyB7IGJhY2tncm91bmQ6ICNFNzRDM0M7IGNvbG9yOiB3aGl0ZTsgfQogICAgICAgICNzdHJlYWstZGlzcGxheSB7IGNvbG9yOiB3aGl0ZTsgZm9udC1zaXplOiAyNHB4OyBtYXJnaW4tdG9wOiAyMHB4OyB9CiAgICAgICAgI3N0YXJ0LXNjcmVlbiwgI3dpbi1zY3JlZW4sICNsZXZlbC1zY3JlZW4geyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IHotaW5kZXg6IDIwMDsgZ2FwOiAyMHB4OyB9CiAgICAgICAgI3dpbi1zY3JlZW4geyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMTE5OThlIDAlLCAjMzhlZjdkIDEwMCUpOyB9CiAgICAgICAgLnNjcmVlbi10aXRsZSB7IGZvbnQtc2l6ZTogNDRweDsgY29sb3I6IHdoaXRlOyB0ZXh0LXNoYWRvdzogMCA0cHggMCByZ2JhKDAsMCwwLDAuMik7IHRleHQtYWxpZ246IGNlbnRlcjsgfQogICAgICAgIC5zY3JlZW4taWNvbiB7IGZvbnQtc2l6ZTogNzBweDsgfQogICAgICAgIC5zdGFydC1idG4geyBiYWNrZ3JvdW5kOiAjRjFDNDBGOyBjb2xvcjogIzMzMzsgYm9yZGVyOiBub25lOyBwYWRkaW5nOiAxOHB4IDQ1cHg7IGZvbnQtc2l6ZTogMjRweDsgZm9udC1mYW1pbHk6ICdGcmVkb2thJywgc2Fucy1zZXJpZjsgZm9udC13ZWlnaHQ6IDcwMDsgYm9yZGVyLXJhZGl1czogNTBweDsgY3Vyc29yOiBwb2ludGVyOyBib3gtc2hhZG93OiAwIDVweCAwICNENEFDMEQ7IH0KICAgICAgICAuc3RhcnQtYnRuOmFjdGl2ZSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgzcHgpOyBib3gtc2hhZG93OiAwIDJweCAwICNENEFDMEQ7IH0KICAgICAgICAuaGlkZGVuIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGRpdiBpZD0iZ2FtZS1jb250YWluZXIiPgogICAgICAgIDxkaXYgaWQ9InRvcC1iYXIiPgogICAgICAgICAgICA8YnV0dG9uIGlkPSJzb3VuZC10b2dnbGUiPvCflIo8L2J1dHRvbj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPuKtkCA8c3BhbiBpZD0ic2NvcmUiPjA8L3NwYW4+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtYm94Ij7wn46vIDxzcGFuIGlkPSJyb3VuZCI+MTwvc3Bhbj4vPHNwYW4gaWQ9InRvdGFsIj4xMDwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPkx2IDxzcGFuIGlkPSJsZXZlbCI+MTwvc3Bhbj48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJnYW1lLWFyZWEiPgogICAgICAgICAgICA8ZGl2IGlkPSJwcm9ibGVtLWFyZWEiPgogICAgICAgICAgICAgICAgPGRpdiBpZD0icHJvYmxlbS10ZXh0Ij4zICsgMiA9ID88L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9InZpc3VhbC1haWQiPvCfjY7wn42O8J+NjiArIPCfjY7wn42OPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGlkPSJhbnN3ZXJzLWNvbnRhaW5lciI+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgaWQ9InN0cmVhay1kaXNwbGF5Ij7wn5SlIFNlcmllOiA8c3BhbiBpZD0ic3RyZWFrIj4wPC9zcGFuPjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9InN0YXJ0LXNjcmVlbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNjcmVlbi1pY29uIj7inpU8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPk1hdGhlLU1laXN0ZXIhPC9oMT4KICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOndoaXRlO2ZvbnQtc2l6ZToxNnB4O3RleHQtYWxpZ246Y2VudGVyOyI+TMO2c2UgZGllIFJlY2hlbmF1ZmdhYmVuITxicj5QbHVzLCBNaW51cyB1bmQgbWVociE8L3A+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InN0YXJ0LWJ0biIgb25jbGljaz0ic3RhcnRHYW1lKCkiPvCfjq4gU3RhcnQhPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0ibGV2ZWwtc2NyZWVuIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPuKelTwvZGl2PgogICAgICAgICAgICA8aDEgY2xhc3M9InNjcmVlbi10aXRsZSI+TGV2ZWwgPHNwYW4gaWQ9ImxldmVsLW51bWJlciI+MTwvc3Bhbj48L2gxPgogICAgICAgICAgICA8cCBpZD0ibGV2ZWwtZGVzYyIgc3R5bGU9ImNvbG9yOndoaXRlO2ZvbnQtc2l6ZToxOHB4OyI+PC9wPgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9Indpbi1zY3JlZW4iIGNsYXNzPSJoaWRkZW4iPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzY3JlZW4taWNvbiI+8J+PhjwvZGl2PgogICAgICAgICAgICA8aDEgY2xhc3M9InNjcmVlbi10aXRsZSI+TWF0aGUtR2VuaWUhPC9oMT4KICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOndoaXRlO2ZvbnQtc2l6ZToyNHB4OyI+4q2QIDxzcGFuIGlkPSJmaW5hbC1zY29yZSI+MDwvc3Bhbj48L3A+CiAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjp3aGl0ZTtmb250LXNpemU6MThweDsiPkJlc3RlIFNlcmllOiA8c3BhbiBpZD0iYmVzdC1zdHJlYWsiPjA8L3NwYW4+IPCflKU8L3A+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InN0YXJ0LWJ0biIgb25jbGljaz0ic3RhcnRHYW1lKCkiPvCflIQgTm9jaG1hbCE8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDxzY3JpcHQ+CiAgICAgICAgY29uc3QgcHJvYmxlbVRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvYmxlbS10ZXh0Jyk7CiAgICAgICAgY29uc3QgdmlzdWFsQWlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Zpc3VhbC1haWQnKTsKICAgICAgICBjb25zdCBhbnN3ZXJzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Fuc3dlcnMtY29udGFpbmVyJyk7CiAgICAgICAgY29uc3Qgc2NvcmVEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlJyk7CiAgICAgICAgY29uc3Qgcm91bmREaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JvdW5kJyk7CiAgICAgICAgY29uc3QgdG90YWxEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvdGFsJyk7CiAgICAgICAgY29uc3QgbGV2ZWxEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsJyk7CiAgICAgICAgY29uc3Qgc3RyZWFrRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdHJlYWsnKTsKICAgICAgICBjb25zdCBsZXZlbE51bWJlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC1udW1iZXInKTsKICAgICAgICBjb25zdCBsZXZlbERlc2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwtZGVzYycpOwogICAgICAgIGNvbnN0IHN0YXJ0U2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0LXNjcmVlbicpOwogICAgICAgIGNvbnN0IHdpblNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aW4tc2NyZWVuJyk7CiAgICAgICAgY29uc3QgbGV2ZWxTY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwtc2NyZWVuJyk7CiAgICAgICAgY29uc3QgZmluYWxTY29yZURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmluYWwtc2NvcmUnKTsKICAgICAgICBjb25zdCBiZXN0U3RyZWFrRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZXN0LXN0cmVhaycpOwogICAgICAgIGNvbnN0IHNvdW5kVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvdW5kLXRvZ2dsZScpOwogICAgICAgIAogICAgICAgIGxldCBsZXZlbCA9IDEsIHNjb3JlID0gMCwgcm91bmQgPSAxLCB0b3RhbFJvdW5kcyA9IDEwOwogICAgICAgIGxldCBjdXJyZW50QW5zd2VyID0gMCwgc3RyZWFrID0gMCwgYmVzdFN0cmVhayA9IDA7CiAgICAgICAgbGV0IHNvdW5kRW5hYmxlZCA9IHRydWUsIGNhbkFuc3dlciA9IHRydWU7CiAgICAgICAgbGV0IGF1ZGlvQ3R4ID0gbnVsbDsKICAgICAgICAKICAgICAgICBjb25zdCBsZXZlbENvbmZpZ3MgPSBbCiAgICAgICAgICAgIHsgcm91bmRzOiA4LCBtYXhOdW06IDUsIG9wczogWycrJ10sIGRlc2M6ICdBZGRpdGlvbiBiaXMgNScsIHZpc3VhbDogdHJ1ZSB9LAogICAgICAgICAgICB7IHJvdW5kczogMTAsIG1heE51bTogMTAsIG9wczogWycrJ10sIGRlc2M6ICdBZGRpdGlvbiBiaXMgMTAnLCB2aXN1YWw6IHRydWUgfSwKICAgICAgICAgICAgeyByb3VuZHM6IDEwLCBtYXhOdW06IDEwLCBvcHM6IFsnKycsICctJ10sIGRlc2M6ICdQbHVzIHVuZCBNaW51cyBiaXMgMTAnLCB2aXN1YWw6IGZhbHNlIH0sCiAgICAgICAgICAgIHsgcm91bmRzOiAxMiwgbWF4TnVtOiAyMCwgb3BzOiBbJysnLCAnLSddLCBkZXNjOiAnUGx1cyB1bmQgTWludXMgYmlzIDIwJywgdmlzdWFsOiBmYWxzZSB9LAogICAgICAgICAgICB7IHJvdW5kczogMTIsIG1heE51bTogMTAsIG9wczogWyfDlyddLCBkZXNjOiAnS2xlaW5lIE11bHRpcGxpa2F0aW9uJywgdmlzdWFsOiBmYWxzZSB9CiAgICAgICAgXTsKICAgICAgICAKICAgICAgICBmdW5jdGlvbiBpbml0QXVkaW8oKSB7IGlmICghYXVkaW9DdHgpIGF1ZGlvQ3R4ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKCk7IH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBwbGF5U291bmQodHlwZSkgewogICAgICAgICAgICBpZiAoIXNvdW5kRW5hYmxlZCB8fCAhYXVkaW9DdHgpIHJldHVybjsKICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdjb3JyZWN0JykgewogICAgICAgICAgICAgICAgY29uc3QgYmFzZUZyZXEgPSA0MDAgKyBzdHJlYWsgKiA1MDsKICAgICAgICAgICAgICAgIFtiYXNlRnJlcSwgYmFzZUZyZXEgKiAxLjI1LCBiYXNlRnJlcSAqIDEuNV0uZm9yRWFjaCgoZiwgaSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG8gPSBhdWRpb0N0eC5jcmVhdGVPc2NpbGxhdG9yKCksIGcgPSBhdWRpb0N0eC5jcmVhdGVHYWluKCk7CiAgICAgICAgICAgICAgICAgICAgby5jb25uZWN0KGcpOyBnLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pOwogICAgICAgICAgICAgICAgICAgIG8uZnJlcXVlbmN5LnZhbHVlID0gTWF0aC5taW4oZiwgMTIwMCk7CiAgICAgICAgICAgICAgICAgICAgZy5nYWluLnNldFZhbHVlQXRUaW1lKDAuMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4wOCk7CiAgICAgICAgICAgICAgICAgICAgZy5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4wOCArIDAuMTIpOwogICAgICAgICAgICAgICAgICAgIG8uc3RhcnQoYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4wOCk7CiAgICAgICAgICAgICAgICAgICAgby5zdG9wKGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMDggKyAwLjEyKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd3cm9uZycpIHsKICAgICAgICAgICAgICAgIGNvbnN0IG9zYyA9IGF1ZGlvQ3R4LmNyZWF0ZU9zY2lsbGF0b3IoKSwgZ2FpbiA9IGF1ZGlvQ3R4LmNyZWF0ZUdhaW4oKTsKICAgICAgICAgICAgICAgIG9zYy5jb25uZWN0KGdhaW4pOyBnYWluLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pOwogICAgICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZSgyMDAsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsKICAgICAgICAgICAgICAgIG9zYy5mcmVxdWVuY3kuZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgxMDAsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4yKTsKICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjEyLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBnYWluLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAxLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMjUpOwogICAgICAgICAgICAgICAgb3NjLnN0YXJ0KCk7IG9zYy5zdG9wKGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4yNSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgc291bmRUb2dnbGUub25jbGljayA9ICgpID0+IHsgc291bmRFbmFibGVkID0gIXNvdW5kRW5hYmxlZDsgc291bmRUb2dnbGUudGV4dENvbnRlbnQgPSBzb3VuZEVuYWJsZWQgPyAn8J+UiicgOiAn8J+Uhyc7IH07CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVQcm9ibGVtKCkgewogICAgICAgICAgICBjb25zdCBjb25maWcgPSBsZXZlbENvbmZpZ3NbbGV2ZWwgLSAxXTsKICAgICAgICAgICAgY29uc3Qgb3AgPSBjb25maWcub3BzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNvbmZpZy5vcHMubGVuZ3RoKV07CiAgICAgICAgICAgIGxldCBhLCBiLCBhbnN3ZXI7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAob3AgPT09ICcrJykgewogICAgICAgICAgICAgICAgYSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNvbmZpZy5tYXhOdW0pICsgMTsKICAgICAgICAgICAgICAgIGIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoY29uZmlnLm1heE51bSAtIGEgKyAxKSkgKyAxOwogICAgICAgICAgICAgICAgYW5zd2VyID0gYSArIGI7CiAgICAgICAgICAgIH0gZWxzZSBpZiAob3AgPT09ICctJykgewogICAgICAgICAgICAgICAgYW5zd2VyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY29uZmlnLm1heE51bSkgKyAxOwogICAgICAgICAgICAgICAgYiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFuc3dlcikgKyAxOwogICAgICAgICAgICAgICAgYSA9IGFuc3dlciArIGI7CiAgICAgICAgICAgICAgICBhbnN3ZXIgPSBhIC0gYjsKICAgICAgICAgICAgfSBlbHNlIGlmIChvcCA9PT0gJ8OXJykgewogICAgICAgICAgICAgICAgYSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNvbmZpZy5tYXhOdW0pICsgMTsKICAgICAgICAgICAgICAgIGIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjb25maWcubWF4TnVtKSArIDE7CiAgICAgICAgICAgICAgICBhbnN3ZXIgPSBhICogYjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgY3VycmVudEFuc3dlciA9IGFuc3dlcjsKICAgICAgICAgICAgcHJvYmxlbVRleHQudGV4dENvbnRlbnQgPSBgJHthfSAke29wfSAke2J9ID0gP2A7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBWaXN1YWwgYWlkCiAgICAgICAgICAgIGlmIChjb25maWcudmlzdWFsICYmIG9wID09PSAnKycpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGVtb2ppID0gWyfwn42OJywgJ+KtkCcsICfwn5S1JywgJ/CfkponXVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KV07CiAgICAgICAgICAgICAgICB2aXN1YWxBaWQudGV4dENvbnRlbnQgPSBlbW9qaS5yZXBlYXQoYSkgKyAnICsgJyArIGVtb2ppLnJlcGVhdChiKTsKICAgICAgICAgICAgICAgIHZpc3VhbEFpZC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZpc3VhbEFpZC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICByZXR1cm4gYW5zd2VyOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBzZXR1cFJvdW5kKCkgewogICAgICAgICAgICBjYW5BbnN3ZXIgPSB0cnVlOwogICAgICAgICAgICBjb25zdCBhbnN3ZXIgPSBnZW5lcmF0ZVByb2JsZW0oKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEdlbmVyYXRlIHdyb25nIGFuc3dlcnMKICAgICAgICAgICAgY29uc3Qgd3JvbmdBbnN3ZXJzID0gbmV3IFNldCgpOwogICAgICAgICAgICB3aGlsZSAod3JvbmdBbnN3ZXJzLnNpemUgPCAzKSB7CiAgICAgICAgICAgICAgICBsZXQgd3JvbmcgPSBhbnN3ZXIgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA3KSAtIDM7CiAgICAgICAgICAgICAgICBpZiAod3JvbmcgIT09IGFuc3dlciAmJiB3cm9uZyA+PSAwICYmIHdyb25nIDw9IDEwMCkgewogICAgICAgICAgICAgICAgICAgIHdyb25nQW5zd2Vycy5hZGQod3JvbmcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBjaG9pY2VzID0gW2Fuc3dlciwgLi4ud3JvbmdBbnN3ZXJzXTsKICAgICAgICAgICAgY2hvaWNlcy5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ3JlYXRlIGJ1dHRvbnMKICAgICAgICAgICAgYW5zd2Vyc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgY2hvaWNlcy5mb3JFYWNoKG51bSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgICAgIGJ0bi5jbGFzc05hbWUgPSAnYW5zd2VyLWJ0bic7CiAgICAgICAgICAgICAgICBidG4udGV4dENvbnRlbnQgPSBudW07CiAgICAgICAgICAgICAgICBidG4ub25jbGljayA9ICgpID0+IGhhbmRsZUFuc3dlcihudW0sIGJ0bik7CiAgICAgICAgICAgICAgICBhbnN3ZXJzQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ0bik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBoYW5kbGVBbnN3ZXIobnVtLCBidG4pIHsKICAgICAgICAgICAgaWYgKCFjYW5BbnN3ZXIpIHJldHVybjsKICAgICAgICAgICAgY2FuQW5zd2VyID0gZmFsc2U7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAobnVtID09PSBjdXJyZW50QW5zd2VyKSB7CiAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZCgnY29ycmVjdCcpOwogICAgICAgICAgICAgICAgcGxheVNvdW5kKCdjb3JyZWN0Jyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0cmVhaysrOwogICAgICAgICAgICAgICAgYmVzdFN0cmVhayA9IE1hdGgubWF4KGJlc3RTdHJlYWssIHN0cmVhayk7CiAgICAgICAgICAgICAgICBzY29yZSArPSAxMCArIHN0cmVhayAqIDI7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHNjb3JlRGlzcGxheS50ZXh0Q29udGVudCA9IHNjb3JlOwogICAgICAgICAgICAgICAgc3RyZWFrRGlzcGxheS50ZXh0Q29udGVudCA9IHN0cmVhazsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcm91bmQrKzsKICAgICAgICAgICAgICAgIGlmIChyb3VuZCA+IHRvdGFsUm91bmRzKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChsZXZlbENvbXBsZXRlLCA4MDApOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByb3VuZERpc3BsYXkudGV4dENvbnRlbnQgPSByb3VuZDsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHNldHVwUm91bmQsIDgwMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZCgnd3JvbmcnKTsKICAgICAgICAgICAgICAgIHBsYXlTb3VuZCgnd3JvbmcnKTsKICAgICAgICAgICAgICAgIHN0cmVhayA9IDA7CiAgICAgICAgICAgICAgICBzdHJlYWtEaXNwbGF5LnRleHRDb250ZW50ID0gc3RyZWFrOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBTaG93IGNvcnJlY3QgYW5zd2VyCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYW5zd2VyLWJ0bicpLmZvckVhY2goYiA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUludChiLnRleHRDb250ZW50KSA9PT0gY3VycmVudEFuc3dlcikgYi5jbGFzc0xpc3QuYWRkKCdjb3JyZWN0Jyk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByb3VuZCsrOwogICAgICAgICAgICAgICAgaWYgKHJvdW5kID4gdG90YWxSb3VuZHMpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGxldmVsQ29tcGxldGUsIDEyMDApOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByb3VuZERpc3BsYXkudGV4dENvbnRlbnQgPSByb3VuZDsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHNldHVwUm91bmQsIDE1MDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGxldmVsQ29tcGxldGUoKSB7CiAgICAgICAgICAgIGxldmVsKys7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAobGV2ZWwgPiBsZXZlbENvbmZpZ3MubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBmaW5hbFNjb3JlRGlzcGxheS50ZXh0Q29udGVudCA9IHNjb3JlOwogICAgICAgICAgICAgICAgYmVzdFN0cmVha0Rpc3BsYXkudGV4dENvbnRlbnQgPSBiZXN0U3RyZWFrOwogICAgICAgICAgICAgICAgd2luU2NyZWVuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2hvd0xldmVsU2NyZWVuKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gc2hvd0xldmVsU2NyZWVuKCkgewogICAgICAgICAgICBjb25zdCBjb25maWcgPSBsZXZlbENvbmZpZ3NbbGV2ZWwgLSAxXTsKICAgICAgICAgICAgbGV2ZWxOdW1iZXIudGV4dENvbnRlbnQgPSBsZXZlbDsKICAgICAgICAgICAgbGV2ZWxEZXNjLnRleHRDb250ZW50ID0gY29uZmlnLmRlc2M7CiAgICAgICAgICAgIGxldmVsU2NyZWVuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgICAgICAgICAKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBsZXZlbFNjcmVlbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICAgICAgICAgIHJvdW5kID0gMTsKICAgICAgICAgICAgICAgIHRvdGFsUm91bmRzID0gY29uZmlnLnJvdW5kczsKICAgICAgICAgICAgICAgIHJvdW5kRGlzcGxheS50ZXh0Q29udGVudCA9IHJvdW5kOwogICAgICAgICAgICAgICAgdG90YWxEaXNwbGF5LnRleHRDb250ZW50ID0gdG90YWxSb3VuZHM7CiAgICAgICAgICAgICAgICBsZXZlbERpc3BsYXkudGV4dENvbnRlbnQgPSBsZXZlbDsKICAgICAgICAgICAgICAgIHNldHVwUm91bmQoKTsKICAgICAgICAgICAgfSwgMTUwMCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHN0YXJ0R2FtZSgpIHsKICAgICAgICAgICAgaW5pdEF1ZGlvKCk7CiAgICAgICAgICAgIGxldmVsID0gMTsKICAgICAgICAgICAgc2NvcmUgPSAwOwogICAgICAgICAgICByb3VuZCA9IDE7CiAgICAgICAgICAgIHN0cmVhayA9IDA7CiAgICAgICAgICAgIGJlc3RTdHJlYWsgPSAwOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgY29uZmlnID0gbGV2ZWxDb25maWdzWzBdOwogICAgICAgICAgICB0b3RhbFJvdW5kcyA9IGNvbmZpZy5yb3VuZHM7CiAgICAgICAgICAgIAogICAgICAgICAgICBzY29yZURpc3BsYXkudGV4dENvbnRlbnQgPSBzY29yZTsKICAgICAgICAgICAgcm91bmREaXNwbGF5LnRleHRDb250ZW50ID0gcm91bmQ7CiAgICAgICAgICAgIHRvdGFsRGlzcGxheS50ZXh0Q29udGVudCA9IHRvdGFsUm91bmRzOwogICAgICAgICAgICBsZXZlbERpc3BsYXkudGV4dENvbnRlbnQgPSBsZXZlbDsKICAgICAgICAgICAgc3RyZWFrRGlzcGxheS50ZXh0Q29udGVudCA9IHN0cmVhazsKICAgICAgICAgICAgCiAgICAgICAgICAgIHN0YXJ0U2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgICAgICB3aW5TY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBzZXR1cFJvdW5kKCk7CiAgICAgICAgfQogICAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo=';
GAMES['abc'] = 'PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImRlIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyI+CiAgICA8dGl0bGU+8J+TmiBBQkMtTWVpc3RlciE8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICAgIEBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PUZyZWRva2E6d2dodEA0MDA7NjAwOzcwMCZkaXNwbGF5PXN3YXAnKTsKICAgICAgICAqIHsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9CiAgICAgICAgYm9keSB7IGZvbnQtZmFtaWx5OiAnRnJlZG9rYScsIHNhbnMtc2VyaWY7IG1pbi1oZWlnaHQ6IDEwMHZoOyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMTE5OThlIDAlLCAjMzhlZjdkIDEwMCUpOyBvdmVyZmxvdzogaGlkZGVuOyB0b3VjaC1hY3Rpb246IG1hbmlwdWxhdGlvbjsgfQogICAgICAgICNnYW1lLWNvbnRhaW5lciB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgd2lkdGg6IDEwMHZ3OyBoZWlnaHQ6IDEwMHZoOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBhbGlnbi1pdGVtczogY2VudGVyOyB9CiAgICAgICAgI3RvcC1iYXIgeyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiAxMnB4OyBwYWRkaW5nOiAxMnB4OyBmbGV4LXdyYXA6IHdyYXA7IH0KICAgICAgICAuc3RhdC1ib3ggeyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuOSk7IGNvbG9yOiAjMzMzOyBwYWRkaW5nOiA4cHggMThweDsgYm9yZGVyLXJhZGl1czogMjVweDsgZm9udC1zaXplOiAxN3B4OyBmb250LXdlaWdodDogNjAwOyB9CiAgICAgICAgI3NvdW5kLXRvZ2dsZSB7IGJhY2tncm91bmQ6ICMzNDk4REI7IGJvcmRlcjogbm9uZTsgcGFkZGluZzogOHB4IDE1cHg7IGJvcmRlci1yYWRpdXM6IDI1cHg7IGZvbnQtc2l6ZTogMThweDsgY3Vyc29yOiBwb2ludGVyOyB9CiAgICAgICAgI2dhbWUtYXJlYSB7IGZsZXg6IDE7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyBwYWRkaW5nOiAyMHB4OyB9CiAgICAgICAgI3F1ZXN0aW9uLWFyZWEgeyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuOTUpOyBwYWRkaW5nOiAyNXB4IDQwcHg7IGJvcmRlci1yYWRpdXM6IDI1cHg7IG1hcmdpbi1ib3R0b206IDI1cHg7IGJveC1zaGFkb3c6IDAgOHB4IDMwcHggcmdiYSgwLDAsMCwwLjIpOyB0ZXh0LWFsaWduOiBjZW50ZXI7IH0KICAgICAgICAjcXVlc3Rpb24tZW1vamkgeyBmb250LXNpemU6IDgwcHg7IG1hcmdpbi1ib3R0b206IDEwcHg7IH0KICAgICAgICAjcXVlc3Rpb24tdGV4dCB7IGZvbnQtc2l6ZTogMjJweDsgY29sb3I6ICMzMzM7IH0KICAgICAgICAjbGV0dGVyLWRpc3BsYXkgeyBmb250LXNpemU6IDEwMHB4OyBjb2xvcjogI0U3NEMzQzsgZm9udC13ZWlnaHQ6IGJvbGQ7IH0KICAgICAgICAjYW5zd2Vycy1jb250YWluZXIgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgyLCAxZnIpOyBnYXA6IDE1cHg7IG1heC13aWR0aDogMzUwcHg7IH0KICAgICAgICAuYW5zd2VyLWJ0biB7IHBhZGRpbmc6IDIwcHg7IGZvbnQtc2l6ZTogMjJweDsgZm9udC13ZWlnaHQ6IDYwMDsgYmFja2dyb3VuZDogd2hpdGU7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXJhZGl1czogMjBweDsgY3Vyc29yOiBwb2ludGVyOyBib3gtc2hhZG93OiAwIDVweCAwIHJnYmEoMCwwLDAsMC4xKTsgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMTVzOyBmb250LWZhbWlseTogJ0ZyZWRva2EnLCBzYW5zLXNlcmlmOyB9CiAgICAgICAgLmFuc3dlci1idG46YWN0aXZlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDNweCk7IGJveC1zaGFkb3c6IDAgMnB4IDAgcmdiYSgwLDAsMCwwLjEpOyB9CiAgICAgICAgLmFuc3dlci1idG4uY29ycmVjdCB7IGJhY2tncm91bmQ6ICMyRUNDNzE7IGNvbG9yOiB3aGl0ZTsgfQogICAgICAgIC5hbnN3ZXItYnRuLndyb25nIHsgYmFja2dyb3VuZDogI0U3NEMzQzsgY29sb3I6IHdoaXRlOyB9CiAgICAgICAgI3N0YXJ0LXNjcmVlbiwgI3dpbi1zY3JlZW4sICNsZXZlbC1zY3JlZW4geyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzExOTk4ZSAwJSwgIzM4ZWY3ZCAxMDAlKTsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IHotaW5kZXg6IDIwMDsgZ2FwOiAyMHB4OyB9CiAgICAgICAgI3dpbi1zY3JlZW4geyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpOyB9CiAgICAgICAgLnNjcmVlbi10aXRsZSB7IGZvbnQtc2l6ZTogNDRweDsgY29sb3I6IHdoaXRlOyB0ZXh0LXNoYWRvdzogMCA0cHggMCByZ2JhKDAsMCwwLDAuMik7IHRleHQtYWxpZ246IGNlbnRlcjsgfQogICAgICAgIC5zY3JlZW4taWNvbiB7IGZvbnQtc2l6ZTogNzBweDsgfQogICAgICAgIC5zdGFydC1idG4geyBiYWNrZ3JvdW5kOiAjRjFDNDBGOyBjb2xvcjogIzMzMzsgYm9yZGVyOiBub25lOyBwYWRkaW5nOiAxOHB4IDQ1cHg7IGZvbnQtc2l6ZTogMjRweDsgZm9udC1mYW1pbHk6ICdGcmVkb2thJywgc2Fucy1zZXJpZjsgZm9udC13ZWlnaHQ6IDcwMDsgYm9yZGVyLXJhZGl1czogNTBweDsgY3Vyc29yOiBwb2ludGVyOyBib3gtc2hhZG93OiAwIDVweCAwICNENEFDMEQ7IH0KICAgICAgICAuc3RhcnQtYnRuOmFjdGl2ZSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgzcHgpOyBib3gtc2hhZG93OiAwIDJweCAwICNENEFDMEQ7IH0KICAgICAgICAuaGlkZGVuIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGRpdiBpZD0iZ2FtZS1jb250YWluZXIiPgogICAgICAgIDxkaXYgaWQ9InRvcC1iYXIiPgogICAgICAgICAgICA8YnV0dG9uIGlkPSJzb3VuZC10b2dnbGUiPvCflIo8L2J1dHRvbj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPuKtkCA8c3BhbiBpZD0ic2NvcmUiPjA8L3NwYW4+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtYm94Ij7wn46vIDxzcGFuIGlkPSJyb3VuZCI+MTwvc3Bhbj4vPHNwYW4gaWQ9InRvdGFsIj4xMDwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPkx2IDxzcGFuIGlkPSJsZXZlbCI+MTwvc3Bhbj48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJnYW1lLWFyZWEiPgogICAgICAgICAgICA8ZGl2IGlkPSJxdWVzdGlvbi1hcmVhIj4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9InF1ZXN0aW9uLWVtb2ppIj7wn42OPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJxdWVzdGlvbi10ZXh0Ij5NaXQgd2VsY2hlbSBCdWNoc3RhYmVuIGJlZ2lubnQuLi48L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImxldHRlci1kaXNwbGF5Ij5BPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGlkPSJhbnN3ZXJzLWNvbnRhaW5lciI+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0ic3RhcnQtc2NyZWVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPvCfk5o8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPkFCQy1NZWlzdGVyITwvaDE+CiAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjp3aGl0ZTtmb250LXNpemU6MTZweDt0ZXh0LWFsaWduOmNlbnRlcjsiPkxlcm5lIGRhcyBBbHBoYWJldCE8YnI+RmluZGUgZGVuIHJpY2h0aWdlbiBBbmZhbmdzYnVjaHN0YWJlbiE8L3A+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InN0YXJ0LWJ0biIgb25jbGljaz0ic3RhcnRHYW1lKCkiPvCfjq4gU3RhcnQhPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0ibGV2ZWwtc2NyZWVuIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPvCfk5o8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPkxldmVsIDxzcGFuIGlkPSJsZXZlbC1udW1iZXIiPjE8L3NwYW4+PC9oMT4KICAgICAgICAgICAgPHAgaWQ9ImxldmVsLWRlc2MiIHN0eWxlPSJjb2xvcjp3aGl0ZTtmb250LXNpemU6MThweDsiPjwvcD4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJ3aW4tc2NyZWVuIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPvCfj4Y8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPkFCQy1Qcm9maSE8L2gxPgogICAgICAgICAgICA8cCBzdHlsZT0iY29sb3I6d2hpdGU7Zm9udC1zaXplOjI0cHg7Ij7irZAgPHNwYW4gaWQ9ImZpbmFsLXNjb3JlIj4wPC9zcGFuPjwvcD4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic3RhcnQtYnRuIiBvbmNsaWNrPSJzdGFydEdhbWUoKSI+8J+UhCBOb2NobWFsITwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPHNjcmlwdD4KICAgICAgICBjb25zdCBxdWVzdGlvbkVtb2ppID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1ZXN0aW9uLWVtb2ppJyk7CiAgICAgICAgY29uc3QgcXVlc3Rpb25UZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1ZXN0aW9uLXRleHQnKTsKICAgICAgICBjb25zdCBsZXR0ZXJEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldHRlci1kaXNwbGF5Jyk7CiAgICAgICAgY29uc3QgYW5zd2Vyc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbnN3ZXJzLWNvbnRhaW5lcicpOwogICAgICAgIGNvbnN0IHNjb3JlRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZScpOwogICAgICAgIGNvbnN0IHJvdW5kRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb3VuZCcpOwogICAgICAgIGNvbnN0IHRvdGFsRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3RhbCcpOwogICAgICAgIGNvbnN0IGxldmVsRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbCcpOwogICAgICAgIGNvbnN0IGxldmVsTnVtYmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLW51bWJlcicpOwogICAgICAgIGNvbnN0IGxldmVsRGVzYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC1kZXNjJyk7CiAgICAgICAgY29uc3Qgc3RhcnRTY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnQtc2NyZWVuJyk7CiAgICAgICAgY29uc3Qgd2luU2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpbi1zY3JlZW4nKTsKICAgICAgICBjb25zdCBsZXZlbFNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC1zY3JlZW4nKTsKICAgICAgICBjb25zdCBmaW5hbFNjb3JlRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaW5hbC1zY29yZScpOwogICAgICAgIGNvbnN0IHNvdW5kVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvdW5kLXRvZ2dsZScpOwogICAgICAgIAogICAgICAgIGxldCBsZXZlbCA9IDEsIHNjb3JlID0gMCwgcm91bmQgPSAxLCB0b3RhbFJvdW5kcyA9IDEwOwogICAgICAgIGxldCBjdXJyZW50QW5zd2VyID0gJycsIHNvdW5kRW5hYmxlZCA9IHRydWUsIGNhbkFuc3dlciA9IHRydWU7CiAgICAgICAgbGV0IGF1ZGlvQ3R4ID0gbnVsbDsKICAgICAgICAKICAgICAgICAvLyBXb3JkcyB3aXRoIGVtb2ppcyBhbmQgc3RhcnRpbmcgbGV0dGVycwogICAgICAgIGNvbnN0IHdvcmRCYW5rID0gWwogICAgICAgICAgICB7IGVtb2ppOiAn8J+NjicsIHdvcmQ6ICdBcGZlbCcsIGxldHRlcjogJ0EnIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn5C7Jywgd29yZDogJ0LDpHInLCBsZXR0ZXI6ICdCJyB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+koScsIHdvcmQ6ICdDbG93bicsIGxldHRlcjogJ0MnIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn6aVJywgd29yZDogJ0Rpbm8nLCBsZXR0ZXI6ICdEJyB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+QmCcsIHdvcmQ6ICdFbGVmYW50JywgbGV0dGVyOiAnRScgfSwKICAgICAgICAgICAgeyBlbW9qaTogJ/CfkJ8nLCB3b3JkOiAnRmlzY2gnLCBsZXR0ZXI6ICdGJyB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+mkicsIHdvcmQ6ICdHaXJhZmZlJywgbGV0dGVyOiAnRycgfSwKICAgICAgICAgICAgeyBlbW9qaTogJ/Cfj6AnLCB3b3JkOiAnSGF1cycsIGxldHRlcjogJ0gnIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn6aUJywgd29yZDogJ0lnZWwnLCBsZXR0ZXI6ICdJJyB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+DjycsIHdvcmQ6ICdKb2tlcicsIGxldHRlcjogJ0onIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn5CxJywgd29yZDogJ0thdHplJywgbGV0dGVyOiAnSycgfSwKICAgICAgICAgICAgeyBlbW9qaTogJ/CfpoEnLCB3b3JkOiAnTMO2d2UnLCBsZXR0ZXI6ICdMJyB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+MmScsIHdvcmQ6ICdNb25kJywgbGV0dGVyOiAnTScgfSwKICAgICAgICAgICAgeyBlbW9qaTogJ/CfpZwnLCB3b3JkOiAnTnVzcycsIGxldHRlcjogJ04nIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn42KJywgd29yZDogJ09yYW5nZScsIGxldHRlcjogJ08nIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn5CnJywgd29yZDogJ1Bpbmd1aW4nLCBsZXR0ZXI6ICdQJyB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+QuCcsIHdvcmQ6ICdRdWFrIChGcm9zY2gpJywgbGV0dGVyOiAnUScgfSwKICAgICAgICAgICAgeyBlbW9qaTogJ/CfmoAnLCB3b3JkOiAnUmFrZXRlJywgbGV0dGVyOiAnUicgfSwKICAgICAgICAgICAgeyBlbW9qaTogJ+KYgO+4jycsIHdvcmQ6ICdTb25uZScsIGxldHRlcjogJ1MnIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn5CvJywgd29yZDogJ1RpZ2VyJywgbGV0dGVyOiAnVCcgfSwKICAgICAgICAgICAgeyBlbW9qaTogJ+KPsCcsIHdvcmQ6ICdVaHInLCBsZXR0ZXI6ICdVJyB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+QpicsIHdvcmQ6ICdWb2dlbCcsIGxldHRlcjogJ1YnIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn5CLJywgd29yZDogJ1dhbCcsIGxldHRlcjogJ1cnIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn464Jywgd29yZDogJ1h5bG9waG9uJywgbGV0dGVyOiAnWCcgfSwKICAgICAgICAgICAgeyBlbW9qaTogJ+KYr++4jycsIHdvcmQ6ICdZaW4tWWFuZycsIGxldHRlcjogJ1knIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn6aTJywgd29yZDogJ1plYnJhJywgbGV0dGVyOiAnWicgfQogICAgICAgIF07CiAgICAgICAgCiAgICAgICAgY29uc3QgbGV2ZWxDb25maWdzID0gWwogICAgICAgICAgICB7IHJvdW5kczogOCwgY2hvaWNlczogMywgZGVzYzogJ0xlaWNodCAtIDMgQW50d29ydGVuJyB9LAogICAgICAgICAgICB7IHJvdW5kczogMTAsIGNob2ljZXM6IDQsIGRlc2M6ICdNaXR0ZWwgLSA0IEFudHdvcnRlbicgfSwKICAgICAgICAgICAgeyByb3VuZHM6IDEwLCBjaG9pY2VzOiA0LCBkZXNjOiAnU2Nod2VyZXIgLSA0IEFudHdvcnRlbicgfSwKICAgICAgICAgICAgeyByb3VuZHM6IDEyLCBjaG9pY2VzOiA1LCBkZXNjOiAnU2Nod2VyIC0gNSBBbnR3b3J0ZW4nIH0sCiAgICAgICAgICAgIHsgcm91bmRzOiAxMiwgY2hvaWNlczogNiwgZGVzYzogJ0V4cGVydGUgLSA2IEFudHdvcnRlbicgfQogICAgICAgIF07CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gaW5pdEF1ZGlvKCkgeyBpZiAoIWF1ZGlvQ3R4KSBhdWRpb0N0eCA9IG5ldyAod2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSgpOyB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gcGxheVNvdW5kKHR5cGUpIHsKICAgICAgICAgICAgaWYgKCFzb3VuZEVuYWJsZWQgfHwgIWF1ZGlvQ3R4KSByZXR1cm47CiAgICAgICAgICAgIGNvbnN0IG9zYyA9IGF1ZGlvQ3R4LmNyZWF0ZU9zY2lsbGF0b3IoKSwgZ2FpbiA9IGF1ZGlvQ3R4LmNyZWF0ZUdhaW4oKTsKICAgICAgICAgICAgb3NjLmNvbm5lY3QoZ2Fpbik7IGdhaW4uY29ubmVjdChhdWRpb0N0eC5kZXN0aW5hdGlvbik7CiAgICAgICAgICAgIGlmICh0eXBlID09PSAnY29ycmVjdCcpIHsKICAgICAgICAgICAgICAgIFs1MjMsIDY1OSwgNzg0XS5mb3JFYWNoKChmLCBpKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbyA9IGF1ZGlvQ3R4LmNyZWF0ZU9zY2lsbGF0b3IoKSwgZyA9IGF1ZGlvQ3R4LmNyZWF0ZUdhaW4oKTsKICAgICAgICAgICAgICAgICAgICBvLmNvbm5lY3QoZyk7IGcuY29ubmVjdChhdWRpb0N0eC5kZXN0aW5hdGlvbik7CiAgICAgICAgICAgICAgICAgICAgby5mcmVxdWVuY3kudmFsdWUgPSBmOwogICAgICAgICAgICAgICAgICAgIGcuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMSk7CiAgICAgICAgICAgICAgICAgICAgZy5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xICsgMC4xNSk7CiAgICAgICAgICAgICAgICAgICAgby5zdGFydChhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjEpOwogICAgICAgICAgICAgICAgICAgIG8uc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjEgKyAwLjE1KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd3cm9uZycpIHsKICAgICAgICAgICAgICAgIG9zYy5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoMjAwLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBvc2MuZnJlcXVlbmN5LmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMTAwLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMik7CiAgICAgICAgICAgICAgICBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4xMiwgYXVkaW9DdHguY3VycmVudFRpbWUpOwogICAgICAgICAgICAgICAgZ2Fpbi5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjI1KTsKICAgICAgICAgICAgICAgIG9zYy5zdGFydCgpOyBvc2Muc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMjUpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHNvdW5kVG9nZ2xlLm9uY2xpY2sgPSAoKSA9PiB7IHNvdW5kRW5hYmxlZCA9ICFzb3VuZEVuYWJsZWQ7IHNvdW5kVG9nZ2xlLnRleHRDb250ZW50ID0gc291bmRFbmFibGVkID8gJ/CflIonIDogJ/CflIcnOyB9OwogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHNldHVwUm91bmQoKSB7CiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IGxldmVsQ29uZmlnc1tsZXZlbCAtIDFdOwogICAgICAgICAgICBjYW5BbnN3ZXIgPSB0cnVlOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gUGljayByYW5kb20gd29yZAogICAgICAgICAgICBjb25zdCB3b3JkSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB3b3JkQmFuay5sZW5ndGgpOwogICAgICAgICAgICBjb25zdCB3b3JkID0gd29yZEJhbmtbd29yZEluZGV4XTsKICAgICAgICAgICAgY3VycmVudEFuc3dlciA9IHdvcmQubGV0dGVyOwogICAgICAgICAgICAKICAgICAgICAgICAgcXVlc3Rpb25FbW9qaS50ZXh0Q29udGVudCA9IHdvcmQuZW1vamk7CiAgICAgICAgICAgIHF1ZXN0aW9uVGV4dC50ZXh0Q29udGVudCA9IGBNaXQgd2VsY2hlbSBCdWNoc3RhYmVuIGJlZ2lubnQgIiR7d29yZC53b3JkfSI/YDsKICAgICAgICAgICAgbGV0dGVyRGlzcGxheS50ZXh0Q29udGVudCA9ICc/JzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEdlbmVyYXRlIHdyb25nIGFuc3dlcnMKICAgICAgICAgICAgY29uc3QgYWxsTGV0dGVycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWicuc3BsaXQoJycpOwogICAgICAgICAgICBjb25zdCB3cm9uZ0xldHRlcnMgPSBhbGxMZXR0ZXJzLmZpbHRlcihsID0+IGwgIT09IHdvcmQubGV0dGVyKTsKICAgICAgICAgICAgd3JvbmdMZXR0ZXJzLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBjaG9pY2VzID0gW3dvcmQubGV0dGVyLCAuLi53cm9uZ0xldHRlcnMuc2xpY2UoMCwgY29uZmlnLmNob2ljZXMgLSAxKV07CiAgICAgICAgICAgIGNob2ljZXMuc29ydCgoKSA9PiBNYXRoLnJhbmRvbSgpIC0gMC41KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIENyZWF0ZSBidXR0b25zCiAgICAgICAgICAgIGFuc3dlcnNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgIGNob2ljZXMuZm9yRWFjaChsZXR0ZXIgPT4gewogICAgICAgICAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICBidG4uY2xhc3NOYW1lID0gJ2Fuc3dlci1idG4nOwogICAgICAgICAgICAgICAgYnRuLnRleHRDb250ZW50ID0gbGV0dGVyOwogICAgICAgICAgICAgICAgYnRuLm9uY2xpY2sgPSAoKSA9PiBoYW5kbGVBbnN3ZXIobGV0dGVyLCBidG4pOwogICAgICAgICAgICAgICAgYW5zd2Vyc0NvbnRhaW5lci5hcHBlbmRDaGlsZChidG4pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gaGFuZGxlQW5zd2VyKGxldHRlciwgYnRuKSB7CiAgICAgICAgICAgIGlmICghY2FuQW5zd2VyKSByZXR1cm47CiAgICAgICAgICAgIGNhbkFuc3dlciA9IGZhbHNlOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGxldHRlciA9PT0gY3VycmVudEFuc3dlcikgewogICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoJ2NvcnJlY3QnKTsKICAgICAgICAgICAgICAgIGxldHRlckRpc3BsYXkudGV4dENvbnRlbnQgPSBsZXR0ZXI7CiAgICAgICAgICAgICAgICBwbGF5U291bmQoJ2NvcnJlY3QnKTsKICAgICAgICAgICAgICAgIHNjb3JlICs9IDEwOwogICAgICAgICAgICAgICAgc2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJvdW5kKys7CiAgICAgICAgICAgICAgICBpZiAocm91bmQgPiB0b3RhbFJvdW5kcykgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQobGV2ZWxDb21wbGV0ZSwgODAwKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcm91bmREaXNwbGF5LnRleHRDb250ZW50ID0gcm91bmQ7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChzZXR1cFJvdW5kLCAxMDAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCd3cm9uZycpOwogICAgICAgICAgICAgICAgcGxheVNvdW5kKCd3cm9uZycpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBTaG93IGNvcnJlY3QgYW5zd2VyCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYW5zd2VyLWJ0bicpLmZvckVhY2goYiA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiLnRleHRDb250ZW50ID09PSBjdXJyZW50QW5zd2VyKSBiLmNsYXNzTGlzdC5hZGQoJ2NvcnJlY3QnKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBsZXR0ZXJEaXNwbGF5LnRleHRDb250ZW50ID0gY3VycmVudEFuc3dlcjsKICAgICAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJvdW5kKys7CiAgICAgICAgICAgICAgICBpZiAocm91bmQgPiB0b3RhbFJvdW5kcykgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQobGV2ZWxDb21wbGV0ZSwgMTIwMCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJvdW5kRGlzcGxheS50ZXh0Q29udGVudCA9IHJvdW5kOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoc2V0dXBSb3VuZCwgMTUwMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gbGV2ZWxDb21wbGV0ZSgpIHsKICAgICAgICAgICAgbGV2ZWwrKzsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChsZXZlbCA+IGxldmVsQ29uZmlncy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIGZpbmFsU2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7CiAgICAgICAgICAgICAgICB3aW5TY3JlZW4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzaG93TGV2ZWxTY3JlZW4oKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBzaG93TGV2ZWxTY3JlZW4oKSB7CiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IGxldmVsQ29uZmlnc1tsZXZlbCAtIDFdOwogICAgICAgICAgICBsZXZlbE51bWJlci50ZXh0Q29udGVudCA9IGxldmVsOwogICAgICAgICAgICBsZXZlbERlc2MudGV4dENvbnRlbnQgPSBjb25maWcuZGVzYzsKICAgICAgICAgICAgbGV2ZWxTY3JlZW4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGxldmVsU2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgICAgICAgICAgcm91bmQgPSAxOwogICAgICAgICAgICAgICAgdG90YWxSb3VuZHMgPSBjb25maWcucm91bmRzOwogICAgICAgICAgICAgICAgcm91bmREaXNwbGF5LnRleHRDb250ZW50ID0gcm91bmQ7CiAgICAgICAgICAgICAgICB0b3RhbERpc3BsYXkudGV4dENvbnRlbnQgPSB0b3RhbFJvdW5kczsKICAgICAgICAgICAgICAgIGxldmVsRGlzcGxheS50ZXh0Q29udGVudCA9IGxldmVsOwogICAgICAgICAgICAgICAgc2V0dXBSb3VuZCgpOwogICAgICAgICAgICB9LCAxNTAwKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gc3RhcnRHYW1lKCkgewogICAgICAgICAgICBpbml0QXVkaW8oKTsKICAgICAgICAgICAgbGV2ZWwgPSAxOwogICAgICAgICAgICBzY29yZSA9IDA7CiAgICAgICAgICAgIHJvdW5kID0gMTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IGxldmVsQ29uZmlnc1swXTsKICAgICAgICAgICAgdG90YWxSb3VuZHMgPSBjb25maWcucm91bmRzOwogICAgICAgICAgICAKICAgICAgICAgICAgc2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7CiAgICAgICAgICAgIHJvdW5kRGlzcGxheS50ZXh0Q29udGVudCA9IHJvdW5kOwogICAgICAgICAgICB0b3RhbERpc3BsYXkudGV4dENvbnRlbnQgPSB0b3RhbFJvdW5kczsKICAgICAgICAgICAgbGV2ZWxEaXNwbGF5LnRleHRDb250ZW50ID0gbGV2ZWw7CiAgICAgICAgICAgIAogICAgICAgICAgICBzdGFydFNjcmVlbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICAgICAgd2luU2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgICAgICAKICAgICAgICAgICAgc2V0dXBSb3VuZCgpOwogICAgICAgIH0KICAgIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4K';
GAMES['uhr'] = 'PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImRlIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyI+CiAgICA8dGl0bGU+8J+VkCBVaHItTWVpc3RlciE8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICAgIEBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PUZyZWRva2E6d2dodEA0MDA7NjAwOzcwMCZkaXNwbGF5PXN3YXAnKTsKICAgICAgICAqIHsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9CiAgICAgICAgYm9keSB7IGZvbnQtZmFtaWx5OiAnRnJlZG9rYScsIHNhbnMtc2VyaWY7IG1pbi1oZWlnaHQ6IDEwMHZoOyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjRTc0QzNDIDAlLCAjQzAzOTJCIDEwMCUpOyBvdmVyZmxvdzogaGlkZGVuOyB0b3VjaC1hY3Rpb246IG1hbmlwdWxhdGlvbjsgfQogICAgICAgICNnYW1lLWNvbnRhaW5lciB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgd2lkdGg6IDEwMHZ3OyBoZWlnaHQ6IDEwMHZoOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBhbGlnbi1pdGVtczogY2VudGVyOyB9CiAgICAgICAgI3RvcC1iYXIgeyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiAxMnB4OyBwYWRkaW5nOiAxMnB4OyBmbGV4LXdyYXA6IHdyYXA7IH0KICAgICAgICAuc3RhdC1ib3ggeyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuOSk7IGNvbG9yOiAjMzMzOyBwYWRkaW5nOiA4cHggMThweDsgYm9yZGVyLXJhZGl1czogMjVweDsgZm9udC1zaXplOiAxN3B4OyBmb250LXdlaWdodDogNjAwOyB9CiAgICAgICAgI3NvdW5kLXRvZ2dsZSB7IGJhY2tncm91bmQ6ICMzNDk4REI7IGJvcmRlcjogbm9uZTsgcGFkZGluZzogOHB4IDE1cHg7IGJvcmRlci1yYWRpdXM6IDI1cHg7IGZvbnQtc2l6ZTogMThweDsgY3Vyc29yOiBwb2ludGVyOyB9CiAgICAgICAgI2dhbWUtYXJlYSB7IGZsZXg6IDE7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyBwYWRkaW5nOiAyMHB4OyB9CiAgICAgICAgI2Nsb2NrLWNvbnRhaW5lciB7IGJhY2tncm91bmQ6IHdoaXRlOyB3aWR0aDogMjIwcHg7IGhlaWdodDogMjIwcHg7IGJvcmRlci1yYWRpdXM6IDUwJTsgbWFyZ2luLWJvdHRvbTogMjVweDsgYm94LXNoYWRvdzogMCA4cHggMzBweCByZ2JhKDAsMCwwLDAuMyk7IHBvc2l0aW9uOiByZWxhdGl2ZTsgYm9yZGVyOiA4cHggc29saWQgIzMzMzsgfQogICAgICAgIC5jbG9jay1udW1iZXIgeyBwb3NpdGlvbjogYWJzb2x1dGU7IGZvbnQtc2l6ZTogMjBweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjMzMzOyB9CiAgICAgICAgI2hvdXItaGFuZCB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDhweDsgaGVpZ2h0OiA1NXB4OyBiYWNrZ3JvdW5kOiAjMzMzOyBsZWZ0OiA1MCU7IGJvdHRvbTogNTAlOyB0cmFuc2Zvcm0tb3JpZ2luOiBib3R0b20gY2VudGVyOyBib3JkZXItcmFkaXVzOiA0cHg7IG1hcmdpbi1sZWZ0OiAtNHB4OyB9CiAgICAgICAgI21pbnV0ZS1oYW5kIHsgcG9zaXRpb246IGFic29sdXRlOyB3aWR0aDogNXB4OyBoZWlnaHQ6IDc1cHg7IGJhY2tncm91bmQ6ICNFNzRDM0M7IGxlZnQ6IDUwJTsgYm90dG9tOiA1MCU7IHRyYW5zZm9ybS1vcmlnaW46IGJvdHRvbSBjZW50ZXI7IGJvcmRlci1yYWRpdXM6IDNweDsgbWFyZ2luLWxlZnQ6IC0yLjVweDsgfQogICAgICAgICNjbG9jay1jZW50ZXIgeyBwb3NpdGlvbjogYWJzb2x1dGU7IHdpZHRoOiAxNnB4OyBoZWlnaHQ6IDE2cHg7IGJhY2tncm91bmQ6ICMzMzM7IGJvcmRlci1yYWRpdXM6IDUwJTsgbGVmdDogNTAlOyB0b3A6IDUwJTsgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7IHotaW5kZXg6IDEwOyB9CiAgICAgICAgI3F1ZXN0aW9uLXRleHQgeyBjb2xvcjogd2hpdGU7IGZvbnQtc2l6ZTogMjRweDsgbWFyZ2luLWJvdHRvbTogMjBweDsgdGV4dC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsMCwwLDAuMyk7IHRleHQtYWxpZ246IGNlbnRlcjsgfQogICAgICAgICNhbnN3ZXJzLWNvbnRhaW5lciB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIDFmcik7IGdhcDogMTVweDsgbWF4LXdpZHRoOiAzMjBweDsgfQogICAgICAgIC5hbnN3ZXItYnRuIHsgcGFkZGluZzogMThweCAzMHB4OyBmb250LXNpemU6IDI0cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBiYWNrZ3JvdW5kOiB3aGl0ZTsgYm9yZGVyOiBub25lOyBib3JkZXItcmFkaXVzOiAyMHB4OyBjdXJzb3I6IHBvaW50ZXI7IGJveC1zaGFkb3c6IDAgNXB4IDAgcmdiYSgwLDAsMCwwLjEpOyB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4xNXM7IGZvbnQtZmFtaWx5OiAnRnJlZG9rYScsIHNhbnMtc2VyaWY7IH0KICAgICAgICAuYW5zd2VyLWJ0bjphY3RpdmUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoM3B4KTsgYm94LXNoYWRvdzogMCAycHggMCByZ2JhKDAsMCwwLDAuMSk7IH0KICAgICAgICAuYW5zd2VyLWJ0bi5jb3JyZWN0IHsgYmFja2dyb3VuZDogIzJFQ0M3MTsgY29sb3I6IHdoaXRlOyB9CiAgICAgICAgLmFuc3dlci1idG4ud3JvbmcgeyBiYWNrZ3JvdW5kOiAjRTc0QzNDOyBjb2xvcjogd2hpdGU7IH0KICAgICAgICAjc3RhcnQtc2NyZWVuLCAjd2luLXNjcmVlbiwgI2xldmVsLXNjcmVlbiB7IHBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjRTc0QzNDIDAlLCAjQzAzOTJCIDEwMCUpOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgei1pbmRleDogMjAwOyBnYXA6IDIwcHg7IH0KICAgICAgICAjd2luLXNjcmVlbiB7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMxMTk5OGUgMCUsICMzOGVmN2QgMTAwJSk7IH0KICAgICAgICAuc2NyZWVuLXRpdGxlIHsgZm9udC1zaXplOiA0NHB4OyBjb2xvcjogd2hpdGU7IHRleHQtc2hhZG93OiAwIDRweCAwIHJnYmEoMCwwLDAsMC4yKTsgdGV4dC1hbGlnbjogY2VudGVyOyB9CiAgICAgICAgLnNjcmVlbi1pY29uIHsgZm9udC1zaXplOiA3MHB4OyB9CiAgICAgICAgLnN0YXJ0LWJ0biB7IGJhY2tncm91bmQ6ICNGMUM0MEY7IGNvbG9yOiAjMzMzOyBib3JkZXI6IG5vbmU7IHBhZGRpbmc6IDE4cHggNDVweDsgZm9udC1zaXplOiAyNHB4OyBmb250LWZhbWlseTogJ0ZyZWRva2EnLCBzYW5zLXNlcmlmOyBmb250LXdlaWdodDogNzAwOyBib3JkZXItcmFkaXVzOiA1MHB4OyBjdXJzb3I6IHBvaW50ZXI7IGJveC1zaGFkb3c6IDAgNXB4IDAgI0Q0QUMwRDsgfQogICAgICAgIC5zdGFydC1idG46YWN0aXZlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDNweCk7IGJveC1zaGFkb3c6IDAgMnB4IDAgI0Q0QUMwRDsgfQogICAgICAgIC5oaWRkZW4geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0KICAgIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8ZGl2IGlkPSJnYW1lLWNvbnRhaW5lciI+CiAgICAgICAgPGRpdiBpZD0idG9wLWJhciI+CiAgICAgICAgICAgIDxidXR0b24gaWQ9InNvdW5kLXRvZ2dsZSI+8J+UijwvYnV0dG9uPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWJveCI+4q2QIDxzcGFuIGlkPSJzY29yZSI+MDwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPvCfjq8gPHNwYW4gaWQ9InJvdW5kIj4xPC9zcGFuPi88c3BhbiBpZD0idG90YWwiPjg8L3NwYW4+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtYm94Ij5MdiA8c3BhbiBpZD0ibGV2ZWwiPjE8L3NwYW4+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0iZ2FtZS1hcmVhIj4KICAgICAgICAgICAgPGRpdiBpZD0iY2xvY2stY29udGFpbmVyIj4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImhvdXItaGFuZCI+PC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJtaW51dGUtaGFuZCI+PC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJjbG9jay1jZW50ZXIiPjwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBpZD0icXVlc3Rpb24tdGV4dCI+V2llIHNww6R0IGlzdCBlcz88L2Rpdj4KICAgICAgICAgICAgPGRpdiBpZD0iYW5zd2Vycy1jb250YWluZXIiPjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9InN0YXJ0LXNjcmVlbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNjcmVlbi1pY29uIj7wn5WQPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5VaHItTWVpc3RlciE8L2gxPgogICAgICAgICAgICA8cCBzdHlsZT0iY29sb3I6d2hpdGU7Zm9udC1zaXplOjE2cHg7dGV4dC1hbGlnbjpjZW50ZXI7Ij5MZXJuZSBkaWUgVWhyIHp1IGxlc2VuITxicj5TY2hhdSBhdWYgZGllIFplaWdlciE8L3A+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InN0YXJ0LWJ0biIgb25jbGljaz0ic3RhcnRHYW1lKCkiPvCfjq4gU3RhcnQhPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0ibGV2ZWwtc2NyZWVuIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPvCflZA8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPkxldmVsIDxzcGFuIGlkPSJsZXZlbC1udW1iZXIiPjE8L3NwYW4+PC9oMT4KICAgICAgICAgICAgPHAgaWQ9ImxldmVsLWRlc2MiIHN0eWxlPSJjb2xvcjp3aGl0ZTtmb250LXNpemU6MThweDsiPjwvcD4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJ3aW4tc2NyZWVuIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPvCfj4Y8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPlVoci1Qcm9maSE8L2gxPgogICAgICAgICAgICA8cCBzdHlsZT0iY29sb3I6d2hpdGU7Zm9udC1zaXplOjI0cHg7Ij7irZAgPHNwYW4gaWQ9ImZpbmFsLXNjb3JlIj4wPC9zcGFuPjwvcD4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic3RhcnQtYnRuIiBvbmNsaWNrPSJzdGFydEdhbWUoKSI+8J+UhCBOb2NobWFsITwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPHNjcmlwdD4KICAgICAgICBjb25zdCBjbG9ja0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9jay1jb250YWluZXInKTsKICAgICAgICBjb25zdCBob3VySGFuZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdob3VyLWhhbmQnKTsKICAgICAgICBjb25zdCBtaW51dGVIYW5kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbnV0ZS1oYW5kJyk7CiAgICAgICAgY29uc3QgcXVlc3Rpb25UZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1ZXN0aW9uLXRleHQnKTsKICAgICAgICBjb25zdCBhbnN3ZXJzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Fuc3dlcnMtY29udGFpbmVyJyk7CiAgICAgICAgY29uc3Qgc2NvcmVEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlJyk7CiAgICAgICAgY29uc3Qgcm91bmREaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JvdW5kJyk7CiAgICAgICAgY29uc3QgdG90YWxEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvdGFsJyk7CiAgICAgICAgY29uc3QgbGV2ZWxEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsJyk7CiAgICAgICAgY29uc3QgbGV2ZWxOdW1iZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwtbnVtYmVyJyk7CiAgICAgICAgY29uc3QgbGV2ZWxEZXNjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLWRlc2MnKTsKICAgICAgICBjb25zdCBzdGFydFNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydC1zY3JlZW4nKTsKICAgICAgICBjb25zdCB3aW5TY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2luLXNjcmVlbicpOwogICAgICAgIGNvbnN0IGxldmVsU2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLXNjcmVlbicpOwogICAgICAgIGNvbnN0IGZpbmFsU2NvcmVEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbmFsLXNjb3JlJyk7CiAgICAgICAgY29uc3Qgc291bmRUb2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc291bmQtdG9nZ2xlJyk7CiAgICAgICAgCiAgICAgICAgbGV0IGxldmVsID0gMSwgc2NvcmUgPSAwLCByb3VuZCA9IDEsIHRvdGFsUm91bmRzID0gODsKICAgICAgICBsZXQgY3VycmVudEhvdXIgPSAwLCBjdXJyZW50TWludXRlID0gMDsKICAgICAgICBsZXQgc291bmRFbmFibGVkID0gdHJ1ZSwgY2FuQW5zd2VyID0gdHJ1ZTsKICAgICAgICBsZXQgYXVkaW9DdHggPSBudWxsOwogICAgICAgIAogICAgICAgIGNvbnN0IGxldmVsQ29uZmlncyA9IFsKICAgICAgICAgICAgeyByb3VuZHM6IDYsIG1pbnV0ZU9wdGlvbnM6IFswXSwgZGVzYzogJ1ZvbGxlIFN0dW5kZW4gKDM6MDApJyB9LAogICAgICAgICAgICB7IHJvdW5kczogOCwgbWludXRlT3B0aW9uczogWzAsIDMwXSwgZGVzYzogJ0hhbGJlIFN0dW5kZW4gKDM6MzApJyB9LAogICAgICAgICAgICB7IHJvdW5kczogOCwgbWludXRlT3B0aW9uczogWzAsIDE1LCAzMCwgNDVdLCBkZXNjOiAnVmllcnRlbHN0dW5kZW4nIH0sCiAgICAgICAgICAgIHsgcm91bmRzOiAxMCwgbWludXRlT3B0aW9uczogWzAsIDUsIDEwLCAxNSwgMjAsIDI1LCAzMCwgMzUsIDQwLCA0NSwgNTAsIDU1XSwgZGVzYzogJzUtTWludXRlbi1TY2hyaXR0ZScgfSwKICAgICAgICAgICAgeyByb3VuZHM6IDEwLCBtaW51dGVPcHRpb25zOiAnYWxsJywgZGVzYzogJ0FsbGUgTWludXRlbiEnIH0KICAgICAgICBdOwogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGluaXRBdWRpbygpIHsgaWYgKCFhdWRpb0N0eCkgYXVkaW9DdHggPSBuZXcgKHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkoKTsgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHBsYXlTb3VuZCh0eXBlKSB7CiAgICAgICAgICAgIGlmICghc291bmRFbmFibGVkIHx8ICFhdWRpb0N0eCkgcmV0dXJuOwogICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2NvcnJlY3QnKSB7CiAgICAgICAgICAgICAgICBbNTIzLCA2NTksIDc4NF0uZm9yRWFjaCgoZiwgaSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG8gPSBhdWRpb0N0eC5jcmVhdGVPc2NpbGxhdG9yKCksIGcgPSBhdWRpb0N0eC5jcmVhdGVHYWluKCk7CiAgICAgICAgICAgICAgICAgICAgby5jb25uZWN0KGcpOyBnLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pOwogICAgICAgICAgICAgICAgICAgIG8uZnJlcXVlbmN5LnZhbHVlID0gZjsKICAgICAgICAgICAgICAgICAgICBnLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4xLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjEpOwogICAgICAgICAgICAgICAgICAgIGcuZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMSArIDAuMTUpOwogICAgICAgICAgICAgICAgICAgIG8uc3RhcnQoYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xKTsKICAgICAgICAgICAgICAgICAgICBvLnN0b3AoYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xICsgMC4xNSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnd3JvbmcnKSB7CiAgICAgICAgICAgICAgICBjb25zdCBvc2MgPSBhdWRpb0N0eC5jcmVhdGVPc2NpbGxhdG9yKCksIGdhaW4gPSBhdWRpb0N0eC5jcmVhdGVHYWluKCk7CiAgICAgICAgICAgICAgICBvc2MuY29ubmVjdChnYWluKTsgZ2Fpbi5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTsKICAgICAgICAgICAgICAgIG9zYy5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoMjAwLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBvc2MuZnJlcXVlbmN5LmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMTAwLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMik7CiAgICAgICAgICAgICAgICBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4xMiwgYXVkaW9DdHguY3VycmVudFRpbWUpOwogICAgICAgICAgICAgICAgZ2Fpbi5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjI1KTsKICAgICAgICAgICAgICAgIG9zYy5zdGFydCgpOyBvc2Muc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMjUpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd0aWNrJykgewogICAgICAgICAgICAgICAgY29uc3Qgb3NjID0gYXVkaW9DdHguY3JlYXRlT3NjaWxsYXRvcigpLCBnYWluID0gYXVkaW9DdHguY3JlYXRlR2FpbigpOwogICAgICAgICAgICAgICAgb3NjLmNvbm5lY3QoZ2Fpbik7IGdhaW4uY29ubmVjdChhdWRpb0N0eC5kZXN0aW5hdGlvbik7CiAgICAgICAgICAgICAgICBvc2MuZnJlcXVlbmN5LnZhbHVlID0gODAwOwogICAgICAgICAgICAgICAgZ2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKDAuMDUsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsKICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4wNSk7CiAgICAgICAgICAgICAgICBvc2Muc3RhcnQoKTsgb3NjLnN0b3AoYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjA1KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBzb3VuZFRvZ2dsZS5vbmNsaWNrID0gKCkgPT4geyBzb3VuZEVuYWJsZWQgPSAhc291bmRFbmFibGVkOyBzb3VuZFRvZ2dsZS50ZXh0Q29udGVudCA9IHNvdW5kRW5hYmxlZCA/ICfwn5SKJyA6ICfwn5SHJzsgfTsKICAgICAgICAKICAgICAgICAvLyBTZXR1cCBjbG9jayBudW1iZXJzCiAgICAgICAgZnVuY3Rpb24gc2V0dXBDbG9jaygpIHsKICAgICAgICAgICAgLy8gUmVtb3ZlIG9sZCBudW1iZXJzCiAgICAgICAgICAgIGNsb2NrQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jbG9jay1udW1iZXInKS5mb3JFYWNoKG4gPT4gbi5yZW1vdmUoKSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSAxMjsgaSsrKSB7CiAgICAgICAgICAgICAgICBjb25zdCBhbmdsZSA9IChpICogMzAgLSA5MCkgKiBNYXRoLlBJIC8gMTgwOwogICAgICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gODU7CiAgICAgICAgICAgICAgICBjb25zdCB4ID0gMTEwICsgcmFkaXVzICogTWF0aC5jb3MoYW5nbGUpIC0gMTA7CiAgICAgICAgICAgICAgICBjb25zdCB5ID0gMTEwICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpIC0gMTI7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IG51bSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgbnVtLmNsYXNzTmFtZSA9ICdjbG9jay1udW1iZXInOwogICAgICAgICAgICAgICAgbnVtLnRleHRDb250ZW50ID0gaTsKICAgICAgICAgICAgICAgIG51bS5zdHlsZS5sZWZ0ID0geCArICdweCc7CiAgICAgICAgICAgICAgICBudW0uc3R5bGUudG9wID0geSArICdweCc7CiAgICAgICAgICAgICAgICBjbG9ja0NvbnRhaW5lci5hcHBlbmRDaGlsZChudW0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHNldENsb2NrSGFuZHMoaG91ciwgbWludXRlKSB7CiAgICAgICAgICAgIC8vIEhvdXIgaGFuZDogMzYwwrAgLyAxMiBob3VycyA9IDMwwrAgcGVyIGhvdXIsIHBsdXMgYWRqdXN0bWVudCBmb3IgbWludXRlcwogICAgICAgICAgICBjb25zdCBob3VyQW5nbGUgPSAoaG91ciAlIDEyKSAqIDMwICsgbWludXRlICogMC41OwogICAgICAgICAgICAvLyBNaW51dGUgaGFuZDogMzYwwrAgLyA2MCBtaW51dGVzID0gNsKwIHBlciBtaW51dGUKICAgICAgICAgICAgY29uc3QgbWludXRlQW5nbGUgPSBtaW51dGUgKiA2OwogICAgICAgICAgICAKICAgICAgICAgICAgaG91ckhhbmQuc3R5bGUudHJhbnNmb3JtID0gYHJvdGF0ZSgke2hvdXJBbmdsZX1kZWcpYDsKICAgICAgICAgICAgbWludXRlSGFuZC5zdHlsZS50cmFuc2Zvcm0gPSBgcm90YXRlKCR7bWludXRlQW5nbGV9ZGVnKWA7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGZvcm1hdFRpbWUoaG91ciwgbWludXRlKSB7CiAgICAgICAgICAgIHJldHVybiBgJHtob3VyfToke21pbnV0ZS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVQcm9ibGVtKCkgewogICAgICAgICAgICBjb25zdCBjb25maWcgPSBsZXZlbENvbmZpZ3NbbGV2ZWwgLSAxXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGN1cnJlbnRIb3VyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTIpICsgMTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChjb25maWcubWludXRlT3B0aW9ucyA9PT0gJ2FsbCcpIHsKICAgICAgICAgICAgICAgIGN1cnJlbnRNaW51dGUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA2MCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjdXJyZW50TWludXRlID0gY29uZmlnLm1pbnV0ZU9wdGlvbnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY29uZmlnLm1pbnV0ZU9wdGlvbnMubGVuZ3RoKV07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHNldENsb2NrSGFuZHMoY3VycmVudEhvdXIsIGN1cnJlbnRNaW51dGUpOwogICAgICAgICAgICBwbGF5U291bmQoJ3RpY2snKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gc2V0dXBSb3VuZCgpIHsKICAgICAgICAgICAgY2FuQW5zd2VyID0gdHJ1ZTsKICAgICAgICAgICAgZ2VuZXJhdGVQcm9ibGVtKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBjb3JyZWN0QW5zd2VyID0gZm9ybWF0VGltZShjdXJyZW50SG91ciwgY3VycmVudE1pbnV0ZSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBHZW5lcmF0ZSB3cm9uZyBhbnN3ZXJzCiAgICAgICAgICAgIGNvbnN0IHdyb25nQW5zd2VycyA9IG5ldyBTZXQoKTsKICAgICAgICAgICAgd2hpbGUgKHdyb25nQW5zd2Vycy5zaXplIDwgMykgewogICAgICAgICAgICAgICAgbGV0IHdyb25nSG91ciA9IGN1cnJlbnRIb3VyICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNSkgLSAyOwogICAgICAgICAgICAgICAgaWYgKHdyb25nSG91ciA8IDEpIHdyb25nSG91ciArPSAxMjsKICAgICAgICAgICAgICAgIGlmICh3cm9uZ0hvdXIgPiAxMikgd3JvbmdIb3VyIC09IDEyOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBsZXQgd3JvbmdNaW51dGUgPSBjdXJyZW50TWludXRlOwogICAgICAgICAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjUpIHsKICAgICAgICAgICAgICAgICAgICB3cm9uZ01pbnV0ZSA9IChjdXJyZW50TWludXRlICsgWzE1LCAzMCwgNDUsIC0xNSwgLTMwXVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1KV0gKyA2MCkgJSA2MDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3Qgd3JvbmdBbnN3ZXIgPSBmb3JtYXRUaW1lKHdyb25nSG91ciwgd3JvbmdNaW51dGUpOwogICAgICAgICAgICAgICAgaWYgKHdyb25nQW5zd2VyICE9PSBjb3JyZWN0QW5zd2VyKSB7CiAgICAgICAgICAgICAgICAgICAgd3JvbmdBbnN3ZXJzLmFkZCh3cm9uZ0Fuc3dlcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IGNob2ljZXMgPSBbY29ycmVjdEFuc3dlciwgLi4ud3JvbmdBbnN3ZXJzXTsKICAgICAgICAgICAgY2hvaWNlcy5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ3JlYXRlIGJ1dHRvbnMKICAgICAgICAgICAgYW5zd2Vyc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgY2hvaWNlcy5mb3JFYWNoKHRpbWUgPT4gewogICAgICAgICAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICBidG4uY2xhc3NOYW1lID0gJ2Fuc3dlci1idG4nOwogICAgICAgICAgICAgICAgYnRuLnRleHRDb250ZW50ID0gdGltZTsKICAgICAgICAgICAgICAgIGJ0bi5vbmNsaWNrID0gKCkgPT4gaGFuZGxlQW5zd2VyKHRpbWUsIGJ0biwgY29ycmVjdEFuc3dlcik7CiAgICAgICAgICAgICAgICBhbnN3ZXJzQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ0bik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBoYW5kbGVBbnN3ZXIodGltZSwgYnRuLCBjb3JyZWN0QW5zd2VyKSB7CiAgICAgICAgICAgIGlmICghY2FuQW5zd2VyKSByZXR1cm47CiAgICAgICAgICAgIGNhbkFuc3dlciA9IGZhbHNlOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKHRpbWUgPT09IGNvcnJlY3RBbnN3ZXIpIHsKICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdjb3JyZWN0Jyk7CiAgICAgICAgICAgICAgICBwbGF5U291bmQoJ2NvcnJlY3QnKTsKICAgICAgICAgICAgICAgIHNjb3JlICs9IDEwOwogICAgICAgICAgICAgICAgc2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJvdW5kKys7CiAgICAgICAgICAgICAgICBpZiAocm91bmQgPiB0b3RhbFJvdW5kcykgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQobGV2ZWxDb21wbGV0ZSwgODAwKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcm91bmREaXNwbGF5LnRleHRDb250ZW50ID0gcm91bmQ7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChzZXR1cFJvdW5kLCA4MDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoJ3dyb25nJyk7CiAgICAgICAgICAgICAgICBwbGF5U291bmQoJ3dyb25nJyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIFNob3cgY29ycmVjdCBhbnN3ZXIKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbnN3ZXItYnRuJykuZm9yRWFjaChiID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGIudGV4dENvbnRlbnQgPT09IGNvcnJlY3RBbnN3ZXIpIGIuY2xhc3NMaXN0LmFkZCgnY29ycmVjdCcpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcm91bmQrKzsKICAgICAgICAgICAgICAgIGlmIChyb3VuZCA+IHRvdGFsUm91bmRzKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChsZXZlbENvbXBsZXRlLCAxMjAwKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcm91bmREaXNwbGF5LnRleHRDb250ZW50ID0gcm91bmQ7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChzZXR1cFJvdW5kLCAxNTAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBsZXZlbENvbXBsZXRlKCkgewogICAgICAgICAgICBsZXZlbCsrOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGxldmVsID4gbGV2ZWxDb25maWdzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgZmluYWxTY29yZURpc3BsYXkudGV4dENvbnRlbnQgPSBzY29yZTsKICAgICAgICAgICAgICAgIHdpblNjcmVlbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNob3dMZXZlbFNjcmVlbigpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHNob3dMZXZlbFNjcmVlbigpIHsKICAgICAgICAgICAgY29uc3QgY29uZmlnID0gbGV2ZWxDb25maWdzW2xldmVsIC0gMV07CiAgICAgICAgICAgIGxldmVsTnVtYmVyLnRleHRDb250ZW50ID0gbGV2ZWw7CiAgICAgICAgICAgIGxldmVsRGVzYy50ZXh0Q29udGVudCA9IGNvbmZpZy5kZXNjOwogICAgICAgICAgICBsZXZlbFNjcmVlbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgbGV2ZWxTY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgICAgICByb3VuZCA9IDE7CiAgICAgICAgICAgICAgICB0b3RhbFJvdW5kcyA9IGNvbmZpZy5yb3VuZHM7CiAgICAgICAgICAgICAgICByb3VuZERpc3BsYXkudGV4dENvbnRlbnQgPSByb3VuZDsKICAgICAgICAgICAgICAgIHRvdGFsRGlzcGxheS50ZXh0Q29udGVudCA9IHRvdGFsUm91bmRzOwogICAgICAgICAgICAgICAgbGV2ZWxEaXNwbGF5LnRleHRDb250ZW50ID0gbGV2ZWw7CiAgICAgICAgICAgICAgICBzZXR1cFJvdW5kKCk7CiAgICAgICAgICAgIH0sIDE1MDApOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBzdGFydEdhbWUoKSB7CiAgICAgICAgICAgIGluaXRBdWRpbygpOwogICAgICAgICAgICBzZXR1cENsb2NrKCk7CiAgICAgICAgICAgIGxldmVsID0gMTsKICAgICAgICAgICAgc2NvcmUgPSAwOwogICAgICAgICAgICByb3VuZCA9IDE7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBjb25maWcgPSBsZXZlbENvbmZpZ3NbMF07CiAgICAgICAgICAgIHRvdGFsUm91bmRzID0gY29uZmlnLnJvdW5kczsKICAgICAgICAgICAgCiAgICAgICAgICAgIHNjb3JlRGlzcGxheS50ZXh0Q29udGVudCA9IHNjb3JlOwogICAgICAgICAgICByb3VuZERpc3BsYXkudGV4dENvbnRlbnQgPSByb3VuZDsKICAgICAgICAgICAgdG90YWxEaXNwbGF5LnRleHRDb250ZW50ID0gdG90YWxSb3VuZHM7CiAgICAgICAgICAgIGxldmVsRGlzcGxheS50ZXh0Q29udGVudCA9IGxldmVsOwogICAgICAgICAgICAKICAgICAgICAgICAgc3RhcnRTY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgIHdpblNjcmVlbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHNldHVwUm91bmQoKTsKICAgICAgICB9CiAgICA8L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+Cg==';
GAMES['zahlen'] = 'PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImRlIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyI+CiAgICA8dGl0bGU+8J+UoiBaYWhsZW4tT3JkbmVyITwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgICAgQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9RnJlZG9rYTp3Z2h0QDQwMDs2MDA7NzAwJmRpc3BsYXk9c3dhcCcpOwogICAgICAgICogeyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IH0KICAgICAgICBib2R5IHsgZm9udC1mYW1pbHk6ICdGcmVkb2thJywgc2Fucy1zZXJpZjsgbWluLWhlaWdodDogMTAwdmg7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7IG92ZXJmbG93OiBoaWRkZW47IHRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uOyB9CiAgICAgICAgI2dhbWUtY29udGFpbmVyIHsgcG9zaXRpb246IHJlbGF0aXZlOyB3aWR0aDogMTAwdnc7IGhlaWdodDogMTAwdmg7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7IH0KICAgICAgICAjdG9wLWJhciB7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDEycHg7IHBhZGRpbmc6IDE1cHg7IGZsZXgtd3JhcDogd3JhcDsgfQogICAgICAgIC5zdGF0LWJveCB7IGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC45KTsgY29sb3I6ICMzMzM7IHBhZGRpbmc6IDhweCAxOHB4OyBib3JkZXItcmFkaXVzOiAyNXB4OyBmb250LXNpemU6IDE3cHg7IGZvbnQtd2VpZ2h0OiA2MDA7IH0KICAgICAgICAjc291bmQtdG9nZ2xlIHsgYmFja2dyb3VuZDogIzM0OThEQjsgYm9yZGVyOiBub25lOyBwYWRkaW5nOiA4cHggMTVweDsgYm9yZGVyLXJhZGl1czogMjVweDsgZm9udC1zaXplOiAxOHB4OyBjdXJzb3I6IHBvaW50ZXI7IH0KICAgICAgICAjZ2FtZS1hcmVhIHsgZmxleDogMTsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IHBhZGRpbmc6IDIwcHg7IHdpZHRoOiAxMDAlOyB9CiAgICAgICAgI2luc3RydWN0aW9uIHsgY29sb3I6IHdoaXRlOyBmb250LXNpemU6IDI0cHg7IG1hcmdpbi1ib3R0b206IDIwcHg7IHRleHQtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLDAsMCwwLjMpOyB9CiAgICAgICAgI3Nsb3RzLWNvbnRhaW5lciB7IGRpc3BsYXk6IGZsZXg7IGdhcDogMTBweDsgbWFyZ2luLWJvdHRvbTogMzBweDsgZmxleC13cmFwOiB3cmFwOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgfQogICAgICAgIC5zbG90IHsgd2lkdGg6IDYwcHg7IGhlaWdodDogNzBweDsgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjMpOyBib3JkZXI6IDNweCBkYXNoZWQgcmdiYSgyNTUsMjU1LDI1NSwwLjYpOyBib3JkZXItcmFkaXVzOiAxNXB4OyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZm9udC1zaXplOiAyOHB4OyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6IHdoaXRlOyB9CiAgICAgICAgLnNsb3QuZmlsbGVkIHsgYmFja2dyb3VuZDogIzJFQ0M3MTsgYm9yZGVyOiAzcHggc29saWQgIzI3QUU2MDsgfQogICAgICAgIC5zbG90Lm5leHQgeyBiYWNrZ3JvdW5kOiByZ2JhKDI0MSwgMTk2LCAxNSwgMC41KTsgYm9yZGVyOiAzcHggc29saWQgI0YxQzQwRjsgYW5pbWF0aW9uOiBwdWxzZSAxcyBpbmZpbml0ZTsgfQogICAgICAgIEBrZXlmcmFtZXMgcHVsc2UgeyAwJSwgMTAwJSB7IHRyYW5zZm9ybTogc2NhbGUoMSk7IH0gNTAlIHsgdHJhbnNmb3JtOiBzY2FsZSgxLjA1KTsgfSB9CiAgICAgICAgI251bWJlcnMtY29udGFpbmVyIHsgZGlzcGxheTogZmxleDsgZ2FwOiAxMnB4OyBmbGV4LXdyYXA6IHdyYXA7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBtYXgtd2lkdGg6IDQwMHB4OyB9CiAgICAgICAgLm51bWJlci1idG4geyB3aWR0aDogNzBweDsgaGVpZ2h0OiA3MHB4OyBmb250LXNpemU6IDMycHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBiYWNrZ3JvdW5kOiB3aGl0ZTsgYm9yZGVyOiBub25lOyBib3JkZXItcmFkaXVzOiA1MCU7IGN1cnNvcjogcG9pbnRlcjsgYm94LXNoYWRvdzogMCA2cHggMCByZ2JhKDAsMCwwLDAuMTUpOyB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4xNXM7IGZvbnQtZmFtaWx5OiAnRnJlZG9rYScsIHNhbnMtc2VyaWY7IH0KICAgICAgICAubnVtYmVyLWJ0bjphY3RpdmUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoM3B4KTsgYm94LXNoYWRvdzogMCAzcHggMCByZ2JhKDAsMCwwLDAuMTUpOyB9CiAgICAgICAgLm51bWJlci1idG4uY29ycmVjdCB7IGJhY2tncm91bmQ6ICMyRUNDNzE7IGNvbG9yOiB3aGl0ZTsgcG9pbnRlci1ldmVudHM6IG5vbmU7IH0KICAgICAgICAubnVtYmVyLWJ0bi53cm9uZyB7IGFuaW1hdGlvbjogc2hha2UgMC4zczsgfQogICAgICAgIEBrZXlmcmFtZXMgc2hha2UgeyAwJSwgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgfSAyNSUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLThweCk7IH0gNzUlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDhweCk7IH0gfQogICAgICAgICNzdGFydC1zY3JlZW4sICN3aW4tc2NyZWVuLCAjbGV2ZWwtc2NyZWVuIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyB6LWluZGV4OiAyMDA7IGdhcDogMjBweDsgfQogICAgICAgICN3aW4tc2NyZWVuIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzExOTk4ZSAwJSwgIzM4ZWY3ZCAxMDAlKTsgfQogICAgICAgIC5zY3JlZW4tdGl0bGUgeyBmb250LXNpemU6IDQ0cHg7IGNvbG9yOiB3aGl0ZTsgdGV4dC1zaGFkb3c6IDAgNHB4IDAgcmdiYSgwLDAsMCwwLjIpOyB0ZXh0LWFsaWduOiBjZW50ZXI7IH0KICAgICAgICAuc2NyZWVuLWljb24geyBmb250LXNpemU6IDcwcHg7IH0KICAgICAgICAuc3RhcnQtYnRuIHsgYmFja2dyb3VuZDogI0YxQzQwRjsgY29sb3I6ICMzMzM7IGJvcmRlcjogbm9uZTsgcGFkZGluZzogMThweCA0NXB4OyBmb250LXNpemU6IDI0cHg7IGZvbnQtZmFtaWx5OiAnRnJlZG9rYScsIHNhbnMtc2VyaWY7IGZvbnQtd2VpZ2h0OiA3MDA7IGJvcmRlci1yYWRpdXM6IDUwcHg7IGN1cnNvcjogcG9pbnRlcjsgYm94LXNoYWRvdzogMCA1cHggMCAjRDRBQzBEOyB9CiAgICAgICAgLnN0YXJ0LWJ0bjphY3RpdmUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoM3B4KTsgYm94LXNoYWRvdzogMCAycHggMCAjRDRBQzBEOyB9CiAgICAgICAgLmhpZGRlbiB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfQogICAgICAgICNtb2RlLWRpc3BsYXkgeyBjb2xvcjogcmdiYSgyNTUsMjU1LDI1NSwwLjgpOyBmb250LXNpemU6IDE4cHg7IG1hcmdpbi10b3A6IDE1cHg7IH0KICAgIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8ZGl2IGlkPSJnYW1lLWNvbnRhaW5lciI+CiAgICAgICAgPGRpdiBpZD0idG9wLWJhciI+CiAgICAgICAgICAgIDxidXR0b24gaWQ9InNvdW5kLXRvZ2dsZSI+8J+UijwvYnV0dG9uPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWJveCI+4q2QIDxzcGFuIGlkPSJzY29yZSI+MDwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPvCfjq8gPHNwYW4gaWQ9InJvdW5kIj4xPC9zcGFuPi88c3BhbiBpZD0idG90YWwtcm91bmRzIj41PC9zcGFuPjwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWJveCI+THYgPHNwYW4gaWQ9ImxldmVsIj4xPC9zcGFuPjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9ImdhbWUtYXJlYSI+CiAgICAgICAgICAgIDxkaXYgaWQ9Imluc3RydWN0aW9uIj5PcmRuZSB2b24ga2xlaW4gbmFjaCBncm/DnyE8L2Rpdj4KICAgICAgICAgICAgPGRpdiBpZD0ic2xvdHMtY29udGFpbmVyIj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBpZD0ibnVtYmVycy1jb250YWluZXIiPjwvZGl2PgogICAgICAgICAgICA8ZGl2IGlkPSJtb2RlLWRpc3BsYXkiPjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9InN0YXJ0LXNjcmVlbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNjcmVlbi1pY29uIj7wn5SiPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5aYWhsZW4tT3JkbmVyITwvaDE+CiAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjp3aGl0ZTtmb250LXNpemU6MTZweDt0ZXh0LWFsaWduOmNlbnRlcjsiPlRpcHBlIGRpZSBaYWhsZW4gaW4gZGVyPGJyPnJpY2h0aWdlbiBSZWloZW5mb2xnZSE8L3A+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InN0YXJ0LWJ0biIgb25jbGljaz0ic3RhcnRHYW1lKCkiPvCfjq4gU3RhcnQhPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0ibGV2ZWwtc2NyZWVuIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPvCflKI8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPkxldmVsIDxzcGFuIGlkPSJsZXZlbC1udW1iZXIiPjE8L3NwYW4+PC9oMT4KICAgICAgICAgICAgPHAgaWQ9ImxldmVsLWRlc2MiIHN0eWxlPSJjb2xvcjp3aGl0ZTtmb250LXNpemU6MThweDsiPjwvcD4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJ3aW4tc2NyZWVuIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPvCfj4Y8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPlBlcmZla3QhPC9oMT4KICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOndoaXRlO2ZvbnQtc2l6ZToyNHB4OyI+4q2QIDxzcGFuIGlkPSJmaW5hbC1zY29yZSI+MDwvc3Bhbj48L3A+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InN0YXJ0LWJ0biIgb25jbGljaz0ic3RhcnRHYW1lKCkiPvCflIQgTm9jaG1hbCE8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDxzY3JpcHQ+CiAgICAgICAgY29uc3Qgc2xvdHNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2xvdHMtY29udGFpbmVyJyk7CiAgICAgICAgY29uc3QgbnVtYmVyc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdudW1iZXJzLWNvbnRhaW5lcicpOwogICAgICAgIGNvbnN0IGluc3RydWN0aW9uRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnN0cnVjdGlvbicpOwogICAgICAgIGNvbnN0IG1vZGVEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGUtZGlzcGxheScpOwogICAgICAgIGNvbnN0IHNjb3JlRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZScpOwogICAgICAgIGNvbnN0IHJvdW5kRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb3VuZCcpOwogICAgICAgIGNvbnN0IHRvdGFsUm91bmRzRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3RhbC1yb3VuZHMnKTsKICAgICAgICBjb25zdCBsZXZlbERpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwnKTsKICAgICAgICBjb25zdCBsZXZlbE51bWJlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC1udW1iZXInKTsKICAgICAgICBjb25zdCBsZXZlbERlc2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwtZGVzYycpOwogICAgICAgIGNvbnN0IHN0YXJ0U2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0LXNjcmVlbicpOwogICAgICAgIGNvbnN0IHdpblNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aW4tc2NyZWVuJyk7CiAgICAgICAgY29uc3QgbGV2ZWxTY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwtc2NyZWVuJyk7CiAgICAgICAgY29uc3QgZmluYWxTY29yZURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmluYWwtc2NvcmUnKTsKICAgICAgICBjb25zdCBzb3VuZFRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb3VuZC10b2dnbGUnKTsKICAgICAgICAKICAgICAgICBsZXQgbGV2ZWwgPSAxLCBzY29yZSA9IDAsIHJvdW5kID0gMSwgdG90YWxSb3VuZHMgPSA1OwogICAgICAgIGxldCBudW1iZXJzID0gW10sIHNvcnRlZE51bWJlcnMgPSBbXSwgY3VycmVudEluZGV4ID0gMDsKICAgICAgICBsZXQgYXNjZW5kaW5nID0gdHJ1ZSwgc291bmRFbmFibGVkID0gdHJ1ZTsKICAgICAgICBsZXQgYXVkaW9DdHggPSBudWxsOwogICAgICAgIAogICAgICAgIGNvbnN0IGxldmVsQ29uZmlncyA9IFsKICAgICAgICAgICAgeyBjb3VudDogNCwgbWluOiAxLCBtYXg6IDEwLCByb3VuZHM6IDQsIGRlc2M6ICdaYWhsZW4gMS0xMCwgNCBTdMO8Y2snIH0sCiAgICAgICAgICAgIHsgY291bnQ6IDUsIG1pbjogMSwgbWF4OiAyMCwgcm91bmRzOiA0LCBkZXNjOiAnWmFobGVuIDEtMjAsIDUgU3TDvGNrJyB9LAogICAgICAgICAgICB7IGNvdW50OiA1LCBtaW46IDEsIG1heDogNTAsIHJvdW5kczogNSwgZGVzYzogJ1phaGxlbiAxLTUwLCA1IFN0w7xjaycgfSwKICAgICAgICAgICAgeyBjb3VudDogNiwgbWluOiAxLCBtYXg6IDEwMCwgcm91bmRzOiA1LCBkZXNjOiAnWmFobGVuIDEtMTAwLCA2IFN0w7xjaycgfSwKICAgICAgICAgICAgeyBjb3VudDogNiwgbWluOiAxMCwgbWF4OiAxMDAsIHJvdW5kczogNiwgZGVzYzogJ0dyb8OfIG5hY2gga2xlaW4hLCA2IFN0w7xjaycsIGRlc2NlbmRpbmc6IHRydWUgfQogICAgICAgIF07CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gaW5pdEF1ZGlvKCkgeyBpZiAoIWF1ZGlvQ3R4KSBhdWRpb0N0eCA9IG5ldyAod2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSgpOyB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gcGxheVNvdW5kKHR5cGUpIHsKICAgICAgICAgICAgaWYgKCFzb3VuZEVuYWJsZWQgfHwgIWF1ZGlvQ3R4KSByZXR1cm47CiAgICAgICAgICAgIGNvbnN0IG9zYyA9IGF1ZGlvQ3R4LmNyZWF0ZU9zY2lsbGF0b3IoKSwgZ2FpbiA9IGF1ZGlvQ3R4LmNyZWF0ZUdhaW4oKTsKICAgICAgICAgICAgb3NjLmNvbm5lY3QoZ2Fpbik7IGdhaW4uY29ubmVjdChhdWRpb0N0eC5kZXN0aW5hdGlvbik7CiAgICAgICAgICAgIGlmICh0eXBlID09PSAnY29ycmVjdCcpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VGcmVxID0gNDAwICsgY3VycmVudEluZGV4ICogODA7CiAgICAgICAgICAgICAgICBvc2MuZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKGJhc2VGcmVxLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4xMiwgYXVkaW9DdHguY3VycmVudFRpbWUpOwogICAgICAgICAgICAgICAgZ2Fpbi5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjE1KTsKICAgICAgICAgICAgICAgIG9zYy5zdGFydCgpOyBvc2Muc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMTUpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd3cm9uZycpIHsKICAgICAgICAgICAgICAgIG9zYy5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoMTUwLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4xMiwgYXVkaW9DdHguY3VycmVudFRpbWUpOwogICAgICAgICAgICAgICAgZ2Fpbi5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjIpOwogICAgICAgICAgICAgICAgb3NjLnN0YXJ0KCk7IG9zYy5zdG9wKGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4yKTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnY29tcGxldGUnKSB7CiAgICAgICAgICAgICAgICBbNTIzLCA2NTksIDc4NCwgMTA0N10uZm9yRWFjaCgoZiwgaSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG8gPSBhdWRpb0N0eC5jcmVhdGVPc2NpbGxhdG9yKCksIGcgPSBhdWRpb0N0eC5jcmVhdGVHYWluKCk7CiAgICAgICAgICAgICAgICAgICAgby5jb25uZWN0KGcpOyBnLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pOwogICAgICAgICAgICAgICAgICAgIG8uZnJlcXVlbmN5LnZhbHVlID0gZjsKICAgICAgICAgICAgICAgICAgICBnLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4xLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjEpOwogICAgICAgICAgICAgICAgICAgIGcuZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMSArIDAuMik7CiAgICAgICAgICAgICAgICAgICAgby5zdGFydChhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjEpOwogICAgICAgICAgICAgICAgICAgIG8uc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjEgKyAwLjIpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgc291bmRUb2dnbGUub25jbGljayA9ICgpID0+IHsgc291bmRFbmFibGVkID0gIXNvdW5kRW5hYmxlZDsgc291bmRUb2dnbGUudGV4dENvbnRlbnQgPSBzb3VuZEVuYWJsZWQgPyAn8J+UiicgOiAn8J+Uhyc7IH07CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVOdW1iZXJzKCkgewogICAgICAgICAgICBjb25zdCBjb25maWcgPSBsZXZlbENvbmZpZ3NbbGV2ZWwgLSAxXTsKICAgICAgICAgICAgbnVtYmVycyA9IFtdOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gR2VuZXJhdGUgdW5pcXVlIHJhbmRvbSBudW1iZXJzCiAgICAgICAgICAgIHdoaWxlIChudW1iZXJzLmxlbmd0aCA8IGNvbmZpZy5jb3VudCkgewogICAgICAgICAgICAgICAgY29uc3QgbnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGNvbmZpZy5tYXggLSBjb25maWcubWluICsgMSkpICsgY29uZmlnLm1pbjsKICAgICAgICAgICAgICAgIGlmICghbnVtYmVycy5pbmNsdWRlcyhudW0pKSBudW1iZXJzLnB1c2gobnVtKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgYXNjZW5kaW5nID0gIWNvbmZpZy5kZXNjZW5kaW5nOwogICAgICAgICAgICBzb3J0ZWROdW1iZXJzID0gWy4uLm51bWJlcnNdLnNvcnQoKGEsIGIpID0+IGFzY2VuZGluZyA/IGEgLSBiIDogYiAtIGEpOwogICAgICAgICAgICBjdXJyZW50SW5kZXggPSAwOwogICAgICAgICAgICAKICAgICAgICAgICAgaW5zdHJ1Y3Rpb25EaXNwbGF5LnRleHRDb250ZW50ID0gYXNjZW5kaW5nID8gJ09yZG5lIHZvbiBrbGVpbiBuYWNoIGdyb8OfISDirIbvuI8nIDogJ09yZG5lIHZvbiBncm/DnyBuYWNoIGtsZWluISDirIfvuI8nOwogICAgICAgICAgICBtb2RlRGlzcGxheS50ZXh0Q29udGVudCA9IGFzY2VuZGluZyA/ICcxIOKGkiAyIOKGkiAzIOKGkiAuLi4nIDogJy4uLiDihpIgMyDihpIgMiDihpIgMSc7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVVJKCkgewogICAgICAgICAgICAvLyBDcmVhdGUgc2xvdHMKICAgICAgICAgICAgc2xvdHNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgIHNvcnRlZE51bWJlcnMuZm9yRWFjaCgobnVtLCBpKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBzbG90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBzbG90LmNsYXNzTmFtZSA9ICdzbG90JyArIChpID09PSAwID8gJyBuZXh0JyA6ICcnKTsKICAgICAgICAgICAgICAgIHNsb3QuZGF0YXNldC5pbmRleCA9IGk7CiAgICAgICAgICAgICAgICBzbG90c0NvbnRhaW5lci5hcHBlbmRDaGlsZChzbG90KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBDcmVhdGUgbnVtYmVyIGJ1dHRvbnMgKHNodWZmbGVkKQogICAgICAgICAgICBudW1iZXJzQ29udGFpbmVyLmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICBjb25zdCBzaHVmZmxlZCA9IFsuLi5udW1iZXJzXS5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpOwogICAgICAgICAgICBzaHVmZmxlZC5mb3JFYWNoKG51bSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgICAgIGJ0bi5jbGFzc05hbWUgPSAnbnVtYmVyLWJ0bic7CiAgICAgICAgICAgICAgICBidG4udGV4dENvbnRlbnQgPSBudW07CiAgICAgICAgICAgICAgICBidG4ub25jbGljayA9ICgpID0+IGhhbmRsZUNsaWNrKG51bSwgYnRuKTsKICAgICAgICAgICAgICAgIG51bWJlcnNDb250YWluZXIuYXBwZW5kQ2hpbGQoYnRuKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKG51bSwgYnRuKSB7CiAgICAgICAgICAgIGlmIChudW0gPT09IHNvcnRlZE51bWJlcnNbY3VycmVudEluZGV4XSkgewogICAgICAgICAgICAgICAgLy8gQ29ycmVjdCEKICAgICAgICAgICAgICAgIHBsYXlTb3VuZCgnY29ycmVjdCcpOwogICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoJ2NvcnJlY3QnKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3Qgc2xvdHMgPSBzbG90c0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuc2xvdCcpOwogICAgICAgICAgICAgICAgc2xvdHNbY3VycmVudEluZGV4XS50ZXh0Q29udGVudCA9IG51bTsKICAgICAgICAgICAgICAgIHNsb3RzW2N1cnJlbnRJbmRleF0uY2xhc3NMaXN0LmFkZCgnZmlsbGVkJyk7CiAgICAgICAgICAgICAgICBzbG90c1tjdXJyZW50SW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoJ25leHQnKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY3VycmVudEluZGV4Kys7CiAgICAgICAgICAgICAgICBzY29yZSArPSAxMDsKICAgICAgICAgICAgICAgIHNjb3JlRGlzcGxheS50ZXh0Q29udGVudCA9IHNjb3JlOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEluZGV4ID49IHNvcnRlZE51bWJlcnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gUm91bmQgY29tcGxldGUKICAgICAgICAgICAgICAgICAgICBwbGF5U291bmQoJ2NvbXBsZXRlJyk7CiAgICAgICAgICAgICAgICAgICAgcm91bmQrKzsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZiAocm91bmQgPiB0b3RhbFJvdW5kcykgewogICAgICAgICAgICAgICAgICAgICAgICBsZXZlbENvbXBsZXRlKCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcm91bmREaXNwbGF5LnRleHRDb250ZW50ID0gcm91bmQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVOdW1iZXJzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVVSSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9LCA4MDApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgc2xvdHNbY3VycmVudEluZGV4XS5jbGFzc0xpc3QuYWRkKCduZXh0Jyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBXcm9uZwogICAgICAgICAgICAgICAgcGxheVNvdW5kKCd3cm9uZycpOwogICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoJ3dyb25nJyk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCd3cm9uZycpLCAzMDApOwogICAgICAgICAgICAgICAgc2NvcmUgPSBNYXRoLm1heCgwLCBzY29yZSAtIDUpOwogICAgICAgICAgICAgICAgc2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gbGV2ZWxDb21wbGV0ZSgpIHsKICAgICAgICAgICAgbGV2ZWwrKzsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChsZXZlbCA+IGxldmVsQ29uZmlncy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIGZpbmFsU2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7CiAgICAgICAgICAgICAgICB3aW5TY3JlZW4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzaG93TGV2ZWxTY3JlZW4oKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBzaG93TGV2ZWxTY3JlZW4oKSB7CiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IGxldmVsQ29uZmlnc1tsZXZlbCAtIDFdOwogICAgICAgICAgICBsZXZlbE51bWJlci50ZXh0Q29udGVudCA9IGxldmVsOwogICAgICAgICAgICBsZXZlbERlc2MudGV4dENvbnRlbnQgPSBjb25maWcuZGVzYzsKICAgICAgICAgICAgbGV2ZWxTY3JlZW4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGxldmVsU2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgICAgICAgICAgcm91bmQgPSAxOwogICAgICAgICAgICAgICAgdG90YWxSb3VuZHMgPSBjb25maWcucm91bmRzOwogICAgICAgICAgICAgICAgcm91bmREaXNwbGF5LnRleHRDb250ZW50ID0gcm91bmQ7CiAgICAgICAgICAgICAgICB0b3RhbFJvdW5kc0Rpc3BsYXkudGV4dENvbnRlbnQgPSB0b3RhbFJvdW5kczsKICAgICAgICAgICAgICAgIGxldmVsRGlzcGxheS50ZXh0Q29udGVudCA9IGxldmVsOwogICAgICAgICAgICAgICAgZ2VuZXJhdGVOdW1iZXJzKCk7CiAgICAgICAgICAgICAgICBjcmVhdGVVSSgpOwogICAgICAgICAgICB9LCAxNTAwKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gc3RhcnRHYW1lKCkgewogICAgICAgICAgICBpbml0QXVkaW8oKTsKICAgICAgICAgICAgbGV2ZWwgPSAxOwogICAgICAgICAgICBzY29yZSA9IDA7CiAgICAgICAgICAgIHJvdW5kID0gMTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IGxldmVsQ29uZmlnc1swXTsKICAgICAgICAgICAgdG90YWxSb3VuZHMgPSBjb25maWcucm91bmRzOwogICAgICAgICAgICAKICAgICAgICAgICAgc2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7CiAgICAgICAgICAgIHJvdW5kRGlzcGxheS50ZXh0Q29udGVudCA9IHJvdW5kOwogICAgICAgICAgICB0b3RhbFJvdW5kc0Rpc3BsYXkudGV4dENvbnRlbnQgPSB0b3RhbFJvdW5kczsKICAgICAgICAgICAgbGV2ZWxEaXNwbGF5LnRleHRDb250ZW50ID0gbGV2ZWw7CiAgICAgICAgICAgIAogICAgICAgICAgICBzdGFydFNjcmVlbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICAgICAgd2luU2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgICAgICAKICAgICAgICAgICAgZ2VuZXJhdGVOdW1iZXJzKCk7CiAgICAgICAgICAgIGNyZWF0ZVVJKCk7CiAgICAgICAgfQogICAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo=';
GAMES['woerter'] = 'PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImRlIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyI+CiAgICA8dGl0bGU+8J+UpCBXw7ZydGVyLUJhdW1laXN0ZXIhPC90aXRsZT4KICAgIDxzdHlsZT4KICAgICAgICBAaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1GcmVkb2thOndnaHRANDAwOzYwMDs3MDAmZGlzcGxheT1zd2FwJyk7CiAgICAgICAgKiB7IG1hcmdpbjogMDsgcGFkZGluZzogMDsgYm94LXNpemluZzogYm9yZGVyLWJveDsgfQogICAgICAgIGJvZHkgeyBmb250LWZhbWlseTogJ0ZyZWRva2EnLCBzYW5zLXNlcmlmOyBtaW4taGVpZ2h0OiAxMDB2aDsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2YwOTNmYiAwJSwgI2Y1NTc2YyAxMDAlKTsgb3ZlcmZsb3cteDogaGlkZGVuOyB0b3VjaC1hY3Rpb246IG1hbmlwdWxhdGlvbjsgfQogICAgICAgICNnYW1lLWNvbnRhaW5lciB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgd2lkdGg6IDEwMHZ3OyBtaW4taGVpZ2h0OiAxMDB2aDsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgcGFkZGluZzogMTBweDsgfQogICAgICAgICN0b3AtYmFyIHsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogMTBweDsgcGFkZGluZzogMTBweDsgZmxleC13cmFwOiB3cmFwOyB9CiAgICAgICAgLnN0YXQtYm94IHsgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjkpOyBjb2xvcjogIzMzMzsgcGFkZGluZzogOHB4IDE2cHg7IGJvcmRlci1yYWRpdXM6IDI1cHg7IGZvbnQtc2l6ZTogMTVweDsgZm9udC13ZWlnaHQ6IDYwMDsgfQogICAgICAgICNzb3VuZC10b2dnbGUgeyBiYWNrZ3JvdW5kOiAjMzQ5OERCOyBib3JkZXI6IG5vbmU7IHBhZGRpbmc6IDhweCAxNXB4OyBib3JkZXItcmFkaXVzOiAyNXB4OyBmb250LXNpemU6IDE4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAgICNnYW1lLWFyZWEgeyBmbGV4OiAxOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBhbGlnbi1pdGVtczogY2VudGVyOyBwYWRkaW5nOiAxNXB4OyB3aWR0aDogMTAwJTsgbWF4LXdpZHRoOiA0NTBweDsgfQogICAgICAgICNoaW50LWFyZWEgeyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuOTUpOyBwYWRkaW5nOiAyMHB4OyBib3JkZXItcmFkaXVzOiAyMHB4OyBtYXJnaW4tYm90dG9tOiAyMHB4OyBib3gtc2hhZG93OiAwIDhweCAzMHB4IHJnYmEoMCwwLDAsMC4yKTsgdGV4dC1hbGlnbjogY2VudGVyOyB3aWR0aDogMTAwJTsgfQogICAgICAgICNoaW50LWVtb2ppIHsgZm9udC1zaXplOiA2MHB4OyBtYXJnaW4tYm90dG9tOiA4cHg7IH0KICAgICAgICAjaGludC10ZXh0IHsgZm9udC1zaXplOiAxOHB4OyBjb2xvcjogIzY2NjsgfQogICAgICAgICN3b3JkLWRpc3BsYXkgeyBkaXNwbGF5OiBmbGV4OyBnYXA6IDhweDsgbWFyZ2luLWJvdHRvbTogMjVweDsgZmxleC13cmFwOiB3cmFwOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgfQogICAgICAgIC53b3JkLXNsb3QgeyB3aWR0aDogNTBweDsgaGVpZ2h0OiA2MHB4OyBiYWNrZ3JvdW5kOiB3aGl0ZTsgYm9yZGVyLXJhZGl1czogMTJweDsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGZvbnQtc2l6ZTogMzJweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGJveC1zaGFkb3c6IDAgNHB4IDE1cHggcmdiYSgwLDAsMCwwLjEpOyBib3JkZXI6IDNweCBzb2xpZCAjZGRkOyB9CiAgICAgICAgLndvcmQtc2xvdC5maWxsZWQgeyBib3JkZXItY29sb3I6ICMzNDk4REI7IGJhY2tncm91bmQ6ICNFQkY1RkI7IH0KICAgICAgICAud29yZC1zbG90LmNvcnJlY3QgeyBib3JkZXItY29sb3I6ICMyRUNDNzE7IGJhY2tncm91bmQ6ICNENUY1RTM7IH0KICAgICAgICAud29yZC1zbG90Lndyb25nIHsgYm9yZGVyLWNvbG9yOiAjRTc0QzNDOyBiYWNrZ3JvdW5kOiAjRkFEQkQ4OyBhbmltYXRpb246IHNoYWtlIDAuM3M7IH0KICAgICAgICBAa2V5ZnJhbWVzIHNoYWtlIHsgMCUsIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7IH0gMjUlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01cHgpOyB9IDc1JSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCg1cHgpOyB9IH0KICAgICAgICAjbGV0dGVycy1jb250YWluZXIgeyBkaXNwbGF5OiBmbGV4OyBnYXA6IDEwcHg7IGZsZXgtd3JhcDogd3JhcDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IG1hcmdpbi1ib3R0b206IDIwcHg7IH0KICAgICAgICAubGV0dGVyLWJ0biB7IHdpZHRoOiA1NXB4OyBoZWlnaHQ6IDU1cHg7IGZvbnQtc2l6ZTogMjhweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGJhY2tncm91bmQ6IHdoaXRlOyBib3JkZXI6IG5vbmU7IGJvcmRlci1yYWRpdXM6IDUwJTsgY3Vyc29yOiBwb2ludGVyOyBib3gtc2hhZG93OiAwIDVweCAwIHJnYmEoMCwwLDAsMC4xNSk7IHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjE1czsgZm9udC1mYW1pbHk6ICdGcmVkb2thJywgc2Fucy1zZXJpZjsgfQogICAgICAgIC5sZXR0ZXItYnRuOmFjdGl2ZSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgzcHgpOyBib3gtc2hhZG93OiAwIDJweCAwIHJnYmEoMCwwLDAsMC4xNSk7IH0KICAgICAgICAubGV0dGVyLWJ0bi51c2VkIHsgb3BhY2l0eTogMC4zOyBwb2ludGVyLWV2ZW50czogbm9uZTsgfQogICAgICAgIC5sZXR0ZXItYnRuLmhpbnQgeyBiYWNrZ3JvdW5kOiAjRjFDNDBGOyBhbmltYXRpb246IHB1bHNlIDAuNXMgaW5maW5pdGU7IH0KICAgICAgICBAa2V5ZnJhbWVzIHB1bHNlIHsgMCUsIDEwMCUgeyB0cmFuc2Zvcm06IHNjYWxlKDEpOyB9IDUwJSB7IHRyYW5zZm9ybTogc2NhbGUoMS4xKTsgfSB9CiAgICAgICAgI2NvbnRyb2xzIHsgZGlzcGxheTogZmxleDsgZ2FwOiAxNXB4OyBtYXJnaW4tdG9wOiAxMHB4OyB9CiAgICAgICAgLmN0cmwtYnRuIHsgcGFkZGluZzogMTJweCAyNXB4OyBmb250LXNpemU6IDE2cHg7IGZvbnQtd2VpZ2h0OiA2MDA7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXJhZGl1czogMjVweDsgY3Vyc29yOiBwb2ludGVyOyBmb250LWZhbWlseTogJ0ZyZWRva2EnLCBzYW5zLXNlcmlmOyB9CiAgICAgICAgI3VuZG8tYnRuIHsgYmFja2dyb3VuZDogI0U3NEMzQzsgY29sb3I6IHdoaXRlOyB9CiAgICAgICAgI2hpbnQtYnRuIHsgYmFja2dyb3VuZDogI0YxQzQwRjsgY29sb3I6ICMzMzM7IH0KICAgICAgICAjY2hlY2stYnRuIHsgYmFja2dyb3VuZDogIzJFQ0M3MTsgY29sb3I6IHdoaXRlOyB9CiAgICAgICAgI3N0YXJ0LXNjcmVlbiwgI3dpbi1zY3JlZW4sICNsZXZlbC1zY3JlZW4geyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2YwOTNmYiAwJSwgI2Y1NTc2YyAxMDAlKTsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IHotaW5kZXg6IDIwMDsgZ2FwOiAyMHB4OyBwYWRkaW5nOiAyMHB4OyB9CiAgICAgICAgI3dpbi1zY3JlZW4geyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMTE5OThlIDAlLCAjMzhlZjdkIDEwMCUpOyB9CiAgICAgICAgLnNjcmVlbi10aXRsZSB7IGZvbnQtc2l6ZTogNDBweDsgY29sb3I6IHdoaXRlOyB0ZXh0LXNoYWRvdzogMCA0cHggMCByZ2JhKDAsMCwwLDAuMik7IHRleHQtYWxpZ246IGNlbnRlcjsgfQogICAgICAgIC5zY3JlZW4taWNvbiB7IGZvbnQtc2l6ZTogNzBweDsgfQogICAgICAgIC5zdGFydC1idG4geyBiYWNrZ3JvdW5kOiAjRjFDNDBGOyBjb2xvcjogIzMzMzsgYm9yZGVyOiBub25lOyBwYWRkaW5nOiAxOHB4IDQ1cHg7IGZvbnQtc2l6ZTogMjJweDsgZm9udC1mYW1pbHk6ICdGcmVkb2thJywgc2Fucy1zZXJpZjsgZm9udC13ZWlnaHQ6IDcwMDsgYm9yZGVyLXJhZGl1czogNTBweDsgY3Vyc29yOiBwb2ludGVyOyBib3gtc2hhZG93OiAwIDVweCAwICNENEFDMEQ7IH0KICAgICAgICAuc3RhcnQtYnRuOmFjdGl2ZSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgzcHgpOyBib3gtc2hhZG93OiAwIDJweCAwICNENEFDMEQ7IH0KICAgICAgICAuaGlkZGVuIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9CiAgICAgICAgLndvcmRzLWxlYXJuZWQgeyBjb2xvcjogd2hpdGU7IGZvbnQtc2l6ZTogMThweDsgdGV4dC1hbGlnbjogY2VudGVyOyBtYXgtd2lkdGg6IDMwMHB4OyBsaW5lLWhlaWdodDogMS42OyB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGRpdiBpZD0iZ2FtZS1jb250YWluZXIiPgogICAgICAgIDxkaXYgaWQ9InRvcC1iYXIiPgogICAgICAgICAgICA8YnV0dG9uIGlkPSJzb3VuZC10b2dnbGUiPvCflIo8L2J1dHRvbj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPuKtkCA8c3BhbiBpZD0ic2NvcmUiPjA8L3NwYW4+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtYm94Ij7wn5OdIDxzcGFuIGlkPSJ3b3JkcyI+MDwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPvCfkqEgPHNwYW4gaWQ9ImhpbnRzIj4zPC9zcGFuPjwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWJveCI+THYgPHNwYW4gaWQ9ImxldmVsIj4xPC9zcGFuPjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9ImdhbWUtYXJlYSI+CiAgICAgICAgICAgIDxkaXYgaWQ9ImhpbnQtYXJlYSI+CiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJoaW50LWVtb2ppIj7wn5CxPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJoaW50LXRleHQiPkVpbiBUaWVyLCBkYXMgbWlhdXQ8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgaWQ9IndvcmQtZGlzcGxheSI+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgaWQ9ImxldHRlcnMtY29udGFpbmVyIj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBpZD0iY29udHJvbHMiPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iY3RybC1idG4iIGlkPSJ1bmRvLWJ0biIgb25jbGljaz0idW5kb0xldHRlcigpIj7ihqnvuI8gWnVyw7xjazwvYnV0dG9uPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iY3RybC1idG4iIGlkPSJoaW50LWJ0biIgb25jbGljaz0idXNlSGludCgpIj7wn5KhIFRpcHA8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImN0cmwtYnRuIiBpZD0iY2hlY2stYnRuIiBvbmNsaWNrPSJjaGVja1dvcmQoKSI+4pyTIFByw7xmZW48L2J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0ic3RhcnQtc2NyZWVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPvCflKQ8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPlfDtnJ0ZXItQmF1bWVpc3RlciE8L2gxPgogICAgICAgICAgICA8cCBzdHlsZT0iY29sb3I6d2hpdGU7Zm9udC1zaXplOjE2cHg7dGV4dC1hbGlnbjpjZW50ZXI7Ij5PcmRuZSBkaWUgQnVjaHN0YWJlbiByaWNodGlnIGFuITxicj5CYXVlIFfDtnJ0ZXIgYXVzIGR1cmNoZWluYW5kZXIgZ2V3w7xyZmVsdGVuIEJ1Y2hzdGFiZW4hPC9wPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzdGFydC1idG4iIG9uY2xpY2s9InN0YXJ0R2FtZSgpIj7wn46uIFN0YXJ0ITwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9ImxldmVsLXNjcmVlbiIgY2xhc3M9ImhpZGRlbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNjcmVlbi1pY29uIj7wn5SkPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5MZXZlbCA8c3BhbiBpZD0ibGV2ZWwtbnVtYmVyIj4xPC9zcGFuPjwvaDE+CiAgICAgICAgICAgIDxwIGlkPSJsZXZlbC1kZXNjIiBzdHlsZT0iY29sb3I6d2hpdGU7Zm9udC1zaXplOjE4cHg7dGV4dC1hbGlnbjpjZW50ZXI7Ij48L3A+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0id2luLXNjcmVlbiIgY2xhc3M9ImhpZGRlbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNjcmVlbi1pY29uIj7wn4+GPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5Xb3J0LUdlbmllITwvaDE+CiAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjp3aGl0ZTtmb250LXNpemU6MjRweDsiPuKtkCA8c3BhbiBpZD0iZmluYWwtc2NvcmUiPjA8L3NwYW4+IFB1bmt0ZTwvcD4KICAgICAgICAgICAgPHAgY2xhc3M9IndvcmRzLWxlYXJuZWQiPkdlbGVybnRlIFfDtnJ0ZXI6IDxzcGFuIGlkPSJsZWFybmVkLXdvcmRzIj48L3NwYW4+PC9wPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzdGFydC1idG4iIG9uY2xpY2s9InN0YXJ0R2FtZSgpIj7wn5SEIE5vY2htYWwhPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8c2NyaXB0PgogICAgICAgIGNvbnN0IGhpbnRFbW9qaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaW50LWVtb2ppJyk7CiAgICAgICAgY29uc3QgaGludFRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGludC10ZXh0Jyk7CiAgICAgICAgY29uc3Qgd29yZERpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd29yZC1kaXNwbGF5Jyk7CiAgICAgICAgY29uc3QgbGV0dGVyc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXR0ZXJzLWNvbnRhaW5lcicpOwogICAgICAgIGNvbnN0IHNjb3JlRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZScpOwogICAgICAgIGNvbnN0IHdvcmRzRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3b3JkcycpOwogICAgICAgIGNvbnN0IGhpbnRzRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaW50cycpOwogICAgICAgIGNvbnN0IGxldmVsRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbCcpOwogICAgICAgIGNvbnN0IGxldmVsTnVtYmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLW51bWJlcicpOwogICAgICAgIGNvbnN0IGxldmVsRGVzYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC1kZXNjJyk7CiAgICAgICAgY29uc3Qgc3RhcnRTY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnQtc2NyZWVuJyk7CiAgICAgICAgY29uc3Qgd2luU2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpbi1zY3JlZW4nKTsKICAgICAgICBjb25zdCBsZXZlbFNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC1zY3JlZW4nKTsKICAgICAgICBjb25zdCBmaW5hbFNjb3JlRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaW5hbC1zY29yZScpOwogICAgICAgIGNvbnN0IGxlYXJuZWRXb3Jkc0Rpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhcm5lZC13b3JkcycpOwogICAgICAgIGNvbnN0IHNvdW5kVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvdW5kLXRvZ2dsZScpOwogICAgICAgIAogICAgICAgIGxldCBsZXZlbCA9IDEsIHNjb3JlID0gMCwgd29yZHNDb21wbGV0ZWQgPSAwLCBoaW50c0xlZnQgPSAzOwogICAgICAgIGxldCBjdXJyZW50V29yZCA9ICcnLCBjdXJyZW50TGV0dGVycyA9IFtdLCBzZWxlY3RlZExldHRlcnMgPSBbXTsKICAgICAgICBsZXQgd29yZEluZGV4ID0gMCwgd29yZHNQZXJMZXZlbCA9IDU7CiAgICAgICAgbGV0IHNvdW5kRW5hYmxlZCA9IHRydWUsIGxlYXJuZWRXb3JkcyA9IFtdOwogICAgICAgIGxldCBhdWRpb0N0eCA9IG51bGw7CiAgICAgICAgCiAgICAgICAgLy8gV29yZCBkYXRhYmFzZSB3aXRoIGhpbnRzCiAgICAgICAgY29uc3Qgd29yZEJhbmsgPSBbCiAgICAgICAgICAgIC8vIExldmVsIDE6IDMtNCBsZXR0ZXJzCiAgICAgICAgICAgIHsgd29yZDogJ0hVTkQnLCBlbW9qaTogJ/CfkJUnLCBoaW50OiAnRWluIHRyZXVlciBWaWVyYmVpbmVyJyB9LAogICAgICAgICAgICB7IHdvcmQ6ICdIQVVTJywgZW1vamk6ICfwn4+gJywgaGludDogJ0hpZXIgd29obmVuIE1lbnNjaGVuJyB9LAogICAgICAgICAgICB7IHdvcmQ6ICdCQVVNJywgZW1vamk6ICfwn4yzJywgaGludDogJ1fDpGNoc3QgaW0gV2FsZCcgfSwKICAgICAgICAgICAgeyB3b3JkOiAnQVVUTycsIGVtb2ppOiAn8J+alycsIGhpbnQ6ICdGw6RocnQgYXVmIGRlciBTdHJhw59lJyB9LAogICAgICAgICAgICB7IHdvcmQ6ICdCQUxMJywgZW1vamk6ICfimr0nLCBoaW50OiAnRGFtaXQgc3BpZWx0IG1hbicgfSwKICAgICAgICAgICAgeyB3b3JkOiAnQlVDSCcsIGVtb2ppOiAn8J+TlicsIGhpbnQ6ICdNYW4ga2FubiBkYXJpbiBsZXNlbicgfSwKICAgICAgICAgICAgeyB3b3JkOiAnRklTQ0gnLCBlbW9qaTogJ/CfkJ8nLCBoaW50OiAnU2Nod2ltbXQgaW0gV2Fzc2VyJyB9LAogICAgICAgICAgICB7IHdvcmQ6ICdWT0dFTCcsIGVtb2ppOiAn8J+QpicsIGhpbnQ6ICdLYW5uIGZsaWVnZW4nIH0sCiAgICAgICAgICAgIC8vIExldmVsIDI6IDQtNSBsZXR0ZXJzCiAgICAgICAgICAgIHsgd29yZDogJ0tBVFpFJywgZW1vamk6ICfwn5CxJywgaGludDogJ01pYXV0IHVuZCBzY2hudXJydCcgfSwKICAgICAgICAgICAgeyB3b3JkOiAnQkxVTUUnLCBlbW9qaTogJ/CfjLgnLCBoaW50OiAnV8OkY2hzdCBpbSBHYXJ0ZW4nIH0sCiAgICAgICAgICAgIHsgd29yZDogJ1NPTk5FJywgZW1vamk6ICfimIDvuI8nLCBoaW50OiAnU2NoZWludCBhbSBIaW1tZWwnIH0sCiAgICAgICAgICAgIHsgd29yZDogJ1NURVJOJywgZW1vamk6ICfirZAnLCBoaW50OiAnTGV1Y2h0ZXQgbmFjaHRzJyB9LAogICAgICAgICAgICB7IHdvcmQ6ICdXQVNTRVInLCBlbW9qaTogJ/CfkqcnLCBoaW50OiAnTWFuIGthbm4gZXMgdHJpbmtlbicgfSwKICAgICAgICAgICAgeyB3b3JkOiAnV09MS0UnLCBlbW9qaTogJ+KYge+4jycsIGhpbnQ6ICdTY2h3ZWJ0IGFtIEhpbW1lbCcgfSwKICAgICAgICAgICAgeyB3b3JkOiAnQVBGRUwnLCBlbW9qaTogJ/CfjY4nLCBoaW50OiAnRWluZSByb3RlIEZydWNodCcgfSwKICAgICAgICAgICAgeyB3b3JkOiAnVElHRVInLCBlbW9qaTogJ/CfkK8nLCBoaW50OiAnR3Jvw59lIGdlc3RyZWlmdGUgS2F0emUnIH0sCiAgICAgICAgICAgIC8vIExldmVsIDM6IDUtNiBsZXR0ZXJzCiAgICAgICAgICAgIHsgd29yZDogJ1NDSFVMRScsIGVtb2ppOiAn8J+PqycsIGhpbnQ6ICdIaWVyIGxlcm50IG1hbicgfSwKICAgICAgICAgICAgeyB3b3JkOiAnR0FSVEVOJywgZW1vamk6ICfwn4y7JywgaGludDogJ0JsdW1lbiB3YWNoc2VuIGRvcnQnIH0sCiAgICAgICAgICAgIHsgd29yZDogJ1dJTlRFUicsIGVtb2ppOiAn4p2E77iPJywgaGludDogJ0thbHRlIEphaHJlc3plaXQnIH0sCiAgICAgICAgICAgIHsgd29yZDogJ1NPTU1FUicsIGVtb2ppOiAn8J+MnicsIGhpbnQ6ICdXYXJtZSBKYWhyZXN6ZWl0JyB9LAogICAgICAgICAgICB7IHdvcmQ6ICdGUkVVTkQnLCBlbW9qaTogJ/CfkasnLCBoaW50OiAnTWFnIGRpY2ggc2VocicgfSwKICAgICAgICAgICAgeyB3b3JkOiAnTU9OVEFHJywgZW1vamk6ICfwn5OFJywgaGludDogJ0Vyc3RlciBXb2NoZW50YWcnIH0sCiAgICAgICAgICAgIHsgd29yZDogJ0tJUkNIRScsIGVtb2ppOiAn4puqJywgaGludDogJ0dlYsOkdWRlIG1pdCBHbG9ja2VuJyB9LAogICAgICAgICAgICB7IHdvcmQ6ICdLRVJaRScsIGVtb2ppOiAn8J+Vr++4jycsIGhpbnQ6ICdCcmVubnQgdW5kIGxldWNodGV0JyB9LAogICAgICAgICAgICAvLyBMZXZlbCA0OiA2LTcgbGV0dGVycwogICAgICAgICAgICB7IHdvcmQ6ICdGRU5TVEVSJywgZW1vamk6ICfwn6qfJywgaGludDogJ01hbiBzY2hhdXQgaGluZHVyY2gnIH0sCiAgICAgICAgICAgIHsgd29yZDogJ0JSVUVDS0UnLCBlbW9qaTogJ/CfjIknLCBoaW50OiAnw5xiZXJxdWVydCBlaW5lbiBGbHVzcycgfSwKICAgICAgICAgICAgeyB3b3JkOiAnRkFIUlJBRCcsIGVtb2ppOiAn8J+asicsIGhpbnQ6ICdIYXQgendlaSBSw6RkZXInIH0sCiAgICAgICAgICAgIHsgd29yZDogJ0tPTVBVVEVSJywgZW1vamk6ICfwn5K7JywgaGludDogJ0VsZWt0cm9uaXNjaGVzIEdlcsOkdCcgfSwKICAgICAgICAgICAgeyB3b3JkOiAnRUxFRkFOVCcsIGVtb2ppOiAn8J+QmCcsIGhpbnQ6ICdHcm/Dn2VzIGdyYXVlcyBUaWVyJyB9LAogICAgICAgICAgICB7IHdvcmQ6ICdHRVNDSEVOSycsIGVtb2ppOiAn8J+OgScsIGhpbnQ6ICdCZWtvbW10IG1hbiB6dW0gR2VidXJ0c3RhZycgfSwKICAgICAgICAgICAgLy8gTGV2ZWwgNTogNysgbGV0dGVycwogICAgICAgICAgICB7IHdvcmQ6ICdTQ0hNRVRURVJMSU5HJywgZW1vamk6ICfwn6aLJywgaGludDogJ0J1bnRlcyBJbnNla3QgbWl0IEZsw7xnZWxuJyB9LAogICAgICAgICAgICB7IHdvcmQ6ICdGTFVHWkVVRycsIGVtb2ppOiAn4pyI77iPJywgaGludDogJ0ZsaWVndCBkdXJjaCBkaWUgTHVmdCcgfSwKICAgICAgICAgICAgeyB3b3JkOiAnR0VCVVJUU1RBRycsIGVtb2ppOiAn8J+OgicsIGhpbnQ6ICdFaW5tYWwgaW0gSmFociBmZWllcnQgbWFuJyB9LAogICAgICAgICAgICB7IHdvcmQ6ICdTQ0hPS09MQURFJywgZW1vamk6ICfwn42rJywgaGludDogJ1PDvMOfZSBicmF1bmUgTGVja2VyZWknIH0sCiAgICAgICAgICAgIHsgd29yZDogJ1JFR0VOQk9HRU4nLCBlbW9qaTogJ/CfjIgnLCBoaW50OiAnQnVudCBhbSBIaW1tZWwgbmFjaCBSZWdlbicgfQogICAgICAgIF07CiAgICAgICAgCiAgICAgICAgY29uc3QgbGV2ZWxDb25maWdzID0gWwogICAgICAgICAgICB7IHdvcmRzOiA0LCBtYXhMZW46IDQsIGRlc2M6ICdLdXJ6ZSBXw7ZydGVyICgzLTQgQnVjaHN0YWJlbiknIH0sCiAgICAgICAgICAgIHsgd29yZHM6IDUsIG1heExlbjogNSwgZGVzYzogJ01pdHRsZXJlIFfDtnJ0ZXIgKDQtNSBCdWNoc3RhYmVuKScgfSwKICAgICAgICAgICAgeyB3b3JkczogNSwgbWF4TGVuOiA2LCBkZXNjOiAnTMOkbmdlcmUgV8O2cnRlciAoNS02IEJ1Y2hzdGFiZW4pJyB9LAogICAgICAgICAgICB7IHdvcmRzOiA1LCBtYXhMZW46IDcsIGRlc2M6ICdTY2h3ZXJlIFfDtnJ0ZXIgKDYtNyBCdWNoc3RhYmVuKScgfSwKICAgICAgICAgICAgeyB3b3JkczogNCwgbWF4TGVuOiAxNSwgZGVzYzogJ0V4cGVydGVuLVfDtnJ0ZXIhJyB9CiAgICAgICAgXTsKICAgICAgICAKICAgICAgICBmdW5jdGlvbiBpbml0QXVkaW8oKSB7IGlmICghYXVkaW9DdHgpIGF1ZGlvQ3R4ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKCk7IH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBwbGF5U291bmQodHlwZSkgewogICAgICAgICAgICBpZiAoIXNvdW5kRW5hYmxlZCB8fCAhYXVkaW9DdHgpIHJldHVybjsKICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdjbGljaycpIHsKICAgICAgICAgICAgICAgIGNvbnN0IG9zYyA9IGF1ZGlvQ3R4LmNyZWF0ZU9zY2lsbGF0b3IoKSwgZ2FpbiA9IGF1ZGlvQ3R4LmNyZWF0ZUdhaW4oKTsKICAgICAgICAgICAgICAgIG9zYy5jb25uZWN0KGdhaW4pOyBnYWluLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pOwogICAgICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS52YWx1ZSA9IDYwMDsKICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjA4LCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBnYWluLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAxLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMDgpOwogICAgICAgICAgICAgICAgb3NjLnN0YXJ0KCk7IG9zYy5zdG9wKGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4wOCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2NvcnJlY3QnKSB7CiAgICAgICAgICAgICAgICBbNTIzLCA2NTksIDc4NCwgMTA0N10uZm9yRWFjaCgoZiwgaSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG8gPSBhdWRpb0N0eC5jcmVhdGVPc2NpbGxhdG9yKCksIGcgPSBhdWRpb0N0eC5jcmVhdGVHYWluKCk7CiAgICAgICAgICAgICAgICAgICAgby5jb25uZWN0KGcpOyBnLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pOwogICAgICAgICAgICAgICAgICAgIG8uZnJlcXVlbmN5LnZhbHVlID0gZjsKICAgICAgICAgICAgICAgICAgICBnLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4xLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjEpOwogICAgICAgICAgICAgICAgICAgIGcuZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMSArIDAuMTUpOwogICAgICAgICAgICAgICAgICAgIG8uc3RhcnQoYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xKTsKICAgICAgICAgICAgICAgICAgICBvLnN0b3AoYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xICsgMC4xNSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnd3JvbmcnKSB7CiAgICAgICAgICAgICAgICBjb25zdCBvc2MgPSBhdWRpb0N0eC5jcmVhdGVPc2NpbGxhdG9yKCksIGdhaW4gPSBhdWRpb0N0eC5jcmVhdGVHYWluKCk7CiAgICAgICAgICAgICAgICBvc2MuY29ubmVjdChnYWluKTsgZ2Fpbi5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTsKICAgICAgICAgICAgICAgIG9zYy5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoMjAwLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBvc2MuZnJlcXVlbmN5LmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMTAwLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMik7CiAgICAgICAgICAgICAgICBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4xMiwgYXVkaW9DdHguY3VycmVudFRpbWUpOwogICAgICAgICAgICAgICAgZ2Fpbi5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjI1KTsKICAgICAgICAgICAgICAgIG9zYy5zdGFydCgpOyBvc2Muc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMjUpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHNvdW5kVG9nZ2xlLm9uY2xpY2sgPSAoKSA9PiB7IHNvdW5kRW5hYmxlZCA9ICFzb3VuZEVuYWJsZWQ7IHNvdW5kVG9nZ2xlLnRleHRDb250ZW50ID0gc291bmRFbmFibGVkID8gJ/CflIonIDogJ/CflIcnOyB9OwogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGdldFdvcmRQb29sKCkgewogICAgICAgICAgICBjb25zdCBjb25maWcgPSBsZXZlbENvbmZpZ3NbbGV2ZWwgLSAxXTsKICAgICAgICAgICAgcmV0dXJuIHdvcmRCYW5rLmZpbHRlcih3ID0+IHcud29yZC5sZW5ndGggPD0gY29uZmlnLm1heExlbik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHNodWZmbGVBcnJheShhcnIpIHsKICAgICAgICAgICAgY29uc3Qgc2h1ZmZsZWQgPSBbLi4uYXJyXTsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IHNodWZmbGVkLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHsKICAgICAgICAgICAgICAgIGNvbnN0IGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTsKICAgICAgICAgICAgICAgIFtzaHVmZmxlZFtpXSwgc2h1ZmZsZWRbal1dID0gW3NodWZmbGVkW2pdLCBzaHVmZmxlZFtpXV07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHNodWZmbGVkOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBzZXR1cFdvcmQoKSB7CiAgICAgICAgICAgIGNvbnN0IHBvb2wgPSBnZXRXb3JkUG9vbCgpOwogICAgICAgICAgICBjb25zdCB3b3JkRGF0YSA9IHBvb2xbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9vbC5sZW5ndGgpXTsKICAgICAgICAgICAgY3VycmVudFdvcmQgPSB3b3JkRGF0YS53b3JkOwogICAgICAgICAgICBzZWxlY3RlZExldHRlcnMgPSBbXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGhpbnRFbW9qaS50ZXh0Q29udGVudCA9IHdvcmREYXRhLmVtb2ppOwogICAgICAgICAgICBoaW50VGV4dC50ZXh0Q29udGVudCA9IHdvcmREYXRhLmhpbnQ7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBDcmVhdGUgd29yZCBzbG90cwogICAgICAgICAgICB3b3JkRGlzcGxheS5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50V29yZC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgY29uc3Qgc2xvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgc2xvdC5jbGFzc05hbWUgPSAnd29yZC1zbG90JzsKICAgICAgICAgICAgICAgIHNsb3QuZGF0YXNldC5pbmRleCA9IGk7CiAgICAgICAgICAgICAgICB3b3JkRGlzcGxheS5hcHBlbmRDaGlsZChzbG90KTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ3JlYXRlIHNodWZmbGVkIGxldHRlciBidXR0b25zCiAgICAgICAgICAgIGN1cnJlbnRMZXR0ZXJzID0gc2h1ZmZsZUFycmF5KGN1cnJlbnRXb3JkLnNwbGl0KCcnKSk7CiAgICAgICAgICAgIGxldHRlcnNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgIGN1cnJlbnRMZXR0ZXJzLmZvckVhY2goKGxldHRlciwgaSkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICBidG4uY2xhc3NOYW1lID0gJ2xldHRlci1idG4nOwogICAgICAgICAgICAgICAgYnRuLnRleHRDb250ZW50ID0gbGV0dGVyOwogICAgICAgICAgICAgICAgYnRuLmRhdGFzZXQuaW5kZXggPSBpOwogICAgICAgICAgICAgICAgYnRuLm9uY2xpY2sgPSAoKSA9PiBzZWxlY3RMZXR0ZXIoaSk7CiAgICAgICAgICAgICAgICBsZXR0ZXJzQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ0bik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBzZWxlY3RMZXR0ZXIoaW5kZXgpIHsKICAgICAgICAgICAgY29uc3QgYnRuID0gbGV0dGVyc0NvbnRhaW5lci5jaGlsZHJlbltpbmRleF07CiAgICAgICAgICAgIGlmIChidG4uY2xhc3NMaXN0LmNvbnRhaW5zKCd1c2VkJykpIHJldHVybjsKICAgICAgICAgICAgCiAgICAgICAgICAgIHBsYXlTb3VuZCgnY2xpY2snKTsKICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoJ3VzZWQnKTsKICAgICAgICAgICAgc2VsZWN0ZWRMZXR0ZXJzLnB1c2goeyBsZXR0ZXI6IGN1cnJlbnRMZXR0ZXJzW2luZGV4XSwgYnRuSW5kZXg6IGluZGV4IH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gRmlsbCBzbG90CiAgICAgICAgICAgIGNvbnN0IHNsb3RJbmRleCA9IHNlbGVjdGVkTGV0dGVycy5sZW5ndGggLSAxOwogICAgICAgICAgICBpZiAoc2xvdEluZGV4IDwgY3VycmVudFdvcmQubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBzbG90ID0gd29yZERpc3BsYXkuY2hpbGRyZW5bc2xvdEluZGV4XTsKICAgICAgICAgICAgICAgIHNsb3QudGV4dENvbnRlbnQgPSBjdXJyZW50TGV0dGVyc1tpbmRleF07CiAgICAgICAgICAgICAgICBzbG90LmNsYXNzTGlzdC5hZGQoJ2ZpbGxlZCcpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHVuZG9MZXR0ZXIoKSB7CiAgICAgICAgICAgIGlmIChzZWxlY3RlZExldHRlcnMubGVuZ3RoID09PSAwKSByZXR1cm47CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBsYXN0ID0gc2VsZWN0ZWRMZXR0ZXJzLnBvcCgpOwogICAgICAgICAgICBjb25zdCBidG4gPSBsZXR0ZXJzQ29udGFpbmVyLmNoaWxkcmVuW2xhc3QuYnRuSW5kZXhdOwogICAgICAgICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSgndXNlZCcpOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3Qgc2xvdCA9IHdvcmREaXNwbGF5LmNoaWxkcmVuW3NlbGVjdGVkTGV0dGVycy5sZW5ndGhdOwogICAgICAgICAgICBzbG90LnRleHRDb250ZW50ID0gJyc7CiAgICAgICAgICAgIHNsb3QuY2xhc3NMaXN0LnJlbW92ZSgnZmlsbGVkJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBwbGF5U291bmQoJ2NsaWNrJyk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHVzZUhpbnQoKSB7CiAgICAgICAgICAgIGlmIChoaW50c0xlZnQgPD0gMCkgcmV0dXJuOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gRmluZCBmaXJzdCBlbXB0eSBvciB3cm9uZyBwb3NpdGlvbgogICAgICAgICAgICBjb25zdCBjdXJyZW50R3Vlc3MgPSBzZWxlY3RlZExldHRlcnMubWFwKHMgPT4gcy5sZXR0ZXIpLmpvaW4oJycpOwogICAgICAgICAgICBsZXQgaGludFBvcyA9IC0xOwogICAgICAgICAgICAKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50V29yZC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgaWYgKGkgPj0gc2VsZWN0ZWRMZXR0ZXJzLmxlbmd0aCB8fCBzZWxlY3RlZExldHRlcnNbaV0ubGV0dGVyICE9PSBjdXJyZW50V29yZFtpXSkgewogICAgICAgICAgICAgICAgICAgIGhpbnRQb3MgPSBpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoaGludFBvcyA9PT0gLTEpIHJldHVybjsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIENsZWFyIHdyb25nIGxldHRlcnMgYWZ0ZXIgaGludCBwb3NpdGlvbgogICAgICAgICAgICB3aGlsZSAoc2VsZWN0ZWRMZXR0ZXJzLmxlbmd0aCA+IGhpbnRQb3MpIHsKICAgICAgICAgICAgICAgIHVuZG9MZXR0ZXIoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gRmluZCBhbmQgaGlnaGxpZ2h0IHRoZSBjb3JyZWN0IGxldHRlcgogICAgICAgICAgICBjb25zdCBjb3JyZWN0TGV0dGVyID0gY3VycmVudFdvcmRbaGludFBvc107CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudExldHRlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGNvbnN0IGJ0biA9IGxldHRlcnNDb250YWluZXIuY2hpbGRyZW5baV07CiAgICAgICAgICAgICAgICBpZiAoIWJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3VzZWQnKSAmJiBjdXJyZW50TGV0dGVyc1tpXSA9PT0gY29ycmVjdExldHRlcikgewogICAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdoaW50Jyk7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBidG4uY2xhc3NMaXN0LnJlbW92ZSgnaGludCcpLCAxNTAwKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgaGludHNMZWZ0LS07CiAgICAgICAgICAgIGhpbnRzRGlzcGxheS50ZXh0Q29udGVudCA9IGhpbnRzTGVmdDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gY2hlY2tXb3JkKCkgewogICAgICAgICAgICBjb25zdCBndWVzcyA9IHNlbGVjdGVkTGV0dGVycy5tYXAocyA9PiBzLmxldHRlcikuam9pbignJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoZ3Vlc3MubGVuZ3RoIDwgY3VycmVudFdvcmQubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAvLyBOb3QgY29tcGxldGUKICAgICAgICAgICAgICAgIHBsYXlTb3VuZCgnd3JvbmcnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGd1ZXNzID09PSBjdXJyZW50V29yZCkgewogICAgICAgICAgICAgICAgLy8gQ29ycmVjdCEKICAgICAgICAgICAgICAgIHBsYXlTb3VuZCgnY29ycmVjdCcpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLndvcmQtc2xvdCcpLmZvckVhY2gocyA9PiBzLmNsYXNzTGlzdC5hZGQoJ2NvcnJlY3QnKSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHNjb3JlICs9IGN1cnJlbnRXb3JkLmxlbmd0aCAqIDEwOwogICAgICAgICAgICAgICAgd29yZHNDb21wbGV0ZWQrKzsKICAgICAgICAgICAgICAgIGxlYXJuZWRXb3Jkcy5wdXNoKGN1cnJlbnRXb3JkLnRvTG93ZXJDYXNlKCkpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzY29yZURpc3BsYXkudGV4dENvbnRlbnQgPSBzY29yZTsKICAgICAgICAgICAgICAgIHdvcmRzRGlzcGxheS50ZXh0Q29udGVudCA9IHdvcmRzQ29tcGxldGVkOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB3b3JkSW5kZXgrKzsKICAgICAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IGxldmVsQ29uZmlnc1tsZXZlbCAtIDFdOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAod29yZEluZGV4ID49IGNvbmZpZy53b3JkcykgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQobGV2ZWxDb21wbGV0ZSwgMTIwMCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoc2V0dXBXb3JkLCAxMjAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIFdyb25nCiAgICAgICAgICAgICAgICBwbGF5U291bmQoJ3dyb25nJyk7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcud29yZC1zbG90JykuZm9yRWFjaChzID0+IHMuY2xhc3NMaXN0LmFkZCgnd3JvbmcnKSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0CiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMZXR0ZXJzID0gW107CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLndvcmQtc2xvdCcpLmZvckVhY2gocyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHMudGV4dENvbnRlbnQgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgcy5jbGFzc0xpc3QucmVtb3ZlKCdmaWxsZWQnLCAnd3JvbmcnKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubGV0dGVyLWJ0bicpLmZvckVhY2goYiA9PiBiLmNsYXNzTGlzdC5yZW1vdmUoJ3VzZWQnKSk7CiAgICAgICAgICAgICAgICB9LCA4MDApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGxldmVsQ29tcGxldGUoKSB7CiAgICAgICAgICAgIGxldmVsKys7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAobGV2ZWwgPiBsZXZlbENvbmZpZ3MubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBmaW5hbFNjb3JlRGlzcGxheS50ZXh0Q29udGVudCA9IHNjb3JlOwogICAgICAgICAgICAgICAgbGVhcm5lZFdvcmRzRGlzcGxheS50ZXh0Q29udGVudCA9IGxlYXJuZWRXb3Jkcy5qb2luKCcsICcpOwogICAgICAgICAgICAgICAgd2luU2NyZWVuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2hvd0xldmVsU2NyZWVuKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gc2hvd0xldmVsU2NyZWVuKCkgewogICAgICAgICAgICBjb25zdCBjb25maWcgPSBsZXZlbENvbmZpZ3NbbGV2ZWwgLSAxXTsKICAgICAgICAgICAgbGV2ZWxOdW1iZXIudGV4dENvbnRlbnQgPSBsZXZlbDsKICAgICAgICAgICAgbGV2ZWxEZXNjLnRleHRDb250ZW50ID0gY29uZmlnLmRlc2M7CiAgICAgICAgICAgIGxldmVsU2NyZWVuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgICAgICAgICAKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBsZXZlbFNjcmVlbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICAgICAgICAgIHdvcmRJbmRleCA9IDA7CiAgICAgICAgICAgICAgICBoaW50c0xlZnQgPSAzOwogICAgICAgICAgICAgICAgaGludHNEaXNwbGF5LnRleHRDb250ZW50ID0gaGludHNMZWZ0OwogICAgICAgICAgICAgICAgbGV2ZWxEaXNwbGF5LnRleHRDb250ZW50ID0gbGV2ZWw7CiAgICAgICAgICAgICAgICBzZXR1cFdvcmQoKTsKICAgICAgICAgICAgfSwgMTUwMCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHN0YXJ0R2FtZSgpIHsKICAgICAgICAgICAgaW5pdEF1ZGlvKCk7CiAgICAgICAgICAgIGxldmVsID0gMTsKICAgICAgICAgICAgc2NvcmUgPSAwOwogICAgICAgICAgICB3b3Jkc0NvbXBsZXRlZCA9IDA7CiAgICAgICAgICAgIGhpbnRzTGVmdCA9IDM7CiAgICAgICAgICAgIHdvcmRJbmRleCA9IDA7CiAgICAgICAgICAgIGxlYXJuZWRXb3JkcyA9IFtdOwogICAgICAgICAgICAKICAgICAgICAgICAgc2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7CiAgICAgICAgICAgIHdvcmRzRGlzcGxheS50ZXh0Q29udGVudCA9IHdvcmRzQ29tcGxldGVkOwogICAgICAgICAgICBoaW50c0Rpc3BsYXkudGV4dENvbnRlbnQgPSBoaW50c0xlZnQ7CiAgICAgICAgICAgIGxldmVsRGlzcGxheS50ZXh0Q29udGVudCA9IGxldmVsOwogICAgICAgICAgICAKICAgICAgICAgICAgc3RhcnRTY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgIHdpblNjcmVlbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHNldHVwV29yZCgpOwogICAgICAgIH0KICAgIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4K';
GAMES['laender'] = 'PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImRlIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubywgdmlld3BvcnQtZml0PWNvdmVyIj4KICAgIDx0aXRsZT7wn4yNIEzDpG5kZXItUXVpeiE8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICAgIEBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PUZyZWRva2E6d2dodEA0MDA7NjAwOzcwMCZkaXNwbGF5PXN3YXAnKTsKICAgICAgICAqIHsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9CiAgICAgICAgYm9keSB7IGZvbnQtZmFtaWx5OiAnRnJlZG9rYScsIHNhbnMtc2VyaWY7IG1pbi1oZWlnaHQ6IDEwMHZoOyBtaW4taGVpZ2h0OiAxMDBkdmg7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMxZTNjNzIgMCUsICMyYTUyOTggMTAwJSk7IG92ZXJmbG93LXg6IGhpZGRlbjsgdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb247IC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7IH0KICAgICAgICAjZ2FtZS1jb250YWluZXIgeyBwb3NpdGlvbjogcmVsYXRpdmU7IHdpZHRoOiAxMDAlOyBtaW4taGVpZ2h0OiAxMDB2aDsgbWluLWhlaWdodDogMTAwZHZoOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBhbGlnbi1pdGVtczogY2VudGVyOyBwYWRkaW5nOiAxMHB4OyBwYWRkaW5nLWJvdHRvbTogbWF4KDEwcHgsIGVudihzYWZlLWFyZWEtaW5zZXQtYm90dG9tKSk7IH0KICAgICAgICAjdG9wLWJhciB7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDhweDsgcGFkZGluZzogOHB4OyBmbGV4LXdyYXA6IHdyYXA7IHdpZHRoOiAxMDAlOyB9CiAgICAgICAgLnN0YXQtYm94IHsgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjkpOyBjb2xvcjogIzMzMzsgcGFkZGluZzogNnB4IDE0cHg7IGJvcmRlci1yYWRpdXM6IDI1cHg7IGZvbnQtc2l6ZTogMTRweDsgZm9udC13ZWlnaHQ6IDYwMDsgfQogICAgICAgICNzb3VuZC10b2dnbGUgeyBiYWNrZ3JvdW5kOiAjMzQ5OERCOyBib3JkZXI6IG5vbmU7IHBhZGRpbmc6IDhweCAxNXB4OyBib3JkZXItcmFkaXVzOiAyNXB4OyBmb250LXNpemU6IDE4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAgICNnYW1lLWFyZWEgeyBmbGV4OiAxOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBhbGlnbi1pdGVtczogY2VudGVyOyBwYWRkaW5nOiAxMHB4OyB3aWR0aDogMTAwJTsgbWF4LXdpZHRoOiA1MDBweDsgfQogICAgICAgICNxdWVzdGlvbi10eXBlIHsgY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC45KTsgZm9udC1zaXplOiAxNnB4OyBtYXJnaW4tYm90dG9tOiAxMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IH0KICAgICAgICAjcXVlc3Rpb24tYm94IHsgYmFja2dyb3VuZDogd2hpdGU7IHBhZGRpbmc6IDIwcHg7IGJvcmRlci1yYWRpdXM6IDIwcHg7IG1hcmdpbi1ib3R0b206IDE1cHg7IGJveC1zaGFkb3c6IDAgOHB4IDMwcHggcmdiYSgwLDAsMCwwLjMpOyB0ZXh0LWFsaWduOiBjZW50ZXI7IHdpZHRoOiAxMDAlOyB9CiAgICAgICAgI2ZsYWctZGlzcGxheSB7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA4MHB4OyBtYXJnaW46IDAgYXV0byAxNXB4OyBib3JkZXItcmFkaXVzOiA4cHg7IGJveC1zaGFkb3c6IDAgNHB4IDE1cHggcmdiYSgwLDAsMCwwLjMpOyBib3JkZXI6IDNweCBzb2xpZCAjMzMzOyBvdmVyZmxvdzogaGlkZGVuOyB9CiAgICAgICAgI2ZsYWctZGlzcGxheSBpbWcgeyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBvYmplY3QtZml0OiBjb3ZlcjsgfQogICAgICAgICNjb3VudHJ5LW5hbWUgeyBmb250LXNpemU6IDI0cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogIzMzMzsgfQogICAgICAgICNhbnN3ZXJzLWNvbnRhaW5lciB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOyBnYXA6IDEwcHg7IHdpZHRoOiAxMDAlOyB9CiAgICAgICAgLmFuc3dlci1idG4geyBwYWRkaW5nOiAxNHB4IDIwcHg7IGZvbnQtc2l6ZTogMTZweDsgZm9udC13ZWlnaHQ6IDYwMDsgYmFja2dyb3VuZDogd2hpdGU7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXJhZGl1czogMTVweDsgY3Vyc29yOiBwb2ludGVyOyBib3gtc2hhZG93OiAwIDRweCAwIHJnYmEoMCwwLDAsMC4xKTsgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMXM7IGZvbnQtZmFtaWx5OiAnRnJlZG9rYScsIHNhbnMtc2VyaWY7IHRleHQtYWxpZ246IGxlZnQ7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogMTJweDsgfQogICAgICAgIC5hbnN3ZXItYnRuOmFjdGl2ZSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgycHgpOyBib3gtc2hhZG93OiAwIDJweCAwIHJnYmEoMCwwLDAsMC4xKTsgfQogICAgICAgIC5hbnN3ZXItYnRuLmNvcnJlY3QgeyBiYWNrZ3JvdW5kOiAjMkVDQzcxOyBjb2xvcjogd2hpdGU7IH0KICAgICAgICAuYW5zd2VyLWJ0bi53cm9uZyB7IGJhY2tncm91bmQ6ICNFNzRDM0M7IGNvbG9yOiB3aGl0ZTsgfQogICAgICAgIC5hbnN3ZXItZmxhZyB7IHdpZHRoOiA0MHB4OyBoZWlnaHQ6IDI3cHg7IGJvcmRlci1yYWRpdXM6IDRweDsgYm9yZGVyOiAxcHggc29saWQgI2NjYzsgZmxleC1zaHJpbms6IDA7IG9iamVjdC1maXQ6IGNvdmVyOyB9CiAgICAgICAgI3Byb2dyZXNzLWNvbnRhaW5lciB7IHdpZHRoOiAxMDAlOyBtYXgtd2lkdGg6IDMwMHB4OyBtYXJnaW4tdG9wOiAxNXB4OyB9CiAgICAgICAgI3Byb2dyZXNzLWJhciB7IGhlaWdodDogMTBweDsgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjMpOyBib3JkZXItcmFkaXVzOiA1cHg7IG92ZXJmbG93OiBoaWRkZW47IH0KICAgICAgICAjcHJvZ3Jlc3MtZmlsbCB7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZDogIzJFQ0M3MTsgdHJhbnNpdGlvbjogd2lkdGggMC4zczsgfQogICAgICAgICNwcm9ncmVzcy10ZXh0IHsgY29sb3I6IHdoaXRlOyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbi10b3A6IDZweDsgZm9udC1zaXplOiAxM3B4OyB9CiAgICAgICAgI3N0YXJ0LXNjcmVlbiwgI3dpbi1zY3JlZW4sICNsZXZlbC1zY3JlZW4geyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzFlM2M3MiAwJSwgIzJhNTI5OCAxMDAlKTsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IHotaW5kZXg6IDIwMDsgZ2FwOiAxNXB4OyBwYWRkaW5nOiAyMHB4OyB9CiAgICAgICAgI3dpbi1zY3JlZW4geyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMTE5OThlIDAlLCAjMzhlZjdkIDEwMCUpOyB9CiAgICAgICAgLnNjcmVlbi10aXRsZSB7IGZvbnQtc2l6ZTogMzZweDsgY29sb3I6IHdoaXRlOyB0ZXh0LXNoYWRvdzogMCA0cHggMCByZ2JhKDAsMCwwLDAuMik7IHRleHQtYWxpZ246IGNlbnRlcjsgfQogICAgICAgIC5zY3JlZW4taWNvbiB7IGZvbnQtc2l6ZTogNjBweDsgfQogICAgICAgIC5zdGFydC1idG4geyBiYWNrZ3JvdW5kOiAjRjFDNDBGOyBjb2xvcjogIzMzMzsgYm9yZGVyOiBub25lOyBwYWRkaW5nOiAxNnB4IDQwcHg7IGZvbnQtc2l6ZTogMjBweDsgZm9udC1mYW1pbHk6ICdGcmVkb2thJywgc2Fucy1zZXJpZjsgZm9udC13ZWlnaHQ6IDcwMDsgYm9yZGVyLXJhZGl1czogNTBweDsgY3Vyc29yOiBwb2ludGVyOyBib3gtc2hhZG93OiAwIDVweCAwICNENEFDMEQ7IH0KICAgICAgICAuc3RhcnQtYnRuOmFjdGl2ZSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgzcHgpOyBib3gtc2hhZG93OiAwIDJweCAwICNENEFDMEQ7IH0KICAgICAgICAuaGlkZGVuIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9CiAgICAgICAgLnN0YXRzLWdyaWQgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgyLCAxZnIpOyBnYXA6IDEycHg7IG1hcmdpbjogMTVweCAwOyB3aWR0aDogMTAwJTsgbWF4LXdpZHRoOiAyODBweDsgfQogICAgICAgIC5zdGF0LWl0ZW0geyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMik7IHBhZGRpbmc6IDEycHg7IGJvcmRlci1yYWRpdXM6IDEycHg7IHRleHQtYWxpZ246IGNlbnRlcjsgfQogICAgICAgIC5zdGF0LXZhbHVlIHsgZm9udC1zaXplOiAyNHB4OyBjb2xvcjogd2hpdGU7IGZvbnQtd2VpZ2h0OiBib2xkOyB9CiAgICAgICAgLnN0YXQtbGFiZWwgeyBmb250LXNpemU6IDEycHg7IGNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LDAuOCk7IH0KICAgIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8ZGl2IGlkPSJnYW1lLWNvbnRhaW5lciI+CiAgICAgICAgPGRpdiBpZD0idG9wLWJhciI+CiAgICAgICAgICAgIDxidXR0b24gaWQ9InNvdW5kLXRvZ2dsZSI+8J+UijwvYnV0dG9uPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWJveCI+4q2QIDxzcGFuIGlkPSJzY29yZSI+MDwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPuKckyA8c3BhbiBpZD0iY29ycmVjdCI+MDwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPkx2IDxzcGFuIGlkPSJsZXZlbCI+MTwvc3Bhbj48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJnYW1lLWFyZWEiPgogICAgICAgICAgICA8ZGl2IGlkPSJxdWVzdGlvbi10eXBlIj5XZWxjaGVzIExhbmQgaGF0IGRpZXNlIEZsYWdnZT88L2Rpdj4KICAgICAgICAgICAgPGRpdiBpZD0icXVlc3Rpb24tYm94Ij4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImZsYWctZGlzcGxheSI+PGltZyBpZD0iZmxhZy1pbWciIHNyYz0iIiBhbHQ9IkZsYWdnZSI+PC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJjb3VudHJ5LW5hbWUiPjwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBpZD0iYW5zd2Vycy1jb250YWluZXIiPjwvZGl2PgogICAgICAgICAgICA8ZGl2IGlkPSJwcm9ncmVzcy1jb250YWluZXIiPgogICAgICAgICAgICAgICAgPGRpdiBpZD0icHJvZ3Jlc3MtYmFyIj48ZGl2IGlkPSJwcm9ncmVzcy1maWxsIj48L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9InByb2dyZXNzLXRleHQiPkZyYWdlIDEgdm9uIDEwPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9InN0YXJ0LXNjcmVlbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNjcmVlbi1pY29uIj7wn4yNPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5Mw6RuZGVyLVF1aXohPC9oMT4KICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOndoaXRlO2ZvbnQtc2l6ZToxNXB4O3RleHQtYWxpZ246Y2VudGVyOyI+TGVybmUgRmxhZ2dlbiB1bmQgSGF1cHRzdMOkZHRlITxicj5UZXN0ZSBkZWluIFdpc3NlbiDDvGJlciBkaWUgV2VsdCE8L3A+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InN0YXJ0LWJ0biIgb25jbGljaz0ic3RhcnRHYW1lKCkiPvCfjq4gU3RhcnQhPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0ibGV2ZWwtc2NyZWVuIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPvCfjI08L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPkxldmVsIDxzcGFuIGlkPSJsZXZlbC1udW1iZXIiPjE8L3NwYW4+PC9oMT4KICAgICAgICAgICAgPHAgaWQ9ImxldmVsLWRlc2MiIHN0eWxlPSJjb2xvcjp3aGl0ZTtmb250LXNpemU6MTZweDt0ZXh0LWFsaWduOmNlbnRlcjsiPjwvcD4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJ3aW4tc2NyZWVuIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPvCfj4Y8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPldlbHRtZWlzdGVyITwvaDE+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXRzLWdyaWQiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1pdGVtIj48ZGl2IGNsYXNzPSJzdGF0LXZhbHVlIiBpZD0iZmluYWwtc2NvcmUiPjA8L2Rpdj48ZGl2IGNsYXNzPSJzdGF0LWxhYmVsIj5QdW5rdGU8L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtaXRlbSI+PGRpdiBjbGFzcz0ic3RhdC12YWx1ZSIgaWQ9ImZpbmFsLWNvcnJlY3QiPjA8L2Rpdj48ZGl2IGNsYXNzPSJzdGF0LWxhYmVsIj5SaWNodGlnPC9kaXY+PC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWl0ZW0iPjxkaXYgY2xhc3M9InN0YXQtdmFsdWUiIGlkPSJmaW5hbC1jb3VudHJpZXMiPjA8L2Rpdj48ZGl2IGNsYXNzPSJzdGF0LWxhYmVsIj5Mw6RuZGVyPC9kaXY+PC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWl0ZW0iPjxkaXYgY2xhc3M9InN0YXQtdmFsdWUiIGlkPSJmaW5hbC1hY2N1cmFjeSI+MCU8L2Rpdj48ZGl2IGNsYXNzPSJzdGF0LWxhYmVsIj5HZW5hdWlna2VpdDwvZGl2PjwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic3RhcnQtYnRuIiBvbmNsaWNrPSJzdGFydEdhbWUoKSI+8J+UhCBOb2NobWFsITwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPHNjcmlwdD4KICAgICAgICBjb25zdCBmbGFnSW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZsYWctaW1nJyk7CiAgICAgICAgY29uc3QgY291bnRyeU5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY291bnRyeS1uYW1lJyk7CiAgICAgICAgY29uc3QgcXVlc3Rpb25UeXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1ZXN0aW9uLXR5cGUnKTsKICAgICAgICBjb25zdCBhbnN3ZXJzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Fuc3dlcnMtY29udGFpbmVyJyk7CiAgICAgICAgY29uc3QgcHJvZ3Jlc3NGaWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzLWZpbGwnKTsKICAgICAgICBjb25zdCBwcm9ncmVzc1RleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ3Jlc3MtdGV4dCcpOwogICAgICAgIGNvbnN0IHNjb3JlRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZScpOwogICAgICAgIGNvbnN0IGNvcnJlY3REaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcnJlY3QnKTsKICAgICAgICBjb25zdCBsZXZlbERpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwnKTsKICAgICAgICBjb25zdCBzb3VuZFRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb3VuZC10b2dnbGUnKTsKICAgICAgICAKICAgICAgICBsZXQgbGV2ZWwgPSAxLCBzY29yZSA9IDAsIGNvcnJlY3RDb3VudCA9IDAsIHRvdGFsUXVlc3Rpb25zID0gMDsKICAgICAgICBsZXQgY3VycmVudFF1ZXN0aW9uID0gMCwgcXVlc3Rpb25zUGVyTGV2ZWwgPSAxMDsKICAgICAgICBsZXQgc291bmRFbmFibGVkID0gdHJ1ZSwgY2FuQW5zd2VyID0gdHJ1ZTsKICAgICAgICBsZXQgbGVhcm5lZENvdW50cmllcyA9IG5ldyBTZXQoKTsKICAgICAgICBsZXQgYXVkaW9DdHggPSBudWxsOwogICAgICAgIAogICAgICAgIGNvbnN0IGZsYWdVcmwgPSAoY29kZSkgPT4gYGh0dHBzOi8vZmxhZ2Nkbi5jb20vdzE2MC8ke2NvZGUudG9Mb3dlckNhc2UoKX0ucG5nYDsKICAgICAgICAKICAgICAgICBjb25zdCBjb3VudHJpZXMgPSBbCiAgICAgICAgICAgIHsgY29kZTogJ2RlJywgbmFtZTogJ0RldXRzY2hsYW5kJywgY2FwaXRhbDogJ0JlcmxpbicsIHJlZ2lvbjogJ2V1cm9wYScgfSwKICAgICAgICAgICAgeyBjb2RlOiAnZnInLCBuYW1lOiAnRnJhbmtyZWljaCcsIGNhcGl0YWw6ICdQYXJpcycsIHJlZ2lvbjogJ2V1cm9wYScgfSwKICAgICAgICAgICAgeyBjb2RlOiAnaXQnLCBuYW1lOiAnSXRhbGllbicsIGNhcGl0YWw6ICdSb20nLCByZWdpb246ICdldXJvcGEnIH0sCiAgICAgICAgICAgIHsgY29kZTogJ2VzJywgbmFtZTogJ1NwYW5pZW4nLCBjYXBpdGFsOiAnTWFkcmlkJywgcmVnaW9uOiAnZXVyb3BhJyB9LAogICAgICAgICAgICB7IGNvZGU6ICdnYicsIG5hbWU6ICdHcm/Dn2JyaXRhbm5pZW4nLCBjYXBpdGFsOiAnTG9uZG9uJywgcmVnaW9uOiAnZXVyb3BhJyB9LAogICAgICAgICAgICB7IGNvZGU6ICdhdCcsIG5hbWU6ICfDlnN0ZXJyZWljaCcsIGNhcGl0YWw6ICdXaWVuJywgcmVnaW9uOiAnZXVyb3BhJyB9LAogICAgICAgICAgICB7IGNvZGU6ICdjaCcsIG5hbWU6ICdTY2h3ZWl6JywgY2FwaXRhbDogJ0Jlcm4nLCByZWdpb246ICdldXJvcGEnIH0sCiAgICAgICAgICAgIHsgY29kZTogJ25sJywgbmFtZTogJ05pZWRlcmxhbmRlJywgY2FwaXRhbDogJ0Ftc3RlcmRhbScsIHJlZ2lvbjogJ2V1cm9wYScgfSwKICAgICAgICAgICAgeyBjb2RlOiAnYmUnLCBuYW1lOiAnQmVsZ2llbicsIGNhcGl0YWw6ICdCcsO8c3NlbCcsIHJlZ2lvbjogJ2V1cm9wYScgfSwKICAgICAgICAgICAgeyBjb2RlOiAncGwnLCBuYW1lOiAnUG9sZW4nLCBjYXBpdGFsOiAnV2Fyc2NoYXUnLCByZWdpb246ICdldXJvcGEnIH0sCiAgICAgICAgICAgIHsgY29kZTogJ3NlJywgbmFtZTogJ1NjaHdlZGVuJywgY2FwaXRhbDogJ1N0b2NraG9sbScsIHJlZ2lvbjogJ2V1cm9wYScgfSwKICAgICAgICAgICAgeyBjb2RlOiAnbm8nLCBuYW1lOiAnTm9yd2VnZW4nLCBjYXBpdGFsOiAnT3NsbycsIHJlZ2lvbjogJ2V1cm9wYScgfSwKICAgICAgICAgICAgeyBjb2RlOiAnZGsnLCBuYW1lOiAnRMOkbmVtYXJrJywgY2FwaXRhbDogJ0tvcGVuaGFnZW4nLCByZWdpb246ICdldXJvcGEnIH0sCiAgICAgICAgICAgIHsgY29kZTogJ2ZpJywgbmFtZTogJ0Zpbm5sYW5kJywgY2FwaXRhbDogJ0hlbHNpbmtpJywgcmVnaW9uOiAnZXVyb3BhJyB9LAogICAgICAgICAgICB7IGNvZGU6ICdwdCcsIG5hbWU6ICdQb3J0dWdhbCcsIGNhcGl0YWw6ICdMaXNzYWJvbicsIHJlZ2lvbjogJ2V1cm9wYScgfSwKICAgICAgICAgICAgeyBjb2RlOiAnZ3InLCBuYW1lOiAnR3JpZWNoZW5sYW5kJywgY2FwaXRhbDogJ0F0aGVuJywgcmVnaW9uOiAnZXVyb3BhJyB9LAogICAgICAgICAgICB7IGNvZGU6ICdjeicsIG5hbWU6ICdUc2NoZWNoaWVuJywgY2FwaXRhbDogJ1ByYWcnLCByZWdpb246ICdldXJvcGEnIH0sCiAgICAgICAgICAgIHsgY29kZTogJ2h1JywgbmFtZTogJ1VuZ2FybicsIGNhcGl0YWw6ICdCdWRhcGVzdCcsIHJlZ2lvbjogJ2V1cm9wYScgfSwKICAgICAgICAgICAgeyBjb2RlOiAnaWUnLCBuYW1lOiAnSXJsYW5kJywgY2FwaXRhbDogJ0R1YmxpbicsIHJlZ2lvbjogJ2V1cm9wYScgfSwKICAgICAgICAgICAgeyBjb2RlOiAncnUnLCBuYW1lOiAnUnVzc2xhbmQnLCBjYXBpdGFsOiAnTW9za2F1JywgcmVnaW9uOiAnZXVyb3BhJyB9LAogICAgICAgICAgICB7IGNvZGU6ICd1cycsIG5hbWU6ICdVU0EnLCBjYXBpdGFsOiAnV2FzaGluZ3RvbiBELkMuJywgcmVnaW9uOiAnYW1lcmlrYScgfSwKICAgICAgICAgICAgeyBjb2RlOiAnY2EnLCBuYW1lOiAnS2FuYWRhJywgY2FwaXRhbDogJ090dGF3YScsIHJlZ2lvbjogJ2FtZXJpa2EnIH0sCiAgICAgICAgICAgIHsgY29kZTogJ2JyJywgbmFtZTogJ0JyYXNpbGllbicsIGNhcGl0YWw6ICdCcmFzw61saWEnLCByZWdpb246ICdhbWVyaWthJyB9LAogICAgICAgICAgICB7IGNvZGU6ICdteCcsIG5hbWU6ICdNZXhpa28nLCBjYXBpdGFsOiAnTWV4aWtvLVN0YWR0JywgcmVnaW9uOiAnYW1lcmlrYScgfSwKICAgICAgICAgICAgeyBjb2RlOiAnYXInLCBuYW1lOiAnQXJnZW50aW5pZW4nLCBjYXBpdGFsOiAnQnVlbm9zIEFpcmVzJywgcmVnaW9uOiAnYW1lcmlrYScgfSwKICAgICAgICAgICAgeyBjb2RlOiAnanAnLCBuYW1lOiAnSmFwYW4nLCBjYXBpdGFsOiAnVG9raW8nLCByZWdpb246ICdhc2llbicgfSwKICAgICAgICAgICAgeyBjb2RlOiAnY24nLCBuYW1lOiAnQ2hpbmEnLCBjYXBpdGFsOiAnUGVraW5nJywgcmVnaW9uOiAnYXNpZW4nIH0sCiAgICAgICAgICAgIHsgY29kZTogJ2tyJywgbmFtZTogJ1PDvGRrb3JlYScsIGNhcGl0YWw6ICdTZW91bCcsIHJlZ2lvbjogJ2FzaWVuJyB9LAogICAgICAgICAgICB7IGNvZGU6ICdpbicsIG5hbWU6ICdJbmRpZW4nLCBjYXBpdGFsOiAnTmV1LURlbGhpJywgcmVnaW9uOiAnYXNpZW4nIH0sCiAgICAgICAgICAgIHsgY29kZTogJ3RoJywgbmFtZTogJ1RoYWlsYW5kJywgY2FwaXRhbDogJ0Jhbmdrb2snLCByZWdpb246ICdhc2llbicgfSwKICAgICAgICAgICAgeyBjb2RlOiAnYXUnLCBuYW1lOiAnQXVzdHJhbGllbicsIGNhcGl0YWw6ICdDYW5iZXJyYScsIHJlZ2lvbjogJ296ZWFuaWVuJyB9LAogICAgICAgICAgICB7IGNvZGU6ICdueicsIG5hbWU6ICdOZXVzZWVsYW5kJywgY2FwaXRhbDogJ1dlbGxpbmd0b24nLCByZWdpb246ICdvemVhbmllbicgfSwKICAgICAgICAgICAgeyBjb2RlOiAnZWcnLCBuYW1lOiAnw4RneXB0ZW4nLCBjYXBpdGFsOiAnS2Fpcm8nLCByZWdpb246ICdhZnJpa2EnIH0sCiAgICAgICAgICAgIHsgY29kZTogJ3phJywgbmFtZTogJ1PDvGRhZnJpa2EnLCBjYXBpdGFsOiAnUHJldG9yaWEnLCByZWdpb246ICdhZnJpa2EnIH0sCiAgICAgICAgICAgIHsgY29kZTogJ21hJywgbmFtZTogJ01hcm9ra28nLCBjYXBpdGFsOiAnUmFiYXQnLCByZWdpb246ICdhZnJpa2EnIH0sCiAgICAgICAgICAgIHsgY29kZTogJ3RyJywgbmFtZTogJ1TDvHJrZWknLCBjYXBpdGFsOiAnQW5rYXJhJywgcmVnaW9uOiAnYXNpZW4nIH0sCiAgICAgICAgICAgIHsgY29kZTogJ3NhJywgbmFtZTogJ1NhdWRpLUFyYWJpZW4nLCBjYXBpdGFsOiAnUmlhZCcsIHJlZ2lvbjogJ2FzaWVuJyB9LAogICAgICAgICAgICB7IGNvZGU6ICdpbCcsIG5hbWU6ICdJc3JhZWwnLCBjYXBpdGFsOiAnSmVydXNhbGVtJywgcmVnaW9uOiAnYXNpZW4nIH0sCiAgICAgICAgICAgIHsgY29kZTogJ3ZuJywgbmFtZTogJ1ZpZXRuYW0nLCBjYXBpdGFsOiAnSGFub2knLCByZWdpb246ICdhc2llbicgfSwKICAgICAgICAgICAgeyBjb2RlOiAnaWQnLCBuYW1lOiAnSW5kb25lc2llbicsIGNhcGl0YWw6ICdKYWthcnRhJywgcmVnaW9uOiAnYXNpZW4nIH0KICAgICAgICBdOwogICAgICAgIAogICAgICAgIGNvbnN0IGxldmVsQ29uZmlncyA9IFsKICAgICAgICAgICAgeyBxdWVzdGlvbnM6IDgsIHR5cGU6ICdmbGFnJywgcG9vbDogMTAsIGRlc2M6ICdGbGFnZ2VuIGVya2VubmVuIC0gRXVyb3BhJywgcmVnaW9uOiAnZXVyb3BhJyB9LAogICAgICAgICAgICB7IHF1ZXN0aW9uczogMTAsIHR5cGU6ICdmbGFnJywgcG9vbDogMjAsIGRlc2M6ICdNZWhyIGV1cm9ww6Rpc2NoZSBGbGFnZ2VuJywgcmVnaW9uOiAnZXVyb3BhJyB9LAogICAgICAgICAgICB7IHF1ZXN0aW9uczogMTAsIHR5cGU6ICdjYXBpdGFsJywgcG9vbDogMTUsIGRlc2M6ICdIYXVwdHN0w6RkdGUgRXVyb3BhJywgcmVnaW9uOiAnZXVyb3BhJyB9LAogICAgICAgICAgICB7IHF1ZXN0aW9uczogMTAsIHR5cGU6ICdtaXhlZCcsIHBvb2w6IDMwLCBkZXNjOiAnRmxhZ2dlbiB3ZWx0d2VpdCcsIHJlZ2lvbjogbnVsbCB9LAogICAgICAgICAgICB7IHF1ZXN0aW9uczogMTIsIHR5cGU6ICdtaXhlZCcsIHBvb2w6IDQwLCBkZXNjOiAnQWxsZXMgZ2VtaXNjaHQhJywgcmVnaW9uOiBudWxsIH0KICAgICAgICBdOwogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGluaXRBdWRpbygpIHsgaWYgKCFhdWRpb0N0eCkgYXVkaW9DdHggPSBuZXcgKHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkoKTsgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHBsYXlTb3VuZCh0eXBlKSB7CiAgICAgICAgICAgIGlmICghc291bmRFbmFibGVkIHx8ICFhdWRpb0N0eCkgcmV0dXJuOwogICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2NvcnJlY3QnKSB7CiAgICAgICAgICAgICAgICBbNTIzLCA2NTksIDc4NF0uZm9yRWFjaCgoZiwgaSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG8gPSBhdWRpb0N0eC5jcmVhdGVPc2NpbGxhdG9yKCksIGcgPSBhdWRpb0N0eC5jcmVhdGVHYWluKCk7CiAgICAgICAgICAgICAgICAgICAgby5jb25uZWN0KGcpOyBnLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pOwogICAgICAgICAgICAgICAgICAgIG8uZnJlcXVlbmN5LnZhbHVlID0gZjsKICAgICAgICAgICAgICAgICAgICBnLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4xLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjEpOwogICAgICAgICAgICAgICAgICAgIGcuZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMSArIDAuMTUpOwogICAgICAgICAgICAgICAgICAgIG8uc3RhcnQoYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xKTsgby5zdG9wKGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMSArIDAuMTUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3dyb25nJykgewogICAgICAgICAgICAgICAgY29uc3Qgb3NjID0gYXVkaW9DdHguY3JlYXRlT3NjaWxsYXRvcigpLCBnYWluID0gYXVkaW9DdHguY3JlYXRlR2FpbigpOwogICAgICAgICAgICAgICAgb3NjLmNvbm5lY3QoZ2Fpbik7IGdhaW4uY29ubmVjdChhdWRpb0N0eC5kZXN0aW5hdGlvbik7CiAgICAgICAgICAgICAgICBvc2MuZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKDIwMCwgYXVkaW9DdHguY3VycmVudFRpbWUpOwogICAgICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDEwMCwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjIpOwogICAgICAgICAgICAgICAgZ2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKDAuMTIsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsKICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4yNSk7CiAgICAgICAgICAgICAgICBvc2Muc3RhcnQoKTsgb3NjLnN0b3AoYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjI1KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBzb3VuZFRvZ2dsZS5vbmNsaWNrID0gKCkgPT4geyBzb3VuZEVuYWJsZWQgPSAhc291bmRFbmFibGVkOyBzb3VuZFRvZ2dsZS50ZXh0Q29udGVudCA9IHNvdW5kRW5hYmxlZCA/ICfwn5SKJyA6ICfwn5SHJzsgfTsKICAgICAgICAKICAgICAgICBmdW5jdGlvbiBnZXRDb3VudHJ5UG9vbCgpIHsKICAgICAgICAgICAgY29uc3QgY29uZmlnID0gbGV2ZWxDb25maWdzW2xldmVsIC0gMV07CiAgICAgICAgICAgIGxldCBwb29sID0gY291bnRyaWVzLnNsaWNlKDAsIGNvbmZpZy5wb29sKTsKICAgICAgICAgICAgaWYgKGNvbmZpZy5yZWdpb24pIHBvb2wgPSBwb29sLmZpbHRlcihjID0+IGMucmVnaW9uID09PSBjb25maWcucmVnaW9uKTsKICAgICAgICAgICAgcmV0dXJuIHBvb2w7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHNldHVwUXVlc3Rpb24oKSB7CiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IGxldmVsQ29uZmlnc1tsZXZlbCAtIDFdOwogICAgICAgICAgICBjYW5BbnN3ZXIgPSB0cnVlOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgcG9vbCA9IGdldENvdW50cnlQb29sKCk7CiAgICAgICAgICAgIGNvbnN0IGNvcnJlY3RDb3VudHJ5ID0gcG9vbFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb29sLmxlbmd0aCldOwogICAgICAgICAgICBsZWFybmVkQ291bnRyaWVzLmFkZChjb3JyZWN0Q291bnRyeS5uYW1lKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGxldCBxVHlwZSA9IGNvbmZpZy50eXBlID09PSAnbWl4ZWQnID8gKE1hdGgucmFuZG9tKCkgPiAwLjUgPyAnZmxhZycgOiAnY2FwaXRhbCcpIDogY29uZmlnLnR5cGU7CiAgICAgICAgICAgIAogICAgICAgICAgICBmbGFnSW1nLnNyYyA9IGZsYWdVcmwoY29ycmVjdENvdW50cnkuY29kZSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAocVR5cGUgPT09ICdmbGFnJykgewogICAgICAgICAgICAgICAgcXVlc3Rpb25UeXBlLnRleHRDb250ZW50ID0gJ1dlbGNoZXMgTGFuZCBoYXQgZGllc2UgRmxhZ2dlPyc7CiAgICAgICAgICAgICAgICBjb3VudHJ5TmFtZS50ZXh0Q29udGVudCA9ICcnOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcXVlc3Rpb25UeXBlLnRleHRDb250ZW50ID0gJ1dhcyBpc3QgZGllIEhhdXB0c3RhZHQgdm9uLi4uJzsKICAgICAgICAgICAgICAgIGNvdW50cnlOYW1lLnRleHRDb250ZW50ID0gY29ycmVjdENvdW50cnkubmFtZTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3Qgd3JvbmdDb3VudHJpZXMgPSBwb29sLmZpbHRlcihjID0+IGMubmFtZSAhPT0gY29ycmVjdENvdW50cnkubmFtZSkuc29ydCgoKSA9PiBNYXRoLnJhbmRvbSgpIC0gMC41KS5zbGljZSgwLCAzKTsKICAgICAgICAgICAgY29uc3QgY2hvaWNlcyA9IFtjb3JyZWN0Q291bnRyeSwgLi4ud3JvbmdDb3VudHJpZXNdLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBhbnN3ZXJzQ29udGFpbmVyLmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICBjaG9pY2VzLmZvckVhY2goY291bnRyeSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgICAgIGJ0bi5jbGFzc05hbWUgPSAnYW5zd2VyLWJ0bic7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChxVHlwZSA9PT0gJ2ZsYWcnKSB7CiAgICAgICAgICAgICAgICAgICAgYnRuLnRleHRDb250ZW50ID0gY291bnRyeS5uYW1lOwogICAgICAgICAgICAgICAgICAgIGJ0bi5vbmNsaWNrID0gKCkgPT4gaGFuZGxlQW5zd2VyKGNvdW50cnkubmFtZSwgY29ycmVjdENvdW50cnkubmFtZSwgYnRuKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgYnRuLmlubmVySFRNTCA9IGDwn4+b77iPICR7Y291bnRyeS5jYXBpdGFsfWA7CiAgICAgICAgICAgICAgICAgICAgYnRuLm9uY2xpY2sgPSAoKSA9PiBoYW5kbGVBbnN3ZXIoY291bnRyeS5jYXBpdGFsLCBjb3JyZWN0Q291bnRyeS5jYXBpdGFsLCBidG4pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYW5zd2Vyc0NvbnRhaW5lci5hcHBlbmRDaGlsZChidG4pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHByb2dyZXNzRmlsbC5zdHlsZS53aWR0aCA9ICgoY3VycmVudFF1ZXN0aW9uKSAvIHF1ZXN0aW9uc1BlckxldmVsICogMTAwKSArICclJzsKICAgICAgICAgICAgcHJvZ3Jlc3NUZXh0LnRleHRDb250ZW50ID0gYEZyYWdlICR7Y3VycmVudFF1ZXN0aW9uICsgMX0gdm9uICR7cXVlc3Rpb25zUGVyTGV2ZWx9YDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gaGFuZGxlQW5zd2VyKHNlbGVjdGVkLCBjb3JyZWN0LCBidG4pIHsKICAgICAgICAgICAgaWYgKCFjYW5BbnN3ZXIpIHJldHVybjsKICAgICAgICAgICAgY2FuQW5zd2VyID0gZmFsc2U7CiAgICAgICAgICAgIHRvdGFsUXVlc3Rpb25zKys7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoc2VsZWN0ZWQgPT09IGNvcnJlY3QpIHsKICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdjb3JyZWN0Jyk7CiAgICAgICAgICAgICAgICBwbGF5U291bmQoJ2NvcnJlY3QnKTsKICAgICAgICAgICAgICAgIGNvcnJlY3RDb3VudCsrOyBzY29yZSArPSAxMDsKICAgICAgICAgICAgICAgIGNvcnJlY3REaXNwbGF5LnRleHRDb250ZW50ID0gY29ycmVjdENvdW50OwogICAgICAgICAgICAgICAgc2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZCgnd3JvbmcnKTsKICAgICAgICAgICAgICAgIHBsYXlTb3VuZCgnd3JvbmcnKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbnN3ZXItYnRuJykuZm9yRWFjaChiID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGIudGV4dENvbnRlbnQuaW5jbHVkZXMoY29ycmVjdCkpIGIuY2xhc3NMaXN0LmFkZCgnY29ycmVjdCcpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgY3VycmVudFF1ZXN0aW9uKys7CiAgICAgICAgICAgIGlmIChjdXJyZW50UXVlc3Rpb24gPj0gcXVlc3Rpb25zUGVyTGV2ZWwpIHNldFRpbWVvdXQobGV2ZWxDb21wbGV0ZSwgMTIwMCk7CiAgICAgICAgICAgIGVsc2Ugc2V0VGltZW91dChzZXR1cFF1ZXN0aW9uLCAxMDAwKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gbGV2ZWxDb21wbGV0ZSgpIHsKICAgICAgICAgICAgbGV2ZWwrKzsKICAgICAgICAgICAgaWYgKGxldmVsID4gbGV2ZWxDb25maWdzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbmFsLXNjb3JlJykudGV4dENvbnRlbnQgPSBzY29yZTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaW5hbC1jb3JyZWN0JykudGV4dENvbnRlbnQgPSBjb3JyZWN0Q291bnQ7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmluYWwtY291bnRyaWVzJykudGV4dENvbnRlbnQgPSBsZWFybmVkQ291bnRyaWVzLnNpemU7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmluYWwtYWNjdXJhY3knKS50ZXh0Q29udGVudCA9IE1hdGgucm91bmQoY29ycmVjdENvdW50IC8gdG90YWxRdWVzdGlvbnMgKiAxMDApICsgJyUnOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpbi1zY3JlZW4nKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC1udW1iZXInKS50ZXh0Q29udGVudCA9IGxldmVsOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLWRlc2MnKS50ZXh0Q29udGVudCA9IGxldmVsQ29uZmlnc1tsZXZlbCAtIDFdLmRlc2M7CiAgICAgICAgICAgICAgICBxdWVzdGlvbnNQZXJMZXZlbCA9IGxldmVsQ29uZmlnc1tsZXZlbCAtIDFdLnF1ZXN0aW9uczsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC1zY3JlZW4nKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC1zY3JlZW4nKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50UXVlc3Rpb24gPSAwOwogICAgICAgICAgICAgICAgICAgIGxldmVsRGlzcGxheS50ZXh0Q29udGVudCA9IGxldmVsOwogICAgICAgICAgICAgICAgICAgIHNldHVwUXVlc3Rpb24oKTsKICAgICAgICAgICAgICAgIH0sIDE1MDApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHN0YXJ0R2FtZSgpIHsKICAgICAgICAgICAgaW5pdEF1ZGlvKCk7CiAgICAgICAgICAgIGxldmVsID0gMTsgc2NvcmUgPSAwOyBjb3JyZWN0Q291bnQgPSAwOyB0b3RhbFF1ZXN0aW9ucyA9IDA7IGN1cnJlbnRRdWVzdGlvbiA9IDA7CiAgICAgICAgICAgIGxlYXJuZWRDb3VudHJpZXMuY2xlYXIoKTsKICAgICAgICAgICAgcXVlc3Rpb25zUGVyTGV2ZWwgPSBsZXZlbENvbmZpZ3NbMF0ucXVlc3Rpb25zOwogICAgICAgICAgICBzY29yZURpc3BsYXkudGV4dENvbnRlbnQgPSBzY29yZTsKICAgICAgICAgICAgY29ycmVjdERpc3BsYXkudGV4dENvbnRlbnQgPSBjb3JyZWN0Q291bnQ7CiAgICAgICAgICAgIGxldmVsRGlzcGxheS50ZXh0Q29udGVudCA9IGxldmVsOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnQtc2NyZWVuJykuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aW4tc2NyZWVuJykuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgIHNldHVwUXVlc3Rpb24oKTsKICAgICAgICB9CiAgICA8L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+Cg==';
GAMES['tiere'] = 'PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImRlIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubywgdmlld3BvcnQtZml0PWNvdmVyIj4KICAgIDx0aXRsZT7wn6aBIFRpZXItUXVpeiE8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICAgIEBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PUZyZWRva2E6d2dodEA0MDA7NjAwOzcwMCZkaXNwbGF5PXN3YXAnKTsKICAgICAgICAqIHsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9CiAgICAgICAgYm9keSB7IGZvbnQtZmFtaWx5OiAnRnJlZG9rYScsIHNhbnMtc2VyaWY7IG1pbi1oZWlnaHQ6IDEwMHZoOyBtaW4taGVpZ2h0OiAxMDBkdmg7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNGMzlDMTIgMCUsICNFNzRDM0MgMTAwJSk7IG92ZXJmbG93LXg6IGhpZGRlbjsgdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb247IC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7IH0KICAgICAgICAjZ2FtZS1jb250YWluZXIgeyB3aWR0aDogMTAwJTsgbWluLWhlaWdodDogMTAwdmg7IG1pbi1oZWlnaHQ6IDEwMGR2aDsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgcGFkZGluZzogMTBweDsgcGFkZGluZy1ib3R0b206IG1heCgxMHB4LCBlbnYoc2FmZS1hcmVhLWluc2V0LWJvdHRvbSkpOyB9CiAgICAgICAgI3RvcC1iYXIgeyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiA4cHg7IHBhZGRpbmc6IDhweDsgZmxleC13cmFwOiB3cmFwOyB9CiAgICAgICAgLnN0YXQtYm94IHsgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjkpOyBjb2xvcjogIzMzMzsgcGFkZGluZzogNnB4IDE0cHg7IGJvcmRlci1yYWRpdXM6IDI1cHg7IGZvbnQtc2l6ZTogMTRweDsgZm9udC13ZWlnaHQ6IDYwMDsgfQogICAgICAgICNzb3VuZC10b2dnbGUgeyBiYWNrZ3JvdW5kOiAjMzQ5OERCOyBib3JkZXI6IG5vbmU7IHBhZGRpbmc6IDhweCAxNXB4OyBib3JkZXItcmFkaXVzOiAyNXB4OyBmb250LXNpemU6IDE4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAgICNnYW1lLWFyZWEgeyBmbGV4OiAxOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBhbGlnbi1pdGVtczogY2VudGVyOyBwYWRkaW5nOiAxNXB4OyB3aWR0aDogMTAwJTsgbWF4LXdpZHRoOiA0NTBweDsgfQogICAgICAgICNxdWVzdGlvbi1ib3ggeyBiYWNrZ3JvdW5kOiB3aGl0ZTsgcGFkZGluZzogMjBweDsgYm9yZGVyLXJhZGl1czogMjBweDsgbWFyZ2luLWJvdHRvbTogMjBweDsgYm94LXNoYWRvdzogMCA4cHggMzBweCByZ2JhKDAsMCwwLDAuMyk7IHdpZHRoOiAxMDAlOyB0ZXh0LWFsaWduOiBjZW50ZXI7IH0KICAgICAgICAjYW5pbWFsLWVtb2ppIHsgZm9udC1zaXplOiA3MHB4OyBtYXJnaW4tYm90dG9tOiAxMHB4OyB9CiAgICAgICAgI3F1ZXN0aW9uLXRleHQgeyBmb250LXNpemU6IDE4cHg7IGNvbG9yOiAjMzMzOyBsaW5lLWhlaWdodDogMS40OyB9CiAgICAgICAgI2hpbnQtdGV4dCB7IGZvbnQtc2l6ZTogMTRweDsgY29sb3I6ICM4ODg7IG1hcmdpbi10b3A6IDEwcHg7IGZvbnQtc3R5bGU6IGl0YWxpYzsgfQogICAgICAgICNhbnN3ZXJzLWNvbnRhaW5lciB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOyBnYXA6IDEwcHg7IHdpZHRoOiAxMDAlOyB9CiAgICAgICAgLmFuc3dlci1idG4geyBwYWRkaW5nOiAxNXB4IDIwcHg7IGZvbnQtc2l6ZTogMTZweDsgZm9udC13ZWlnaHQ6IDYwMDsgYmFja2dyb3VuZDogd2hpdGU7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXJhZGl1czogMTVweDsgY3Vyc29yOiBwb2ludGVyOyBib3gtc2hhZG93OiAwIDRweCAwIHJnYmEoMCwwLDAsMC4xKTsgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMXM7IGZvbnQtZmFtaWx5OiAnRnJlZG9rYScsIHNhbnMtc2VyaWY7IHRleHQtYWxpZ246IGxlZnQ7IH0KICAgICAgICAuYW5zd2VyLWJ0bjphY3RpdmUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMnB4KTsgfQogICAgICAgIC5hbnN3ZXItYnRuLmNvcnJlY3QgeyBiYWNrZ3JvdW5kOiAjMkVDQzcxOyBjb2xvcjogd2hpdGU7IH0KICAgICAgICAuYW5zd2VyLWJ0bi53cm9uZyB7IGJhY2tncm91bmQ6ICNFNzRDM0M7IGNvbG9yOiB3aGl0ZTsgfQogICAgICAgICNmYWN0LWJveCB7IGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC45KTsgcGFkZGluZzogMTVweDsgYm9yZGVyLXJhZGl1czogMTVweDsgbWFyZ2luLXRvcDogMTVweDsgZGlzcGxheTogbm9uZTsgfQogICAgICAgICNmYWN0LXRleHQgeyBmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjMzMzOyB9CiAgICAgICAgI3N0YXJ0LXNjcmVlbiwgI3dpbi1zY3JlZW4sICNsZXZlbC1zY3JlZW4geyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI0YzOUMxMiAwJSwgI0U3NEMzQyAxMDAlKTsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IHotaW5kZXg6IDIwMDsgZ2FwOiAxNXB4OyBwYWRkaW5nOiAyMHB4OyB9CiAgICAgICAgI3dpbi1zY3JlZW4geyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMTE5OThlIDAlLCAjMzhlZjdkIDEwMCUpOyB9CiAgICAgICAgLnNjcmVlbi10aXRsZSB7IGZvbnQtc2l6ZTogMzZweDsgY29sb3I6IHdoaXRlOyB0ZXh0LXNoYWRvdzogMCA0cHggMCByZ2JhKDAsMCwwLDAuMik7IHRleHQtYWxpZ246IGNlbnRlcjsgfQogICAgICAgIC5zY3JlZW4taWNvbiB7IGZvbnQtc2l6ZTogNjBweDsgfQogICAgICAgIC5zdGFydC1idG4geyBiYWNrZ3JvdW5kOiAjRjFDNDBGOyBjb2xvcjogIzMzMzsgYm9yZGVyOiBub25lOyBwYWRkaW5nOiAxNnB4IDQwcHg7IGZvbnQtc2l6ZTogMjBweDsgZm9udC1mYW1pbHk6ICdGcmVkb2thJywgc2Fucy1zZXJpZjsgZm9udC13ZWlnaHQ6IDcwMDsgYm9yZGVyLXJhZGl1czogNTBweDsgY3Vyc29yOiBwb2ludGVyOyBib3gtc2hhZG93OiAwIDVweCAwICNENEFDMEQ7IH0KICAgICAgICAuc3RhcnQtYnRuOmFjdGl2ZSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgzcHgpOyBib3gtc2hhZG93OiAwIDJweCAwICNENEFDMEQ7IH0KICAgICAgICAuaGlkZGVuIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9CiAgICAgICAgLnN0YXRzLWdyaWQgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgyLCAxZnIpOyBnYXA6IDEycHg7IG1hcmdpbjogMTVweCAwOyB3aWR0aDogMTAwJTsgbWF4LXdpZHRoOiAyODBweDsgfQogICAgICAgIC5zdGF0LWl0ZW0geyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMik7IHBhZGRpbmc6IDEycHg7IGJvcmRlci1yYWRpdXM6IDEycHg7IHRleHQtYWxpZ246IGNlbnRlcjsgfQogICAgICAgIC5zdGF0LXZhbHVlIHsgZm9udC1zaXplOiAyNHB4OyBjb2xvcjogd2hpdGU7IGZvbnQtd2VpZ2h0OiBib2xkOyB9CiAgICAgICAgLnN0YXQtbGFiZWwgeyBmb250LXNpemU6IDEycHg7IGNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LDAuOCk7IH0KICAgIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8ZGl2IGlkPSJnYW1lLWNvbnRhaW5lciI+CiAgICAgICAgPGRpdiBpZD0idG9wLWJhciI+CiAgICAgICAgICAgIDxidXR0b24gaWQ9InNvdW5kLXRvZ2dsZSI+8J+UijwvYnV0dG9uPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWJveCI+4q2QIDxzcGFuIGlkPSJzY29yZSI+MDwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPuKckyA8c3BhbiBpZD0iY29ycmVjdCI+MDwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPkx2IDxzcGFuIGlkPSJsZXZlbCI+MTwvc3Bhbj48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJnYW1lLWFyZWEiPgogICAgICAgICAgICA8ZGl2IGlkPSJxdWVzdGlvbi1ib3giPgogICAgICAgICAgICAgICAgPGRpdiBpZD0iYW5pbWFsLWVtb2ppIj7wn6aBPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJxdWVzdGlvbi10ZXh0Ij5XaWUgbmVubnQgbWFuIGRhcyBadWhhdXNlIGVpbmVzIEzDtndlbj88L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImhpbnQtdGV4dCI+PC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGlkPSJhbnN3ZXJzLWNvbnRhaW5lciI+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgaWQ9ImZhY3QtYm94Ij4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImZhY3QtdGV4dCI+8J+SoSBXdXNzdGVzdCBkdT8gTMO2d2VuIGxlYmVuIGluIEdydXBwZW4sIGRpZSBtYW4gIlJ1ZGVsIiBuZW5udCE8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0ic3RhcnQtc2NyZWVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPvCfpoE8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPlRpZXItUXVpeiE8L2gxPgogICAgICAgICAgICA8cCBzdHlsZT0iY29sb3I6d2hpdGU7Zm9udC1zaXplOjE1cHg7dGV4dC1hbGlnbjpjZW50ZXI7Ij5MZXJuZSBzcGFubmVuZGUgRmFrdGVuIMO8YmVyIFRpZXJlITxicj5UZXN0ZSBkZWluIFdpc3NlbiE8L3A+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InN0YXJ0LWJ0biIgb25jbGljaz0ic3RhcnRHYW1lKCkiPvCfjq4gU3RhcnQhPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0ibGV2ZWwtc2NyZWVuIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPvCfpoE8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPkxldmVsIDxzcGFuIGlkPSJsZXZlbC1udW1iZXIiPjE8L3NwYW4+PC9oMT4KICAgICAgICAgICAgPHAgaWQ9ImxldmVsLWRlc2MiIHN0eWxlPSJjb2xvcjp3aGl0ZTtmb250LXNpemU6MTZweDt0ZXh0LWFsaWduOmNlbnRlcjsiPjwvcD4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJ3aW4tc2NyZWVuIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPvCfj4Y8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPlRpZXItRXhwZXJ0ZSE8L2gxPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0cy1ncmlkIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtaXRlbSI+PGRpdiBjbGFzcz0ic3RhdC12YWx1ZSIgaWQ9ImZpbmFsLXNjb3JlIj4wPC9kaXY+PGRpdiBjbGFzcz0ic3RhdC1sYWJlbCI+UHVua3RlPC9kaXY+PC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWl0ZW0iPjxkaXYgY2xhc3M9InN0YXQtdmFsdWUiIGlkPSJmaW5hbC1jb3JyZWN0Ij4wPC9kaXY+PGRpdiBjbGFzcz0ic3RhdC1sYWJlbCI+UmljaHRpZzwvZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1pdGVtIj48ZGl2IGNsYXNzPSJzdGF0LXZhbHVlIiBpZD0iZmluYWwtYW5pbWFscyI+MDwvZGl2PjxkaXYgY2xhc3M9InN0YXQtbGFiZWwiPlRpZXJlIGdlbGVybnQ8L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtaXRlbSI+PGRpdiBjbGFzcz0ic3RhdC12YWx1ZSIgaWQ9ImZpbmFsLWZhY3RzIj4wPC9kaXY+PGRpdiBjbGFzcz0ic3RhdC1sYWJlbCI+TmV1ZSBGYWt0ZW48L2Rpdj48L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InN0YXJ0LWJ0biIgb25jbGljaz0ic3RhcnRHYW1lKCkiPvCflIQgTm9jaG1hbCE8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDxzY3JpcHQ+CiAgICAgICAgY29uc3QgYW5pbWFsRW1vamkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYW5pbWFsLWVtb2ppJyk7CiAgICAgICAgY29uc3QgcXVlc3Rpb25UZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1ZXN0aW9uLXRleHQnKTsKICAgICAgICBjb25zdCBoaW50VGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaW50LXRleHQnKTsKICAgICAgICBjb25zdCBhbnN3ZXJzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Fuc3dlcnMtY29udGFpbmVyJyk7CiAgICAgICAgY29uc3QgZmFjdEJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmYWN0LWJveCcpOwogICAgICAgIGNvbnN0IGZhY3RUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZhY3QtdGV4dCcpOwogICAgICAgIGNvbnN0IHNjb3JlRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZScpOwogICAgICAgIGNvbnN0IGNvcnJlY3REaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcnJlY3QnKTsKICAgICAgICBjb25zdCBsZXZlbERpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwnKTsKICAgICAgICBjb25zdCBzb3VuZFRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb3VuZC10b2dnbGUnKTsKICAgICAgICAKICAgICAgICBsZXQgbGV2ZWwgPSAxLCBzY29yZSA9IDAsIGNvcnJlY3RDb3VudCA9IDA7CiAgICAgICAgbGV0IHF1ZXN0aW9uSW5kZXggPSAwLCBxdWVzdGlvbnNQZXJMZXZlbCA9IDg7CiAgICAgICAgbGV0IHNvdW5kRW5hYmxlZCA9IHRydWUsIGNhbkFuc3dlciA9IHRydWU7CiAgICAgICAgbGV0IGxlYXJuZWRBbmltYWxzID0gbmV3IFNldCgpLCBmYWN0c0xlYXJuZWQgPSAwOwogICAgICAgIGxldCBhdWRpb0N0eCA9IG51bGw7CiAgICAgICAgCiAgICAgICAgLy8gUXVlc3Rpb24gZGF0YWJhc2UKICAgICAgICBjb25zdCBxdWVzdGlvbnMgPSBbCiAgICAgICAgICAgIC8vIExldmVsIDEgLSBFYXN5CiAgICAgICAgICAgIHsgZW1vamk6ICfwn5C2JywgcXVlc3Rpb246ICdXYXMgbWFjaHQgZWluIEh1bmQgd2VubiBlciBnbMO8Y2tsaWNoIGlzdD8nLCBhbnN3ZXI6ICdNaXQgZGVtIFNjaHdhbnogd2VkZWxuJywgd3Jvbmc6IFsnTWlhdWVuJywgJ0ZsaWVnZW4nLCAnQnLDvGxsZW4nXSwgZmFjdDogJ0h1bmRlIGvDtm5uZW4gYmlzIHp1IDMwMCBNaWxsaW9uZW4gR2Vyw7xjaGUgdW50ZXJzY2hlaWRlbiEnLCBsZXZlbDogMSB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+QsScsIHF1ZXN0aW9uOiAnV2FzIHRyaW5rZW4gS2F0emVuIGFtIGxpZWJzdGVuPycsIGFuc3dlcjogJ01pbGNoJywgd3Jvbmc6IFsnU2FmdCcsICdLYWZmZWUnLCAnQ29sYSddLCBmYWN0OiAnS2F0emVuIHNjaGxhZmVuIGJpcyB6dSAxNiBTdHVuZGVuIGFtIFRhZyEnLCBsZXZlbDogMSB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+QhCcsIHF1ZXN0aW9uOiAnV2FzIGdpYnQgdW5zIGRpZSBLdWg/JywgYW5zd2VyOiAnTWlsY2gnLCB3cm9uZzogWydXb2xsZScsICdFaWVyJywgJ0hvbmlnJ10sIGZhY3Q6ICdFaW5lIEt1aCB0cmlua3QgYmlzIHp1IDEwMCBMaXRlciBXYXNzZXIgYW0gVGFnIScsIGxldmVsOiAxIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn5CUJywgcXVlc3Rpb246ICdXYXMgbGVndCBlaW4gSHVobj8nLCBhbnN3ZXI6ICdFaWVyJywgd3Jvbmc6IFsnTWlsY2gnLCAnV29sbGUnLCAnw4RwZmVsJ10sIGZhY3Q6ICdIw7xobmVyIGvDtm5uZW4gc2ljaCBhbiDDvGJlciAxMDAgR2VzaWNodGVyIGVyaW5uZXJuIScsIGxldmVsOiAxIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn5C3JywgcXVlc3Rpb246ICdXZWxjaGVzIEdlcsOkdXNjaCBtYWNodCBlaW4gU2Nod2Vpbj8nLCBhbnN3ZXI6ICdHcnVuemVuJywgd3Jvbmc6IFsnTWlhdWVuJywgJ0JlbGxlbicsICdad2l0c2NoZXJuJ10sIGZhY3Q6ICdTY2h3ZWluZSBzaW5kIHNjaGxhdWVyIGFscyBIdW5kZSEnLCBsZXZlbDogMSB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+QuCcsIHF1ZXN0aW9uOiAnV28gbGVidCBlaW4gRnJvc2NoPycsIGFuc3dlcjogJ0FtIFRlaWNoJywgd3Jvbmc6IFsnSW4gZGVyIFfDvHN0ZScsICdJbSBCYXVtJywgJ0F1ZiBkZW0gQmVyZyddLCBmYWN0OiAnRnLDtnNjaGUgdHJpbmtlbiBrZWluIFdhc3NlciAtIHNpZSBuZWhtZW4gZXMgZHVyY2ggZGllIEhhdXQgYXVmIScsIGxldmVsOiAxIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn5CdJywgcXVlc3Rpb246ICdXYXMgbWFjaHQgZGllIEJpZW5lPycsIGFuc3dlcjogJ0hvbmlnJywgd3Jvbmc6IFsnTWlsY2gnLCAnV29sbGUnLCAnS8Okc2UnXSwgZmFjdDogJ0VpbmUgQmllbmUgYmVzdWNodCBiaXMgenUgMjAwMCBCbHVtZW4gYW0gVGFnIScsIGxldmVsOiAxIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn6aGJywgcXVlc3Rpb246ICdXZWxjaGVzIFRpZXIgaXN0IGRhcz8nLCBhbnN3ZXI6ICdFbnRlJywgd3Jvbmc6IFsnSHVobicsICdBZGxlcicsICdQaW5ndWluJ10sIGZhY3Q6ICdFbnRlbiBoYWJlbiB3YXNzZXJkaWNodGUgRmVkZXJuIScsIGxldmVsOiAxIH0sCiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBMZXZlbCAyIC0gTWVkaXVtCiAgICAgICAgICAgIHsgZW1vamk6ICfwn6aBJywgcXVlc3Rpb246ICdXbyBsZWJ0IGRlciBMw7Z3ZT8nLCBhbnN3ZXI6ICdJbiBkZXIgU2F2YW5uZScsIHdyb25nOiBbJ0ltIE1lZXInLCAnQW0gTm9yZHBvbCcsICdJbSBEc2NodW5nZWwnXSwgZmFjdDogJ0VpbiBMw7Z3ZW5icsO8bGxlbiBrYW5uIG1hbiA4IGttIHdlaXQgaMO2cmVuIScsIGxldmVsOiAyIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn5CYJywgcXVlc3Rpb246ICdXYXMgaGF0IGRlciBFbGVmYW50IEJlc29uZGVyZXM/JywgYW5zd2VyOiAnRWluZW4gUsO8c3NlbCcsIHdyb25nOiBbJ0Zsw7xnZWwnLCAnSMO2cm5lcicsICdFaW5lbiBTY2huYWJlbCddLCBmYWN0OiAnRWxlZmFudGVuIGvDtm5uZW4gc2ljaCBzZWxic3QgaW0gU3BpZWdlbCBlcmtlbm5lbiEnLCBsZXZlbDogMiB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+mkicsIHF1ZXN0aW9uOiAnV2FydW0gaGF0IGRpZSBHaXJhZmZlIHNvIGVpbmVuIGxhbmdlbiBIYWxzPycsIGFuc3dlcjogJ1VtIEJsw6R0dGVyIHp1IGVycmVpY2hlbicsIHdyb25nOiBbJ1VtIHp1IGZsaWVnZW4nLCAnVW0genUgc2Nod2ltbWVuJywgJ1VtIHp1IGdyYWJlbiddLCBmYWN0OiAnRGllIFp1bmdlIGVpbmVyIEdpcmFmZmUgaXN0IGJpcyB6dSA1MCBjbSBsYW5nIScsIGxldmVsOiAyIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn5CnJywgcXVlc3Rpb246ICdLYW5uIGVpbiBQaW5ndWluIGZsaWVnZW4/JywgYW5zd2VyOiAnTmVpbicsIHdyb25nOiBbJ0phJywgJ051ciBuYWNodHMnLCAnTnVyIGltIFNvbW1lciddLCBmYWN0OiAnUGluZ3VpbmUga8O2bm5lbiBiaXMgenUgMjAgTWludXRlbiB1bnRlciBXYXNzZXIgYmxlaWJlbiEnLCBsZXZlbDogMiB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+miCcsIHF1ZXN0aW9uOiAnV2llIHZpZWxlIFrDpGhuZSBrYW5uIGVpbiBIYWkgaGFiZW4/JywgYW5zd2VyOiAnw5xiZXIgMzAwMCcsIHdyb25nOiBbJzMyJywgJzEwMCcsICdHYXIga2VpbmUnXSwgZmFjdDogJ0hhaWUgdmVybGllcmVuIHVuZCBlcnNldHplbiBzdMOkbmRpZyBpaHJlIFrDpGhuZSAtIGJpcyB6dSAzMC4wMDAgaW0gTGViZW4hJywgbGV2ZWw6IDIgfSwKICAgICAgICAgICAgeyBlbW9qaTogJ/CfkKwnLCBxdWVzdGlvbjogJ1dpZSBhdG1ldCBlaW4gRGVsZmluPycsIGFuc3dlcjogJ01pdCBMdW5nZW4gYW4gZGVyIEx1ZnQnLCB3cm9uZzogWydNaXQgS2llbWVuJywgJ0R1cmNoIGRpZSBIYXV0JywgJ0dhciBuaWNodCddLCBmYWN0OiAnRGVsZmluZSBzY2hsYWZlbiBtaXQgbnVyIGVpbmVyIEdlaGlybmjDpGxmdGUhJywgbGV2ZWw6IDIgfSwKICAgICAgICAgICAgeyBlbW9qaTogJ/CfpoUnLCBxdWVzdGlvbjogJ1dpZSBndXQga2FubiBlaW4gQWRsZXIgc2VoZW4/JywgYW5zd2VyOiAnU2VociBndXQgLSA4eCBiZXNzZXIgYWxzIE1lbnNjaGVuJywgd3Jvbmc6IFsnR2FyIG5pY2h0JywgJ1NjaGxlY2h0JywgJ05vcm1hbCddLCBmYWN0OiAnRWluIEFkbGVyIGthbm4gZWluZSBNYXVzIGF1cyAxLDUga20gRW50ZmVybnVuZyBzZWhlbiEnLCBsZXZlbDogMiB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+QuycsIHF1ZXN0aW9uOiAnV2FzIG1hY2h0IGVpbiBCw6RyIGltIFdpbnRlcj8nLCBhbnN3ZXI6ICdXaW50ZXJzY2hsYWYnLCB3cm9uZzogWydJbiBkZW4gU8O8ZGVuIGZsaWVnZW4nLCAnU2Nod2ltbWVuJywgJ1RhbnplbiddLCBmYWN0OiAnQsOkcmVuIGvDtm5uZW4gbW9uYXRlbGFuZyBvaG5lIEVzc2VuIHVuZCBUcmlua2VuIHNjaGxhZmVuIScsIGxldmVsOiAyIH0sCiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBMZXZlbCAzIC0gSGFyZAogICAgICAgICAgICB7IGVtb2ppOiAn8J+mjicsIHF1ZXN0aW9uOiAnV2FzIGthbm4gZWluIENoYW3DpGxlb24/JywgYW5zd2VyOiAnU2VpbmUgRmFyYmUgw6RuZGVybicsIHdyb25nOiBbJ0ZsaWVnZW4nLCAnVW50ZXIgV2Fzc2VyIGF0bWVuJywgJ1NwcmVjaGVuJ10sIGZhY3Q6ICdDaGFtw6RsZW9ucyBrw7ZubmVuIGlocmUgQXVnZW4gdW5hYmjDpG5naWcgdm9uZWluYW5kZXIgYmV3ZWdlbiEnLCBsZXZlbDogMyB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+QmScsIHF1ZXN0aW9uOiAnV2llIHZpZWxlIEhlcnplbiBoYXQgZWluIE9rdG9wdXM/JywgYW5zd2VyOiAnRHJlaScsIHdyb25nOiBbJ0VpbnMnLCAnQWNodCcsICdLZWlucyddLCBmYWN0OiAnRGFzIEJsdXQgZWluZXMgT2t0b3B1cyBpc3QgYmxhdSEnLCBsZXZlbDogMyB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+mhycsIHF1ZXN0aW9uOiAnV2llIG9yaWVudGllcmVuIHNpY2ggRmxlZGVybcOkdXNlPycsIGFuc3dlcjogJ01pdCBFY2hvbG90IChVbHRyYXNjaGFsbCknLCB3cm9uZzogWydNaXQgZGVuIEF1Z2VuJywgJ01pdCBkZW0gR2VydWNoJywgJ01pdCBHUFMnXSwgZmFjdDogJ0ZsZWRlcm3DpHVzZSBzaW5kIGRpZSBlaW56aWdlbiBTw6R1Z2V0aWVyZSwgZGllIGZsaWVnZW4ga8O2bm5lbiEnLCBsZXZlbDogMyB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+mnCcsIHF1ZXN0aW9uOiAnV2FzIGvDtm5uZW4gbWFuY2hlIFBhcGFnZWllbj8nLCBhbnN3ZXI6ICdXw7ZydGVyIG5hY2hzcHJlY2hlbicsIHdyb25nOiBbJ01hdGhlbWF0aWsnLCAnTGVzZW4nLCAnQXV0byBmYWhyZW4nXSwgZmFjdDogJ0RlciDDpGx0ZXN0ZSBiZWthbm50ZSBQYXBhZ2VpIHd1cmRlIDgyIEphaHJlIGFsdCEnLCBsZXZlbDogMyB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+QoicsIHF1ZXN0aW9uOiAnV2llIGFsdCBrYW5uIGVpbmUgU2NoaWxka3LDtnRlIHdlcmRlbj8nLCBhbnN3ZXI6ICfDnGJlciAxMDAgSmFocmUnLCB3cm9uZzogWyc1IEphaHJlJywgJzEwIEphaHJlJywgJzIwIEphaHJlJ10sIGZhY3Q6ICdEaWUgw6RsdGVzdGUgU2NoaWxka3LDtnRlIHd1cmRlIDE4OCBKYWhyZSBhbHQhJywgbGV2ZWw6IDMgfSwKICAgICAgICAgICAgeyBlbW9qaTogJ/CfppEnLCBxdWVzdGlvbjogJ1dvbWl0IHZlcnRlaWRpZ3Qgc2ljaCBlaW4gVGludGVuZmlzY2g/JywgYW5zd2VyOiAnTWl0IFRpbnRlJywgd3Jvbmc6IFsnTWl0IEdpZnQnLCAnTWl0IFrDpGhuZW4nLCAnTWl0IFNjaHJlaWVuJ10sIGZhY3Q6ICdUaW50ZW5maXNjaGUgaGFiZW4gZGFzIGdyw7bDn3RlIEdlaGlybiBhbGxlciB3aXJiZWxsb3NlbiBUaWVyZSEnLCBsZXZlbDogMyB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+miycsIHF1ZXN0aW9uOiAnV2FzIHdhciBlaW4gU2NobWV0dGVybGluZyB2b3JoZXI/JywgYW5zd2VyOiAnRWluZSBSYXVwZScsIHdyb25nOiBbJ0VpbiBLw6RmZXInLCAnRWluZSBGbGllZ2UnLCAnRWluIFd1cm0nXSwgZmFjdDogJ1NjaG1ldHRlcmxpbmdlIHNjaG1lY2tlbiBtaXQgaWhyZW4gRsO8w59lbiEnLCBsZXZlbDogMyB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+QjCcsIHF1ZXN0aW9uOiAnV2llIHZpZWxlIFrDpGhuZSBoYXQgZWluZSBTY2huZWNrZT8nLCBhbnN3ZXI6ICfDnGJlciAyMC4wMDAnLCB3cm9uZzogWydLZWluZScsICczMicsICcxMDAnXSwgZmFjdDogJ1NjaG5lY2tlbiBrw7ZubmVuIGJpcyB6dSAzIEphaHJlIHNjaGxhZmVuIScsIGxldmVsOiAzIH0sCiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBMZXZlbCA0ICYgNSAtIEV4cGVydAogICAgICAgICAgICB7IGVtb2ppOiAn8J+miicsIHF1ZXN0aW9uOiAnWnUgd2VsY2hlciBGYW1pbGllIGdlaMO2cnQgZGVyIEZ1Y2hzPycsIGFuc3dlcjogJ0h1bmRlJywgd3Jvbmc6IFsnS2F0emVuJywgJ0LDpHJlbicsICdOYWdldGllcmUnXSwgZmFjdDogJ0bDvGNoc2UgbnV0emVuIGRhcyBFcmRtYWduZXRmZWxkIHVtIEJldXRlIHp1IGZpbmRlbiEnLCBsZXZlbDogNCB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+QuicsIHF1ZXN0aW9uOiAnV2llIGtvbW11bml6aWVyZW4gV8O2bGZlIMO8YmVyIHdlaXRlIFN0cmVja2VuPycsIGFuc3dlcjogJ0R1cmNoIEhldWxlbicsIHdyb25nOiBbJ0R1cmNoIFRhbnplbicsICdQZXIgVGVsZWZvbicsICdHYXIgbmljaHQnXSwgZmFjdDogJ0VpbiBXb2xmc3J1ZGVsIGthbm4gYmlzIHp1IDMwIFRpZXJlIHVtZmFzc2VuIScsIGxldmVsOiA0IH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn6aUJywgcXVlc3Rpb246ICdXaWUgdmllbGUgU3RhY2hlbG4gaGF0IGVpbiBJZ2VsIGV0d2E/JywgYW5zd2VyOiAnQ2EuIDYwMDAnLCB3cm9uZzogWyc1MCcsICcyMDAnLCAnRWluZSBNaWxsaW9uJ10sIGZhY3Q6ICdJZ2VsIHNpbmQgZ2VnZW4gdmllbGUgR2lmdGUgaW1tdW4hJywgbGV2ZWw6IDQgfSwKICAgICAgICAgICAgeyBlbW9qaTogJ/CfpqknLCBxdWVzdGlvbjogJ1dhcnVtIHNpbmQgRmxhbWluZ29zIHJvc2E/JywgYW5zd2VyOiAnV2VnZW4gaWhyZXIgTmFocnVuZyAoS3JlYnNlKScsIHdyb25nOiBbJ1NpZSBzaW5kIGFuZ2VtYWx0JywgJ1dlZ2VuIGRlciBTb25uZScsICdWb24gR2VidXJ0IGFuJ10sIGZhY3Q6ICdCYWJ5LUZsYW1pbmdvcyBzaW5kIGdyYXUgdW5kIHdlcmRlbiBlcnN0IHNww6R0ZXIgcm9zYSEnLCBsZXZlbDogNCB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+QqCcsIHF1ZXN0aW9uOiAnV2llIHZpZWxlIFN0dW5kZW4gYW0gVGFnIHNjaGzDpGZ0IGVpbiBLb2FsYT8nLCBhbnN3ZXI6ICdCaXMgenUgMjIgU3R1bmRlbicsIHdyb25nOiBbJzQgU3R1bmRlbicsICc4IFN0dW5kZW4nLCAnMTIgU3R1bmRlbiddLCBmYWN0OiAnS29hbGFzIGhhYmVuIEZpbmdlcmFiZHLDvGNrZSB3aWUgTWVuc2NoZW4hJywgbGV2ZWw6IDUgfSwKICAgICAgICAgICAgeyBlbW9qaTogJ/CfpqUnLCBxdWVzdGlvbjogJ1dpZSBiZXdlZ3Qgc2ljaCBlaW4gRmF1bHRpZXI/JywgYW5zd2VyOiAnU2VociBsYW5nc2FtJywgd3Jvbmc6IFsnU2VociBzY2huZWxsJywgJ0dhciBuaWNodCcsICdOdXIgcsO8Y2t3w6RydHMnXSwgZmFjdDogJ0ZhdWx0aWVyZSBicmF1Y2hlbiBlaW5lbiBNb25hdCB1bSBlaW4gQmxhdHQgenUgdmVyZGF1ZW4hJywgbGV2ZWw6IDUgfSwKICAgICAgICBdOwogICAgICAgIAogICAgICAgIGNvbnN0IGxldmVsQ29uZmlncyA9IFsKICAgICAgICAgICAgeyBxdWVzdGlvbnM6IDYsIG1heExldmVsOiAxLCBkZXNjOiAnQmF1ZXJuaG9mLVRpZXJlJyB9LAogICAgICAgICAgICB7IHF1ZXN0aW9uczogOCwgbWF4TGV2ZWw6IDIsIGRlc2M6ICdXaWxkZSBUaWVyZScgfSwKICAgICAgICAgICAgeyBxdWVzdGlvbnM6IDgsIG1heExldmVsOiAzLCBkZXNjOiAnQmVzb25kZXJlIFRpZXJlJyB9LAogICAgICAgICAgICB7IHF1ZXN0aW9uczogOCwgbWF4TGV2ZWw6IDQsIGRlc2M6ICdUaWVyLUV4cGVydGUnIH0sCiAgICAgICAgICAgIHsgcXVlc3Rpb25zOiA4LCBtYXhMZXZlbDogNSwgZGVzYzogJ1RpZXItTWVpc3RlciEnIH0KICAgICAgICBdOwogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGluaXRBdWRpbygpIHsgaWYgKCFhdWRpb0N0eCkgYXVkaW9DdHggPSBuZXcgKHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkoKTsgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHBsYXlTb3VuZCh0eXBlKSB7CiAgICAgICAgICAgIGlmICghc291bmRFbmFibGVkIHx8ICFhdWRpb0N0eCkgcmV0dXJuOwogICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2NvcnJlY3QnKSB7CiAgICAgICAgICAgICAgICBbNTIzLCA2NTksIDc4NF0uZm9yRWFjaCgoZiwgaSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG8gPSBhdWRpb0N0eC5jcmVhdGVPc2NpbGxhdG9yKCksIGcgPSBhdWRpb0N0eC5jcmVhdGVHYWluKCk7CiAgICAgICAgICAgICAgICAgICAgby5jb25uZWN0KGcpOyBnLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pOwogICAgICAgICAgICAgICAgICAgIG8uZnJlcXVlbmN5LnZhbHVlID0gZjsKICAgICAgICAgICAgICAgICAgICBnLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4xLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjEpOwogICAgICAgICAgICAgICAgICAgIGcuZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMSArIDAuMTUpOwogICAgICAgICAgICAgICAgICAgIG8uc3RhcnQoYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xKTsgby5zdG9wKGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMSArIDAuMTUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3dyb25nJykgewogICAgICAgICAgICAgICAgY29uc3Qgb3NjID0gYXVkaW9DdHguY3JlYXRlT3NjaWxsYXRvcigpLCBnYWluID0gYXVkaW9DdHguY3JlYXRlR2FpbigpOwogICAgICAgICAgICAgICAgb3NjLmNvbm5lY3QoZ2Fpbik7IGdhaW4uY29ubmVjdChhdWRpb0N0eC5kZXN0aW5hdGlvbik7CiAgICAgICAgICAgICAgICBvc2MuZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKDIwMCwgYXVkaW9DdHguY3VycmVudFRpbWUpOwogICAgICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDEwMCwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjIpOwogICAgICAgICAgICAgICAgZ2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKDAuMTIsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsKICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4yNSk7CiAgICAgICAgICAgICAgICBvc2Muc3RhcnQoKTsgb3NjLnN0b3AoYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjI1KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBzb3VuZFRvZ2dsZS5vbmNsaWNrID0gKCkgPT4geyBzb3VuZEVuYWJsZWQgPSAhc291bmRFbmFibGVkOyBzb3VuZFRvZ2dsZS50ZXh0Q29udGVudCA9IHNvdW5kRW5hYmxlZCA/ICfwn5SKJyA6ICfwn5SHJzsgfTsKICAgICAgICAKICAgICAgICBmdW5jdGlvbiBnZXRRdWVzdGlvblBvb2woKSB7CiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IGxldmVsQ29uZmlnc1tsZXZlbCAtIDFdOwogICAgICAgICAgICByZXR1cm4gcXVlc3Rpb25zLmZpbHRlcihxID0+IHEubGV2ZWwgPD0gY29uZmlnLm1heExldmVsKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gc2V0dXBRdWVzdGlvbigpIHsKICAgICAgICAgICAgY2FuQW5zd2VyID0gdHJ1ZTsKICAgICAgICAgICAgZmFjdEJveC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgcG9vbCA9IGdldFF1ZXN0aW9uUG9vbCgpOwogICAgICAgICAgICBjb25zdCBxID0gcG9vbFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb29sLmxlbmd0aCldOwogICAgICAgICAgICBsZWFybmVkQW5pbWFscy5hZGQocS5lbW9qaSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBhbmltYWxFbW9qaS50ZXh0Q29udGVudCA9IHEuZW1vamk7CiAgICAgICAgICAgIHF1ZXN0aW9uVGV4dC50ZXh0Q29udGVudCA9IHEucXVlc3Rpb247CiAgICAgICAgICAgIGhpbnRUZXh0LnRleHRDb250ZW50ID0gJyc7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBjaG9pY2VzID0gW3EuYW5zd2VyLCAuLi5xLndyb25nXS5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpOwogICAgICAgICAgICAKICAgICAgICAgICAgYW5zd2Vyc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgY2hvaWNlcy5mb3JFYWNoKGNob2ljZSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgICAgIGJ0bi5jbGFzc05hbWUgPSAnYW5zd2VyLWJ0bic7CiAgICAgICAgICAgICAgICBidG4udGV4dENvbnRlbnQgPSBjaG9pY2U7CiAgICAgICAgICAgICAgICBidG4ub25jbGljayA9ICgpID0+IGhhbmRsZUFuc3dlcihjaG9pY2UsIHEsIGJ0bik7CiAgICAgICAgICAgICAgICBhbnN3ZXJzQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ0bik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBoYW5kbGVBbnN3ZXIoc2VsZWN0ZWQsIHEsIGJ0bikgewogICAgICAgICAgICBpZiAoIWNhbkFuc3dlcikgcmV0dXJuOwogICAgICAgICAgICBjYW5BbnN3ZXIgPSBmYWxzZTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChzZWxlY3RlZCA9PT0gcS5hbnN3ZXIpIHsKICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdjb3JyZWN0Jyk7CiAgICAgICAgICAgICAgICBwbGF5U291bmQoJ2NvcnJlY3QnKTsKICAgICAgICAgICAgICAgIGNvcnJlY3RDb3VudCsrOyBzY29yZSArPSAxMDsKICAgICAgICAgICAgICAgIGNvcnJlY3REaXNwbGF5LnRleHRDb250ZW50ID0gY29ycmVjdENvdW50OwogICAgICAgICAgICAgICAgc2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZCgnd3JvbmcnKTsKICAgICAgICAgICAgICAgIHBsYXlTb3VuZCgnd3JvbmcnKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbnN3ZXItYnRuJykuZm9yRWFjaChiID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGIudGV4dENvbnRlbnQgPT09IHEuYW5zd2VyKSBiLmNsYXNzTGlzdC5hZGQoJ2NvcnJlY3QnKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFNob3cgZmFjdAogICAgICAgICAgICBmYWN0VGV4dC50ZXh0Q29udGVudCA9ICfwn5KhICcgKyBxLmZhY3Q7CiAgICAgICAgICAgIGZhY3RCb3guc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgIGZhY3RzTGVhcm5lZCsrOwogICAgICAgICAgICAKICAgICAgICAgICAgcXVlc3Rpb25JbmRleCsrOwogICAgICAgICAgICBpZiAocXVlc3Rpb25JbmRleCA+PSBsZXZlbENvbmZpZ3NbbGV2ZWwgLSAxXS5xdWVzdGlvbnMpIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQobGV2ZWxDb21wbGV0ZSwgMjUwMCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHNldHVwUXVlc3Rpb24sIDI1MDApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGxldmVsQ29tcGxldGUoKSB7CiAgICAgICAgICAgIGxldmVsKys7CiAgICAgICAgICAgIGlmIChsZXZlbCA+IGxldmVsQ29uZmlncy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaW5hbC1zY29yZScpLnRleHRDb250ZW50ID0gc2NvcmU7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmluYWwtY29ycmVjdCcpLnRleHRDb250ZW50ID0gY29ycmVjdENvdW50OwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbmFsLWFuaW1hbHMnKS50ZXh0Q29udGVudCA9IGxlYXJuZWRBbmltYWxzLnNpemU7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmluYWwtZmFjdHMnKS50ZXh0Q29udGVudCA9IGZhY3RzTGVhcm5lZDsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aW4tc2NyZWVuJykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwtbnVtYmVyJykudGV4dENvbnRlbnQgPSBsZXZlbDsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC1kZXNjJykudGV4dENvbnRlbnQgPSBsZXZlbENvbmZpZ3NbbGV2ZWwgLSAxXS5kZXNjOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLXNjcmVlbicpLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLXNjcmVlbicpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uSW5kZXggPSAwOwogICAgICAgICAgICAgICAgICAgIGxldmVsRGlzcGxheS50ZXh0Q29udGVudCA9IGxldmVsOwogICAgICAgICAgICAgICAgICAgIHNldHVwUXVlc3Rpb24oKTsKICAgICAgICAgICAgICAgIH0sIDE1MDApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHN0YXJ0R2FtZSgpIHsKICAgICAgICAgICAgaW5pdEF1ZGlvKCk7CiAgICAgICAgICAgIGxldmVsID0gMTsgc2NvcmUgPSAwOyBjb3JyZWN0Q291bnQgPSAwOyBxdWVzdGlvbkluZGV4ID0gMDsKICAgICAgICAgICAgZmFjdHNMZWFybmVkID0gMDsgbGVhcm5lZEFuaW1hbHMuY2xlYXIoKTsKICAgICAgICAgICAgc2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7CiAgICAgICAgICAgIGNvcnJlY3REaXNwbGF5LnRleHRDb250ZW50ID0gY29ycmVjdENvdW50OwogICAgICAgICAgICBsZXZlbERpc3BsYXkudGV4dENvbnRlbnQgPSBsZXZlbDsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0LXNjcmVlbicpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2luLXNjcmVlbicpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgICAgICBzZXR1cFF1ZXN0aW9uKCk7CiAgICAgICAgfQogICAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo=';
GAMES['muster'] = 'PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImRlIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubywgdmlld3BvcnQtZml0PWNvdmVyIj4KICAgIDx0aXRsZT7wn5SuIE11c3Rlci1NZWlzdGVyITwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgICAgQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9RnJlZG9rYTp3Z2h0QDQwMDs2MDA7NzAwJmRpc3BsYXk9c3dhcCcpOwogICAgICAgICogeyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IH0KICAgICAgICBib2R5IHsgZm9udC1mYW1pbHk6ICdGcmVkb2thJywgc2Fucy1zZXJpZjsgbWluLWhlaWdodDogMTAwdmg7IG1pbi1oZWlnaHQ6IDEwMGR2aDsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzhFMkRFMiAwJSwgIzRBMDBFMCAxMDAlKTsgb3ZlcmZsb3cteDogaGlkZGVuOyB0b3VjaC1hY3Rpb246IG1hbmlwdWxhdGlvbjsgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDsgfQogICAgICAgICNnYW1lLWNvbnRhaW5lciB7IHdpZHRoOiAxMDAlOyBtaW4taGVpZ2h0OiAxMDB2aDsgbWluLWhlaWdodDogMTAwZHZoOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBhbGlnbi1pdGVtczogY2VudGVyOyBwYWRkaW5nOiAxMHB4OyBwYWRkaW5nLWJvdHRvbTogbWF4KDEwcHgsIGVudihzYWZlLWFyZWEtaW5zZXQtYm90dG9tKSk7IH0KICAgICAgICAjdG9wLWJhciB7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDhweDsgcGFkZGluZzogOHB4OyBmbGV4LXdyYXA6IHdyYXA7IH0KICAgICAgICAuc3RhdC1ib3ggeyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuOSk7IGNvbG9yOiAjMzMzOyBwYWRkaW5nOiA2cHggMTRweDsgYm9yZGVyLXJhZGl1czogMjVweDsgZm9udC1zaXplOiAxNHB4OyBmb250LXdlaWdodDogNjAwOyB9CiAgICAgICAgI3NvdW5kLXRvZ2dsZSB7IGJhY2tncm91bmQ6ICMzNDk4REI7IGJvcmRlcjogbm9uZTsgcGFkZGluZzogOHB4IDE1cHg7IGJvcmRlci1yYWRpdXM6IDI1cHg7IGZvbnQtc2l6ZTogMThweDsgY3Vyc29yOiBwb2ludGVyOyB9CiAgICAgICAgI2dhbWUtYXJlYSB7IGZsZXg6IDE7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7IHBhZGRpbmc6IDE1cHg7IHdpZHRoOiAxMDAlOyBtYXgtd2lkdGg6IDQ1MHB4OyB9CiAgICAgICAgI3F1ZXN0aW9uLXR5cGUgeyBjb2xvcjogd2hpdGU7IGZvbnQtc2l6ZTogMThweDsgbWFyZ2luLWJvdHRvbTogMTVweDsgdGV4dC1hbGlnbjogY2VudGVyOyB9CiAgICAgICAgI3BhdHRlcm4tYm94IHsgYmFja2dyb3VuZDogd2hpdGU7IHBhZGRpbmc6IDIwcHg7IGJvcmRlci1yYWRpdXM6IDIwcHg7IG1hcmdpbi1ib3R0b206IDIwcHg7IGJveC1zaGFkb3c6IDAgOHB4IDMwcHggcmdiYSgwLDAsMCwwLjMpOyB3aWR0aDogMTAwJTsgfQogICAgICAgICNwYXR0ZXJuLWRpc3BsYXkgeyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiA4cHg7IGZsZXgtd3JhcDogd3JhcDsgfQogICAgICAgIC5wYXR0ZXJuLWl0ZW0geyB3aWR0aDogNTBweDsgaGVpZ2h0OiA1MHB4OyBiYWNrZ3JvdW5kOiAjMzQ5OERCOyBib3JkZXItcmFkaXVzOiAxMnB4OyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZm9udC1zaXplOiAyNHB4OyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6IHdoaXRlOyB9CiAgICAgICAgLnBhdHRlcm4taXRlbS5xdWVzdGlvbiB7IGJhY2tncm91bmQ6ICNGMUM0MEY7IGNvbG9yOiAjMzMzOyBmb250LXNpemU6IDI4cHg7IH0KICAgICAgICAucGF0dGVybi1pdGVtLnNoYXBlIHsgZm9udC1zaXplOiAzMHB4OyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgfQogICAgICAgICNhbnN3ZXJzLWNvbnRhaW5lciB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIDFmcik7IGdhcDogMTJweDsgd2lkdGg6IDEwMCU7IH0KICAgICAgICAuYW5zd2VyLWJ0biB7IHBhZGRpbmc6IDE4cHg7IGZvbnQtc2l6ZTogMjRweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGJhY2tncm91bmQ6IHdoaXRlOyBib3JkZXI6IG5vbmU7IGJvcmRlci1yYWRpdXM6IDE1cHg7IGN1cnNvcjogcG9pbnRlcjsgYm94LXNoYWRvdzogMCA0cHggMCByZ2JhKDAsMCwwLDAuMSk7IHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjFzOyBmb250LWZhbWlseTogJ0ZyZWRva2EnLCBzYW5zLXNlcmlmOyB9CiAgICAgICAgLmFuc3dlci1idG46YWN0aXZlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDJweCk7IH0KICAgICAgICAuYW5zd2VyLWJ0bi5jb3JyZWN0IHsgYmFja2dyb3VuZDogIzJFQ0M3MTsgY29sb3I6IHdoaXRlOyB9CiAgICAgICAgLmFuc3dlci1idG4ud3JvbmcgeyBiYWNrZ3JvdW5kOiAjRTc0QzNDOyBjb2xvcjogd2hpdGU7IH0KICAgICAgICAjc3RhcnQtc2NyZWVuLCAjd2luLXNjcmVlbiwgI2xldmVsLXNjcmVlbiB7IHBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjOEUyREUyIDAlLCAjNEEwMEUwIDEwMCUpOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgei1pbmRleDogMjAwOyBnYXA6IDE1cHg7IHBhZGRpbmc6IDIwcHg7IH0KICAgICAgICAjd2luLXNjcmVlbiB7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMxMTk5OGUgMCUsICMzOGVmN2QgMTAwJSk7IH0KICAgICAgICAuc2NyZWVuLXRpdGxlIHsgZm9udC1zaXplOiAzNnB4OyBjb2xvcjogd2hpdGU7IHRleHQtc2hhZG93OiAwIDRweCAwIHJnYmEoMCwwLDAsMC4yKTsgdGV4dC1hbGlnbjogY2VudGVyOyB9CiAgICAgICAgLnNjcmVlbi1pY29uIHsgZm9udC1zaXplOiA2MHB4OyB9CiAgICAgICAgLnN0YXJ0LWJ0biB7IGJhY2tncm91bmQ6ICNGMUM0MEY7IGNvbG9yOiAjMzMzOyBib3JkZXI6IG5vbmU7IHBhZGRpbmc6IDE2cHggNDBweDsgZm9udC1zaXplOiAyMHB4OyBmb250LWZhbWlseTogJ0ZyZWRva2EnLCBzYW5zLXNlcmlmOyBmb250LXdlaWdodDogNzAwOyBib3JkZXItcmFkaXVzOiA1MHB4OyBjdXJzb3I6IHBvaW50ZXI7IGJveC1zaGFkb3c6IDAgNXB4IDAgI0Q0QUMwRDsgfQogICAgICAgIC5zdGFydC1idG46YWN0aXZlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDNweCk7IGJveC1zaGFkb3c6IDAgMnB4IDAgI0Q0QUMwRDsgfQogICAgICAgIC5oaWRkZW4geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0KICAgIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8ZGl2IGlkPSJnYW1lLWNvbnRhaW5lciI+CiAgICAgICAgPGRpdiBpZD0idG9wLWJhciI+CiAgICAgICAgICAgIDxidXR0b24gaWQ9InNvdW5kLXRvZ2dsZSI+8J+UijwvYnV0dG9uPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWJveCI+4q2QIDxzcGFuIGlkPSJzY29yZSI+MDwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPvCfjq8gPHNwYW4gaWQ9InJvdW5kIj4xPC9zcGFuPi88c3BhbiBpZD0idG90YWwiPjg8L3NwYW4+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtYm94Ij5MdiA8c3BhbiBpZD0ibGV2ZWwiPjE8L3NwYW4+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0iZ2FtZS1hcmVhIj4KICAgICAgICAgICAgPGRpdiBpZD0icXVlc3Rpb24tdHlwZSI+V2FzIGtvbW10IGFscyBuw6RjaHN0ZXM/PC9kaXY+CiAgICAgICAgICAgIDxkaXYgaWQ9InBhdHRlcm4tYm94Ij4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9InBhdHRlcm4tZGlzcGxheSI+PC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGlkPSJhbnN3ZXJzLWNvbnRhaW5lciI+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0ic3RhcnQtc2NyZWVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPvCflK48L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPk11c3Rlci1NZWlzdGVyITwvaDE+CiAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjp3aGl0ZTtmb250LXNpemU6MTVweDt0ZXh0LWFsaWduOmNlbnRlcjsiPkVya2VubmUgZGFzIE11c3RlciE8YnI+V2FzIGtvbW10IGFscyBuw6RjaHN0ZXM/PC9wPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzdGFydC1idG4iIG9uY2xpY2s9InN0YXJ0R2FtZSgpIj7wn46uIFN0YXJ0ITwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9ImxldmVsLXNjcmVlbiIgY2xhc3M9ImhpZGRlbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNjcmVlbi1pY29uIj7wn5SuPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5MZXZlbCA8c3BhbiBpZD0ibGV2ZWwtbnVtYmVyIj4xPC9zcGFuPjwvaDE+CiAgICAgICAgICAgIDxwIGlkPSJsZXZlbC1kZXNjIiBzdHlsZT0iY29sb3I6d2hpdGU7Zm9udC1zaXplOjE2cHg7dGV4dC1hbGlnbjpjZW50ZXI7Ij48L3A+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0id2luLXNjcmVlbiIgY2xhc3M9ImhpZGRlbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNjcmVlbi1pY29uIj7wn4+GPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5NdXN0ZXItR2VuaWUhPC9oMT4KICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOndoaXRlO2ZvbnQtc2l6ZToyMnB4OyI+4q2QIDxzcGFuIGlkPSJmaW5hbC1zY29yZSI+MDwvc3Bhbj4gUHVua3RlPC9wPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzdGFydC1idG4iIG9uY2xpY2s9InN0YXJ0R2FtZSgpIj7wn5SEIE5vY2htYWwhPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8c2NyaXB0PgogICAgICAgIGNvbnN0IHBhdHRlcm5EaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhdHRlcm4tZGlzcGxheScpOwogICAgICAgIGNvbnN0IGFuc3dlcnNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYW5zd2Vycy1jb250YWluZXInKTsKICAgICAgICBjb25zdCBxdWVzdGlvblR5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVlc3Rpb24tdHlwZScpOwogICAgICAgIGNvbnN0IHNjb3JlRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZScpOwogICAgICAgIGNvbnN0IHJvdW5kRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb3VuZCcpOwogICAgICAgIGNvbnN0IHRvdGFsRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3RhbCcpOwogICAgICAgIGNvbnN0IGxldmVsRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbCcpOwogICAgICAgIGNvbnN0IHNvdW5kVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvdW5kLXRvZ2dsZScpOwogICAgICAgIAogICAgICAgIGxldCBsZXZlbCA9IDEsIHNjb3JlID0gMCwgcm91bmQgPSAxLCB0b3RhbFJvdW5kcyA9IDg7CiAgICAgICAgbGV0IHNvdW5kRW5hYmxlZCA9IHRydWUsIGNhbkFuc3dlciA9IHRydWU7CiAgICAgICAgbGV0IGF1ZGlvQ3R4ID0gbnVsbDsKICAgICAgICAKICAgICAgICBjb25zdCBsZXZlbENvbmZpZ3MgPSBbCiAgICAgICAgICAgIHsgcm91bmRzOiA2LCB0eXBlOiAnc2ltcGxlJywgZGVzYzogJ0VpbmZhY2hlIFphaGxlbmZvbGdlbiAoKzEsICsyKScgfSwKICAgICAgICAgICAgeyByb3VuZHM6IDgsIHR5cGU6ICdzaGFwZXMnLCBkZXNjOiAnRm9ybS1NdXN0ZXIgZXJrZW5uZW4nIH0sCiAgICAgICAgICAgIHsgcm91bmRzOiA4LCB0eXBlOiAnY29sb3JzJywgZGVzYzogJ0ZhcmItTXVzdGVyJyB9LAogICAgICAgICAgICB7IHJvdW5kczogOCwgdHlwZTogJ21peGVkJywgZGVzYzogJ0dlbWlzY2h0ZSBNdXN0ZXInIH0sCiAgICAgICAgICAgIHsgcm91bmRzOiAxMCwgdHlwZTogJ2hhcmQnLCBkZXNjOiAnS25pZmZsaWdlIE11c3RlciEnIH0KICAgICAgICBdOwogICAgICAgIAogICAgICAgIGNvbnN0IHNoYXBlcyA9IFsn8J+UtCcsICfwn5+iJywgJ/CflLUnLCAn8J+foScsICfwn5+jJywgJ/Cfn6AnXTsKICAgICAgICBjb25zdCBhbmltYWxzID0gWyfwn5CxJywgJ/CfkLYnLCAn8J+QsCcsICfwn5C7JywgJ/CfpoonLCAn8J+QvCddOwogICAgICAgIGNvbnN0IGZydWl0cyA9IFsn8J+NjicsICfwn42KJywgJ/CfjYsnLCAn8J+NhycsICfwn42TJywgJ/CfjZEnXTsKICAgICAgICAKICAgICAgICBmdW5jdGlvbiBpbml0QXVkaW8oKSB7IGlmICghYXVkaW9DdHgpIGF1ZGlvQ3R4ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKCk7IH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBwbGF5U291bmQodHlwZSkgewogICAgICAgICAgICBpZiAoIXNvdW5kRW5hYmxlZCB8fCAhYXVkaW9DdHgpIHJldHVybjsKICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdjb3JyZWN0JykgewogICAgICAgICAgICAgICAgWzUyMywgNjU5LCA3ODRdLmZvckVhY2goKGYsIGkpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBvID0gYXVkaW9DdHguY3JlYXRlT3NjaWxsYXRvcigpLCBnID0gYXVkaW9DdHguY3JlYXRlR2FpbigpOwogICAgICAgICAgICAgICAgICAgIG8uY29ubmVjdChnKTsgZy5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTsKICAgICAgICAgICAgICAgICAgICBvLmZyZXF1ZW5jeS52YWx1ZSA9IGY7CiAgICAgICAgICAgICAgICAgICAgZy5nYWluLnNldFZhbHVlQXRUaW1lKDAuMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xKTsKICAgICAgICAgICAgICAgICAgICBnLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAxLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjEgKyAwLjE1KTsKICAgICAgICAgICAgICAgICAgICBvLnN0YXJ0KGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMSk7IG8uc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjEgKyAwLjE1KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd3cm9uZycpIHsKICAgICAgICAgICAgICAgIGNvbnN0IG9zYyA9IGF1ZGlvQ3R4LmNyZWF0ZU9zY2lsbGF0b3IoKSwgZ2FpbiA9IGF1ZGlvQ3R4LmNyZWF0ZUdhaW4oKTsKICAgICAgICAgICAgICAgIG9zYy5jb25uZWN0KGdhaW4pOyBnYWluLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pOwogICAgICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZSgyMDAsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsKICAgICAgICAgICAgICAgIG9zYy5mcmVxdWVuY3kuZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgxMDAsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4yKTsKICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjEyLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBnYWluLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAxLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMjUpOwogICAgICAgICAgICAgICAgb3NjLnN0YXJ0KCk7IG9zYy5zdG9wKGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4yNSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgc291bmRUb2dnbGUub25jbGljayA9ICgpID0+IHsgc291bmRFbmFibGVkID0gIXNvdW5kRW5hYmxlZDsgc291bmRUb2dnbGUudGV4dENvbnRlbnQgPSBzb3VuZEVuYWJsZWQgPyAn8J+UiicgOiAn8J+Uhyc7IH07CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gc2V0dXBRdWVzdGlvbigpIHsKICAgICAgICAgICAgY2FuQW5zd2VyID0gdHJ1ZTsKICAgICAgICAgICAgY29uc3QgY29uZmlnID0gbGV2ZWxDb25maWdzW2xldmVsIC0gMV07CiAgICAgICAgICAgIGxldCBxVHlwZSA9IGNvbmZpZy50eXBlOwogICAgICAgICAgICBpZiAocVR5cGUgPT09ICdtaXhlZCcpIHsKICAgICAgICAgICAgICAgIHFUeXBlID0gWydzaW1wbGUnLCAnc2hhcGVzJywgJ2NvbG9ycyddW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocVR5cGUgPT09ICdoYXJkJykgewogICAgICAgICAgICAgICAgcVR5cGUgPSBbJ211bHRpcGx5JywgJ2FsdGVybmF0aW5nJywgJ3NoYXBlcyddW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpXTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgbGV0IHBhdHRlcm4gPSBbXSwgYW5zd2VyLCB3cm9uZ0Fuc3dlcnMgPSBbXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChxVHlwZSA9PT0gJ3NpbXBsZScpIHsKICAgICAgICAgICAgICAgIHF1ZXN0aW9uVHlwZS50ZXh0Q29udGVudCA9ICdXZWxjaGUgWmFobCBrb21tdCBhbHMgbsOkY2hzdGVzPyc7CiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUpICsgMTsKICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzKSArIDE7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykgcGF0dGVybi5wdXNoKHN0YXJ0ICsgaSAqIHN0ZXApOwogICAgICAgICAgICAgICAgYW5zd2VyID0gc3RhcnQgKyA0ICogc3RlcDsKICAgICAgICAgICAgICAgIHdyb25nQW5zd2VycyA9IFthbnN3ZXIgKyAxLCBhbnN3ZXIgLSAxLCBhbnN3ZXIgKyBzdGVwLCBhbnN3ZXIgLSBzdGVwXS5maWx0ZXIodyA9PiB3ICE9PSBhbnN3ZXIgJiYgdyA+IDApOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0gZWxzZSBpZiAocVR5cGUgPT09ICdtdWx0aXBseScpIHsKICAgICAgICAgICAgICAgIHF1ZXN0aW9uVHlwZS50ZXh0Q29udGVudCA9ICdXZWxjaGUgWmFobCBrb21tdCBhbHMgbsOkY2hzdGVzPyc7CiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpICsgMTsKICAgICAgICAgICAgICAgIGNvbnN0IG11bHQgPSAyOwogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHBhdHRlcm4ucHVzaChzdGFydCAqIE1hdGgucG93KG11bHQsIGkpKTsKICAgICAgICAgICAgICAgIGFuc3dlciA9IHN0YXJ0ICogTWF0aC5wb3cobXVsdCwgNCk7CiAgICAgICAgICAgICAgICB3cm9uZ0Fuc3dlcnMgPSBbYW5zd2VyICogMiwgYW5zd2VyIC8gMiwgYW5zd2VyICsgcGF0dGVyblszXSwgYW5zd2VyIC0gcGF0dGVyblswXV0uZmlsdGVyKHcgPT4gdyAhPT0gYW5zd2VyICYmIHcgPiAwICYmIE51bWJlci5pc0ludGVnZXIodykpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0gZWxzZSBpZiAocVR5cGUgPT09ICdhbHRlcm5hdGluZycpIHsKICAgICAgICAgICAgICAgIHF1ZXN0aW9uVHlwZS50ZXh0Q29udGVudCA9ICdXZWxjaGUgWmFobCBrb21tdCBhbHMgbsOkY2hzdGVzPyc7CiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUpICsgMTsKICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAxID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMikgKyAxOwogICAgICAgICAgICAgICAgY29uc3Qgc3RlcDIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKSArIDI7CiAgICAgICAgICAgICAgICBsZXQgdmFsID0gc3RhcnQ7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykgewogICAgICAgICAgICAgICAgICAgIHBhdHRlcm4ucHVzaCh2YWwpOwogICAgICAgICAgICAgICAgICAgIHZhbCArPSAoaSAlIDIgPT09IDApID8gc3RlcDEgOiBzdGVwMjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGFuc3dlciA9IHBhdHRlcm5bNF0gKyBzdGVwMTsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKDAsIDQpOwogICAgICAgICAgICAgICAgd3JvbmdBbnN3ZXJzID0gW2Fuc3dlciArIDEsIGFuc3dlciAtIDEsIGFuc3dlciArIHN0ZXAyLCBwYXR0ZXJuWzNdICsgMV07CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfSBlbHNlIGlmIChxVHlwZSA9PT0gJ3NoYXBlcycpIHsKICAgICAgICAgICAgICAgIHF1ZXN0aW9uVHlwZS50ZXh0Q29udGVudCA9ICdXYXMga29tbXQgYWxzIG7DpGNoc3Rlcz8nOwogICAgICAgICAgICAgICAgY29uc3QgcG9vbCA9IE1hdGgucmFuZG9tKCkgPiAwLjUgPyBzaGFwZXMgOiBhbmltYWxzOwogICAgICAgICAgICAgICAgY29uc3QgcGF0dGVybkxlbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpICsgMjsKICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VQYXR0ZXJuID0gcG9vbC5zbGljZSgwLCBwYXR0ZXJuTGVuKTsKICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSBwYXR0ZXJuLnB1c2goYmFzZVBhdHRlcm5baSAlIHBhdHRlcm5MZW5dKTsKICAgICAgICAgICAgICAgIGFuc3dlciA9IGJhc2VQYXR0ZXJuWzQgJSBwYXR0ZXJuTGVuXTsKICAgICAgICAgICAgICAgIHdyb25nQW5zd2VycyA9IHBvb2wuZmlsdGVyKHMgPT4gcyAhPT0gYW5zd2VyKS5zbGljZSgwLCAzKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9IGVsc2UgaWYgKHFUeXBlID09PSAnY29sb3JzJykgewogICAgICAgICAgICAgICAgcXVlc3Rpb25UeXBlLnRleHRDb250ZW50ID0gJ1dlbGNoZSBGYXJiZSBrb21tdCBhbHMgbsOkY2hzdGVzPyc7CiAgICAgICAgICAgICAgICBjb25zdCBwYXR0ZXJuTGVuID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMikgKyAyOwogICAgICAgICAgICAgICAgY29uc3QgYmFzZVBhdHRlcm4gPSBzaGFwZXMuc2xpY2UoMCwgcGF0dGVybkxlbik7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykgcGF0dGVybi5wdXNoKGJhc2VQYXR0ZXJuW2kgJSBwYXR0ZXJuTGVuXSk7CiAgICAgICAgICAgICAgICBhbnN3ZXIgPSBiYXNlUGF0dGVybls0ICUgcGF0dGVybkxlbl07CiAgICAgICAgICAgICAgICB3cm9uZ0Fuc3dlcnMgPSBzaGFwZXMuZmlsdGVyKHMgPT4gcyAhPT0gYW5zd2VyKS5zbGljZSgwLCAzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gRGlzcGxheSBwYXR0ZXJuCiAgICAgICAgICAgIHBhdHRlcm5EaXNwbGF5LmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICBwYXR0ZXJuLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGRpdi5jbGFzc05hbWUgPSAncGF0dGVybi1pdGVtJyArICh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycgJiYgaXRlbS5sZW5ndGggPiAxID8gJyBzaGFwZScgOiAnJyk7CiAgICAgICAgICAgICAgICBkaXYudGV4dENvbnRlbnQgPSBpdGVtOwogICAgICAgICAgICAgICAgcGF0dGVybkRpc3BsYXkuYXBwZW5kQ2hpbGQoZGl2KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBBZGQgcXVlc3Rpb24gbWFyawogICAgICAgICAgICBjb25zdCBxRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIHFEaXYuY2xhc3NOYW1lID0gJ3BhdHRlcm4taXRlbSBxdWVzdGlvbic7CiAgICAgICAgICAgIHFEaXYudGV4dENvbnRlbnQgPSAnPyc7CiAgICAgICAgICAgIHBhdHRlcm5EaXNwbGF5LmFwcGVuZENoaWxkKHFEaXYpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ3JlYXRlIGFuc3dlcnMKICAgICAgICAgICAgY29uc3QgYWxsQW5zd2VycyA9IFthbnN3ZXIsIC4uLndyb25nQW5zd2Vycy5zbGljZSgwLCAzKV0uZmlsdGVyKCh2LCBpLCBhKSA9PiBhLmluZGV4T2YodikgPT09IGkpOwogICAgICAgICAgICB3aGlsZSAoYWxsQW5zd2Vycy5sZW5ndGggPCA0KSB7CiAgICAgICAgICAgICAgICBjb25zdCBmaWxsZXIgPSB0eXBlb2YgYW5zd2VyID09PSAnbnVtYmVyJyA/IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIwKSArIDEgOiBzaGFwZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc2hhcGVzLmxlbmd0aCldOwogICAgICAgICAgICAgICAgaWYgKCFhbGxBbnN3ZXJzLmluY2x1ZGVzKGZpbGxlcikpIGFsbEFuc3dlcnMucHVzaChmaWxsZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGFsbEFuc3dlcnMuc29ydCgoKSA9PiBNYXRoLnJhbmRvbSgpIC0gMC41KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGFuc3dlcnNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgIGFsbEFuc3dlcnMuZm9yRWFjaChhbnMgPT4gewogICAgICAgICAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICBidG4uY2xhc3NOYW1lID0gJ2Fuc3dlci1idG4nOwogICAgICAgICAgICAgICAgYnRuLnRleHRDb250ZW50ID0gYW5zOwogICAgICAgICAgICAgICAgYnRuLm9uY2xpY2sgPSAoKSA9PiBoYW5kbGVBbnN3ZXIoYW5zLCBhbnN3ZXIsIGJ0bik7CiAgICAgICAgICAgICAgICBhbnN3ZXJzQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ0bik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBoYW5kbGVBbnN3ZXIoc2VsZWN0ZWQsIGNvcnJlY3QsIGJ0bikgewogICAgICAgICAgICBpZiAoIWNhbkFuc3dlcikgcmV0dXJuOwogICAgICAgICAgICBjYW5BbnN3ZXIgPSBmYWxzZTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChzZWxlY3RlZCA9PT0gY29ycmVjdCkgewogICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoJ2NvcnJlY3QnKTsKICAgICAgICAgICAgICAgIHBsYXlTb3VuZCgnY29ycmVjdCcpOwogICAgICAgICAgICAgICAgc2NvcmUgKz0gMTA7CiAgICAgICAgICAgICAgICBzY29yZURpc3BsYXkudGV4dENvbnRlbnQgPSBzY29yZTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gU2hvdyBpbiBwYXR0ZXJuCiAgICAgICAgICAgICAgICBjb25zdCBxTWFyayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYXR0ZXJuLWl0ZW0ucXVlc3Rpb24nKTsKICAgICAgICAgICAgICAgIGlmIChxTWFyaykgewogICAgICAgICAgICAgICAgICAgIHFNYXJrLnRleHRDb250ZW50ID0gY29ycmVjdDsKICAgICAgICAgICAgICAgICAgICBxTWFyay5jbGFzc0xpc3QucmVtb3ZlKCdxdWVzdGlvbicpOwogICAgICAgICAgICAgICAgICAgIHFNYXJrLmNsYXNzTGlzdC5hZGQoJ2NvcnJlY3QnKTsKICAgICAgICAgICAgICAgICAgICBxTWFyay5zdHlsZS5iYWNrZ3JvdW5kID0gJyMyRUNDNzEnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoJ3dyb25nJyk7CiAgICAgICAgICAgICAgICBwbGF5U291bmQoJ3dyb25nJyk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYW5zd2VyLWJ0bicpLmZvckVhY2goYiA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiLnRleHRDb250ZW50ID09IGNvcnJlY3QpIGIuY2xhc3NMaXN0LmFkZCgnY29ycmVjdCcpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgcm91bmQrKzsKICAgICAgICAgICAgaWYgKHJvdW5kID4gdG90YWxSb3VuZHMpIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQobGV2ZWxDb21wbGV0ZSwgMTIwMCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByb3VuZERpc3BsYXkudGV4dENvbnRlbnQgPSByb3VuZDsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoc2V0dXBRdWVzdGlvbiwgMTIwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gbGV2ZWxDb21wbGV0ZSgpIHsKICAgICAgICAgICAgbGV2ZWwrKzsKICAgICAgICAgICAgaWYgKGxldmVsID4gbGV2ZWxDb25maWdzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbmFsLXNjb3JlJykudGV4dENvbnRlbnQgPSBzY29yZTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aW4tc2NyZWVuJykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zdCBjb25maWcgPSBsZXZlbENvbmZpZ3NbbGV2ZWwgLSAxXTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC1udW1iZXInKS50ZXh0Q29udGVudCA9IGxldmVsOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLWRlc2MnKS50ZXh0Q29udGVudCA9IGNvbmZpZy5kZXNjOwogICAgICAgICAgICAgICAgdG90YWxSb3VuZHMgPSBjb25maWcucm91bmRzOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLXNjcmVlbicpLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLXNjcmVlbicpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgICAgICAgICAgICAgIHJvdW5kID0gMTsKICAgICAgICAgICAgICAgICAgICByb3VuZERpc3BsYXkudGV4dENvbnRlbnQgPSByb3VuZDsKICAgICAgICAgICAgICAgICAgICB0b3RhbERpc3BsYXkudGV4dENvbnRlbnQgPSB0b3RhbFJvdW5kczsKICAgICAgICAgICAgICAgICAgICBsZXZlbERpc3BsYXkudGV4dENvbnRlbnQgPSBsZXZlbDsKICAgICAgICAgICAgICAgICAgICBzZXR1cFF1ZXN0aW9uKCk7CiAgICAgICAgICAgICAgICB9LCAxNTAwKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBzdGFydEdhbWUoKSB7CiAgICAgICAgICAgIGluaXRBdWRpbygpOwogICAgICAgICAgICBsZXZlbCA9IDE7IHNjb3JlID0gMDsgcm91bmQgPSAxOwogICAgICAgICAgICB0b3RhbFJvdW5kcyA9IGxldmVsQ29uZmlnc1swXS5yb3VuZHM7CiAgICAgICAgICAgIHNjb3JlRGlzcGxheS50ZXh0Q29udGVudCA9IHNjb3JlOwogICAgICAgICAgICByb3VuZERpc3BsYXkudGV4dENvbnRlbnQgPSByb3VuZDsKICAgICAgICAgICAgdG90YWxEaXNwbGF5LnRleHRDb250ZW50ID0gdG90YWxSb3VuZHM7CiAgICAgICAgICAgIGxldmVsRGlzcGxheS50ZXh0Q29udGVudCA9IGxldmVsOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnQtc2NyZWVuJykuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aW4tc2NyZWVuJykuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgIHNldHVwUXVlc3Rpb24oKTsKICAgICAgICB9CiAgICA8L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+Cg==';
GAMES['brueche'] = 'PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImRlIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubywgdmlld3BvcnQtZml0PWNvdmVyIj4KICAgIDx0aXRsZT7wn42VIEJydWNoLU1laXN0ZXIhPC90aXRsZT4KICAgIDxzdHlsZT4KICAgICAgICBAaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1GcmVkb2thOndnaHRANDAwOzYwMDs3MDAmZGlzcGxheT1zd2FwJyk7CiAgICAgICAgKiB7IG1hcmdpbjogMDsgcGFkZGluZzogMDsgYm94LXNpemluZzogYm9yZGVyLWJveDsgfQogICAgICAgIGJvZHkgeyBmb250LWZhbWlseTogJ0ZyZWRva2EnLCBzYW5zLXNlcmlmOyBtaW4taGVpZ2h0OiAxMDB2aDsgbWluLWhlaWdodDogMTAwZHZoOyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMTE5OThlIDAlLCAjMzhlZjdkIDEwMCUpOyBvdmVyZmxvdy14OiBoaWRkZW47IHRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uOyAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50OyB9CiAgICAgICAgI2dhbWUtY29udGFpbmVyIHsgcG9zaXRpb246IHJlbGF0aXZlOyB3aWR0aDogMTAwJTsgbWluLWhlaWdodDogMTAwdmg7IG1pbi1oZWlnaHQ6IDEwMGR2aDsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgcGFkZGluZzogMTBweDsgcGFkZGluZy1ib3R0b206IG1heCgxMHB4LCBlbnYoc2FmZS1hcmVhLWluc2V0LWJvdHRvbSkpOyB9CiAgICAgICAgI3RvcC1iYXIgeyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiA4cHg7IHBhZGRpbmc6IDhweDsgZmxleC13cmFwOiB3cmFwOyB9CiAgICAgICAgLnN0YXQtYm94IHsgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjkpOyBjb2xvcjogIzMzMzsgcGFkZGluZzogNnB4IDE0cHg7IGJvcmRlci1yYWRpdXM6IDI1cHg7IGZvbnQtc2l6ZTogMTRweDsgZm9udC13ZWlnaHQ6IDYwMDsgfQogICAgICAgICNzb3VuZC10b2dnbGUgeyBiYWNrZ3JvdW5kOiAjMzQ5OERCOyBib3JkZXI6IG5vbmU7IHBhZGRpbmc6IDhweCAxNXB4OyBib3JkZXItcmFkaXVzOiAyNXB4OyBmb250LXNpemU6IDE4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAgICNnYW1lLWFyZWEgeyBmbGV4OiAxOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBhbGlnbi1pdGVtczogY2VudGVyOyBwYWRkaW5nOiAxMHB4OyB3aWR0aDogMTAwJTsgbWF4LXdpZHRoOiA0NTBweDsgfQogICAgICAgICNxdWVzdGlvbi10eXBlIHsgY29sb3I6IHdoaXRlOyBmb250LXNpemU6IDE4cHg7IG1hcmdpbi1ib3R0b206IDEycHg7IHRleHQtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLDAsMCwwLjMpOyB0ZXh0LWFsaWduOiBjZW50ZXI7IH0KICAgICAgICAjdmlzdWFsLWFyZWEgeyBiYWNrZ3JvdW5kOiB3aGl0ZTsgcGFkZGluZzogMjBweDsgYm9yZGVyLXJhZGl1czogMjBweDsgbWFyZ2luLWJvdHRvbTogMTVweDsgYm94LXNoYWRvdzogMCA4cHggMzBweCByZ2JhKDAsMCwwLDAuMik7IHdpZHRoOiAxMDAlOyB9CiAgICAgICAgI2ZyYWN0aW9uLXZpc3VhbCB7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBnYXA6IDIwcHg7IGZsZXgtd3JhcDogd3JhcDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgfQogICAgICAgIC5waWUtc3ZnIHsgd2lkdGg6IDEyMHB4OyBoZWlnaHQ6IDEyMHB4OyB9CiAgICAgICAgLmZyYWN0aW9uLWRpc3BsYXkgeyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiAxMHB4OyBmbGV4LXdyYXA6IHdyYXA7IG1hcmdpbi10b3A6IDE1cHg7IH0KICAgICAgICAuZnJhY3Rpb24tYm94IHsgZGlzcGxheTogaW5saW5lLWZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGJhY2tncm91bmQ6ICNFQkY1RkI7IHBhZGRpbmc6IDEycHggMjBweDsgYm9yZGVyLXJhZGl1czogMTJweDsgYm9yZGVyOiAzcHggc29saWQgIzM0OThEQjsgfQogICAgICAgIC5mcmFjdGlvbi1udW0geyBmb250LXNpemU6IDI4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogIzJDM0U1MDsgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICMyQzNFNTA7IHBhZGRpbmctYm90dG9tOiA0cHg7IG1pbi13aWR0aDogMzBweDsgdGV4dC1hbGlnbjogY2VudGVyOyB9CiAgICAgICAgLmZyYWN0aW9uLWRlbiB7IGZvbnQtc2l6ZTogMjhweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjMkMzRTUwOyBwYWRkaW5nLXRvcDogNHB4OyBtaW4td2lkdGg6IDMwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsgfQogICAgICAgIC5vcGVyYXRvciB7IGZvbnQtc2l6ZTogMzJweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjRTc0QzNDOyB9CiAgICAgICAgLmJhci1jb250YWluZXIgeyB3aWR0aDogMTAwJTsgbWFyZ2luOiAxMHB4IDA7IH0KICAgICAgICAuYmFyLXJvdyB7IGRpc3BsYXk6IGZsZXg7IGhlaWdodDogMzVweDsgYm9yZGVyLXJhZGl1czogOHB4OyBvdmVyZmxvdzogaGlkZGVuOyBib3JkZXI6IDJweCBzb2xpZCAjQkRDM0M3OyBtYXJnaW4tYm90dG9tOiA4cHg7IH0KICAgICAgICAuYmFyLXNlZ21lbnQgeyBoZWlnaHQ6IDEwMCU7IGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNCREMzQzc7IH0KICAgICAgICAuYmFyLXNlZ21lbnQ6bGFzdC1jaGlsZCB7IGJvcmRlci1yaWdodDogbm9uZTsgfQogICAgICAgIC5iYXItbGFiZWwgeyB0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtc2l6ZTogMTRweDsgY29sb3I6ICM2NjY7IH0KICAgICAgICAjYW5zd2Vycy1jb250YWluZXIgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgyLCAxZnIpOyBnYXA6IDEwcHg7IHdpZHRoOiAxMDAlOyB9CiAgICAgICAgLmFuc3dlci1idG4geyBwYWRkaW5nOiAxNXB4OyBmb250LXNpemU6IDIwcHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBiYWNrZ3JvdW5kOiB3aGl0ZTsgYm9yZGVyOiBub25lOyBib3JkZXItcmFkaXVzOiAxNXB4OyBjdXJzb3I6IHBvaW50ZXI7IGJveC1zaGFkb3c6IDAgNHB4IDAgcmdiYSgwLDAsMCwwLjEpOyB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4xczsgZm9udC1mYW1pbHk6ICdGcmVkb2thJywgc2Fucy1zZXJpZjsgfQogICAgICAgIC5hbnN3ZXItYnRuOmFjdGl2ZSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgycHgpOyBib3gtc2hhZG93OiAwIDJweCAwIHJnYmEoMCwwLDAsMC4xKTsgfQogICAgICAgIC5hbnN3ZXItYnRuLmNvcnJlY3QgeyBiYWNrZ3JvdW5kOiAjMkVDQzcxOyBjb2xvcjogd2hpdGU7IH0KICAgICAgICAuYW5zd2VyLWJ0bi53cm9uZyB7IGJhY2tncm91bmQ6ICNFNzRDM0M7IGNvbG9yOiB3aGl0ZTsgfQogICAgICAgIC5hbnN3ZXItZnJhY3Rpb24geyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBhbGlnbi1pdGVtczogY2VudGVyOyB9CiAgICAgICAgLmFucy1udW0geyBib3JkZXItYm90dG9tOiAycHggc29saWQgY3VycmVudENvbG9yOyBwYWRkaW5nLWJvdHRvbTogMnB4OyB9CiAgICAgICAgLmFucy1kZW4geyBwYWRkaW5nLXRvcDogMnB4OyB9CiAgICAgICAgI3N0YXJ0LXNjcmVlbiwgI3dpbi1zY3JlZW4sICNsZXZlbC1zY3JlZW4geyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzExOTk4ZSAwJSwgIzM4ZWY3ZCAxMDAlKTsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IHotaW5kZXg6IDIwMDsgZ2FwOiAxNXB4OyBwYWRkaW5nOiAyMHB4OyB9CiAgICAgICAgI3dpbi1zY3JlZW4geyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpOyB9CiAgICAgICAgLnNjcmVlbi10aXRsZSB7IGZvbnQtc2l6ZTogMzZweDsgY29sb3I6IHdoaXRlOyB0ZXh0LXNoYWRvdzogMCA0cHggMCByZ2JhKDAsMCwwLDAuMik7IHRleHQtYWxpZ246IGNlbnRlcjsgfQogICAgICAgIC5zY3JlZW4taWNvbiB7IGZvbnQtc2l6ZTogNjBweDsgfQogICAgICAgIC5zdGFydC1idG4geyBiYWNrZ3JvdW5kOiAjRjFDNDBGOyBjb2xvcjogIzMzMzsgYm9yZGVyOiBub25lOyBwYWRkaW5nOiAxNnB4IDQwcHg7IGZvbnQtc2l6ZTogMjBweDsgZm9udC1mYW1pbHk6ICdGcmVkb2thJywgc2Fucy1zZXJpZjsgZm9udC13ZWlnaHQ6IDcwMDsgYm9yZGVyLXJhZGl1czogNTBweDsgY3Vyc29yOiBwb2ludGVyOyBib3gtc2hhZG93OiAwIDVweCAwICNENEFDMEQ7IH0KICAgICAgICAuc3RhcnQtYnRuOmFjdGl2ZSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgzcHgpOyBib3gtc2hhZG93OiAwIDJweCAwICNENEFDMEQ7IH0KICAgICAgICAuaGlkZGVuIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGRpdiBpZD0iZ2FtZS1jb250YWluZXIiPgogICAgICAgIDxkaXYgaWQ9InRvcC1iYXIiPgogICAgICAgICAgICA8YnV0dG9uIGlkPSJzb3VuZC10b2dnbGUiPvCflIo8L2J1dHRvbj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPuKtkCA8c3BhbiBpZD0ic2NvcmUiPjA8L3NwYW4+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtYm94Ij7inJMgPHNwYW4gaWQ9ImNvcnJlY3QiPjA8L3NwYW4+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtYm94Ij5MdiA8c3BhbiBpZD0ibGV2ZWwiPjE8L3NwYW4+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0iZ2FtZS1hcmVhIj4KICAgICAgICAgICAgPGRpdiBpZD0icXVlc3Rpb24tdHlwZSI+V2VsY2hlciBCcnVjaCBpc3QgZGFzPzwvZGl2PgogICAgICAgICAgICA8ZGl2IGlkPSJ2aXN1YWwtYXJlYSI+CiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJmcmFjdGlvbi12aXN1YWwiPjwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBpZD0iYW5zd2Vycy1jb250YWluZXIiPjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9InN0YXJ0LXNjcmVlbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNjcmVlbi1pY29uIj7wn42VPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5CcnVjaC1NZWlzdGVyITwvaDE+CiAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjp3aGl0ZTtmb250LXNpemU6MTVweDt0ZXh0LWFsaWduOmNlbnRlcjsiPkxlcm5lIEJyw7xjaGUgdmVyc3RlaGVuITxicj5NaXQgUGl6emEsIEt1Y2hlbiB1bmQgQmFsa2VuITwvcD4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic3RhcnQtYnRuIiBvbmNsaWNrPSJzdGFydEdhbWUoKSI+8J+OriBTdGFydCE8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJsZXZlbC1zY3JlZW4iIGNsYXNzPSJoaWRkZW4iPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzY3JlZW4taWNvbiI+8J+NlTwvZGl2PgogICAgICAgICAgICA8aDEgY2xhc3M9InNjcmVlbi10aXRsZSI+TGV2ZWwgPHNwYW4gaWQ9ImxldmVsLW51bWJlciI+MTwvc3Bhbj48L2gxPgogICAgICAgICAgICA8cCBpZD0ibGV2ZWwtZGVzYyIgc3R5bGU9ImNvbG9yOndoaXRlO2ZvbnQtc2l6ZToxNnB4O3RleHQtYWxpZ246Y2VudGVyOyI+PC9wPgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9Indpbi1zY3JlZW4iIGNsYXNzPSJoaWRkZW4iPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzY3JlZW4taWNvbiI+8J+PhjwvZGl2PgogICAgICAgICAgICA8aDEgY2xhc3M9InNjcmVlbi10aXRsZSI+QnJ1Y2gtUHJvZmkhPC9oMT4KICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOndoaXRlO2ZvbnQtc2l6ZToyMnB4OyI+4q2QIDxzcGFuIGlkPSJmaW5hbC1zY29yZSI+MDwvc3Bhbj4gUHVua3RlPC9wPgogICAgICAgICAgICA8cCBzdHlsZT0iY29sb3I6d2hpdGU7Zm9udC1zaXplOjE2cHg7Ij48c3BhbiBpZD0iZmluYWwtY29ycmVjdCI+MDwvc3Bhbj4gcmljaHRpZ2UgQW50d29ydGVuPC9wPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzdGFydC1idG4iIG9uY2xpY2s9InN0YXJ0R2FtZSgpIj7wn5SEIE5vY2htYWwhPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8c2NyaXB0PgogICAgICAgIGNvbnN0IHF1ZXN0aW9uVHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWVzdGlvbi10eXBlJyk7CiAgICAgICAgY29uc3QgZnJhY3Rpb25WaXN1YWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnJhY3Rpb24tdmlzdWFsJyk7CiAgICAgICAgY29uc3QgYW5zd2Vyc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbnN3ZXJzLWNvbnRhaW5lcicpOwogICAgICAgIGNvbnN0IHNjb3JlRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZScpOwogICAgICAgIGNvbnN0IGNvcnJlY3REaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcnJlY3QnKTsKICAgICAgICBjb25zdCBsZXZlbERpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwnKTsKICAgICAgICBjb25zdCBzb3VuZFRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb3VuZC10b2dnbGUnKTsKICAgICAgICAKICAgICAgICBsZXQgbGV2ZWwgPSAxLCBzY29yZSA9IDAsIGNvcnJlY3RDb3VudCA9IDA7CiAgICAgICAgbGV0IHF1ZXN0aW9uSW5kZXggPSAwLCBxdWVzdGlvbnNQZXJMZXZlbCA9IDg7CiAgICAgICAgbGV0IHNvdW5kRW5hYmxlZCA9IHRydWUsIGNhbkFuc3dlciA9IHRydWU7CiAgICAgICAgbGV0IGF1ZGlvQ3R4ID0gbnVsbDsKICAgICAgICAKICAgICAgICBjb25zdCBjb2xvcnMgPSBbJyNFNzRDM0MnLCAnIzM0OThEQicsICcjMkVDQzcxJywgJyNGMzlDMTInLCAnIzlCNTlCNicsICcjMUFCQzlDJ107CiAgICAgICAgCiAgICAgICAgY29uc3QgbGV2ZWxDb25maWdzID0gWwogICAgICAgICAgICB7IHF1ZXN0aW9uczogNiwgdHlwZTogJ2lkZW50aWZ5JywgbWF4RGVuOiA0LCBkZXNjOiAnQnLDvGNoZSBlcmtlbm5lbiAoSMOkbGZ0ZW4sIFZpZXJ0ZWwpJyB9LAogICAgICAgICAgICB7IHF1ZXN0aW9uczogOCwgdHlwZTogJ2lkZW50aWZ5JywgbWF4RGVuOiA2LCBkZXNjOiAnTWVociBCcsO8Y2hlIChiaXMgU2VjaHN0ZWwpJyB9LAogICAgICAgICAgICB7IHF1ZXN0aW9uczogOCwgdHlwZTogJ2NvbXBhcmUnLCBtYXhEZW46IDQsIGRlc2M6ICdCcsO8Y2hlIHZlcmdsZWljaGVuJyB9LAogICAgICAgICAgICB7IHF1ZXN0aW9uczogOCwgdHlwZTogJ21peGVkJywgbWF4RGVuOiA4LCBkZXNjOiAnQnLDvGNoZSBiaXMgQWNodGVsJyB9LAogICAgICAgICAgICB7IHF1ZXN0aW9uczogMTAsIHR5cGU6ICdhZGQnLCBtYXhEZW46IDQsIGRlc2M6ICdCcsO8Y2hlIGFkZGllcmVuIScgfQogICAgICAgIF07CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gaW5pdEF1ZGlvKCkgeyBpZiAoIWF1ZGlvQ3R4KSBhdWRpb0N0eCA9IG5ldyAod2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSgpOyB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gcGxheVNvdW5kKHR5cGUpIHsKICAgICAgICAgICAgaWYgKCFzb3VuZEVuYWJsZWQgfHwgIWF1ZGlvQ3R4KSByZXR1cm47CiAgICAgICAgICAgIGlmICh0eXBlID09PSAnY29ycmVjdCcpIHsKICAgICAgICAgICAgICAgIFs1MjMsIDY1OSwgNzg0XS5mb3JFYWNoKChmLCBpKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbyA9IGF1ZGlvQ3R4LmNyZWF0ZU9zY2lsbGF0b3IoKSwgZyA9IGF1ZGlvQ3R4LmNyZWF0ZUdhaW4oKTsKICAgICAgICAgICAgICAgICAgICBvLmNvbm5lY3QoZyk7IGcuY29ubmVjdChhdWRpb0N0eC5kZXN0aW5hdGlvbik7CiAgICAgICAgICAgICAgICAgICAgby5mcmVxdWVuY3kudmFsdWUgPSBmOwogICAgICAgICAgICAgICAgICAgIGcuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMSk7CiAgICAgICAgICAgICAgICAgICAgZy5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xICsgMC4xNSk7CiAgICAgICAgICAgICAgICAgICAgby5zdGFydChhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjEpOyBvLnN0b3AoYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xICsgMC4xNSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnd3JvbmcnKSB7CiAgICAgICAgICAgICAgICBjb25zdCBvc2MgPSBhdWRpb0N0eC5jcmVhdGVPc2NpbGxhdG9yKCksIGdhaW4gPSBhdWRpb0N0eC5jcmVhdGVHYWluKCk7CiAgICAgICAgICAgICAgICBvc2MuY29ubmVjdChnYWluKTsgZ2Fpbi5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTsKICAgICAgICAgICAgICAgIG9zYy5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoMjAwLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBvc2MuZnJlcXVlbmN5LmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMTAwLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMik7CiAgICAgICAgICAgICAgICBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4xMiwgYXVkaW9DdHguY3VycmVudFRpbWUpOwogICAgICAgICAgICAgICAgZ2Fpbi5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjI1KTsKICAgICAgICAgICAgICAgIG9zYy5zdGFydCgpOyBvc2Muc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMjUpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHNvdW5kVG9nZ2xlLm9uY2xpY2sgPSAoKSA9PiB7IHNvdW5kRW5hYmxlZCA9ICFzb3VuZEVuYWJsZWQ7IHNvdW5kVG9nZ2xlLnRleHRDb250ZW50ID0gc291bmRFbmFibGVkID8gJ/CflIonIDogJ/CflIcnOyB9OwogICAgICAgIAogICAgICAgIC8vIFNWRyBQaWUgQ2hhcnQgLSB3b3JrcyBwcm9wZXJseSEKICAgICAgICBmdW5jdGlvbiBjcmVhdGVQaWVTVkcobnVtZXJhdG9yLCBkZW5vbWluYXRvciwgZmlsbENvbG9yKSB7CiAgICAgICAgICAgIGNvbnN0IHNpemUgPSAxMjA7CiAgICAgICAgICAgIGNvbnN0IGNlbnRlciA9IHNpemUgLyAyOwogICAgICAgICAgICBjb25zdCByYWRpdXMgPSBzaXplIC8gMiAtIDU7CiAgICAgICAgICAgIAogICAgICAgICAgICBsZXQgc3ZnID0gYDxzdmcgY2xhc3M9InBpZS1zdmciIHZpZXdCb3g9IjAgMCAke3NpemV9ICR7c2l6ZX0iPmA7CiAgICAgICAgICAgIHN2ZyArPSBgPGNpcmNsZSBjeD0iJHtjZW50ZXJ9IiBjeT0iJHtjZW50ZXJ9IiByPSIke3JhZGl1c30iIGZpbGw9IiNFQ0YwRjEiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIzIi8+YDsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIERyYXcgZmlsbGVkIHNsaWNlcwogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWVyYXRvcjsgaSsrKSB7CiAgICAgICAgICAgICAgICBjb25zdCBzdGFydEFuZ2xlID0gKGkgLyBkZW5vbWluYXRvcikgKiAyICogTWF0aC5QSSAtIE1hdGguUEkgLyAyOwogICAgICAgICAgICAgICAgY29uc3QgZW5kQW5nbGUgPSAoKGkgKyAxKSAvIGRlbm9taW5hdG9yKSAqIDIgKiBNYXRoLlBJIC0gTWF0aC5QSSAvIDI7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHgxID0gY2VudGVyICsgcmFkaXVzICogTWF0aC5jb3Moc3RhcnRBbmdsZSk7CiAgICAgICAgICAgICAgICBjb25zdCB5MSA9IGNlbnRlciArIHJhZGl1cyAqIE1hdGguc2luKHN0YXJ0QW5nbGUpOwogICAgICAgICAgICAgICAgY29uc3QgeDIgPSBjZW50ZXIgKyByYWRpdXMgKiBNYXRoLmNvcyhlbmRBbmdsZSk7CiAgICAgICAgICAgICAgICBjb25zdCB5MiA9IGNlbnRlciArIHJhZGl1cyAqIE1hdGguc2luKGVuZEFuZ2xlKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgbGFyZ2VBcmMgPSAoZW5kQW5nbGUgLSBzdGFydEFuZ2xlID4gTWF0aC5QSSkgPyAxIDogMDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgc3ZnICs9IGA8cGF0aCBkPSJNICR7Y2VudGVyfSAke2NlbnRlcn0gTCAke3gxfSAke3kxfSBBICR7cmFkaXVzfSAke3JhZGl1c30gMCAke2xhcmdlQXJjfSAxICR7eDJ9ICR7eTJ9IFoiIGZpbGw9IiR7ZmlsbENvbG9yfSIvPmA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIERyYXcgZGl2aWRpbmcgbGluZXMKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZW5vbWluYXRvcjsgaSsrKSB7CiAgICAgICAgICAgICAgICBjb25zdCBhbmdsZSA9IChpIC8gZGVub21pbmF0b3IpICogMiAqIE1hdGguUEkgLSBNYXRoLlBJIC8gMjsKICAgICAgICAgICAgICAgIGNvbnN0IHggPSBjZW50ZXIgKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSk7CiAgICAgICAgICAgICAgICBjb25zdCB5ID0gY2VudGVyICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpOwogICAgICAgICAgICAgICAgc3ZnICs9IGA8bGluZSB4MT0iJHtjZW50ZXJ9IiB5MT0iJHtjZW50ZXJ9IiB4Mj0iJHt4fSIgeTI9IiR7eX0iIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIyIi8+YDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgc3ZnICs9IGA8Y2lyY2xlIGN4PSIke2NlbnRlcn0iIGN5PSIke2NlbnRlcn0iIHI9IjgiIGZpbGw9IiMzMzMiLz5gOwogICAgICAgICAgICBzdmcgKz0gJzwvc3ZnPic7CiAgICAgICAgICAgIAogICAgICAgICAgICByZXR1cm4gc3ZnOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBjcmVhdGVCYXJWaXN1YWwobnVtLCBkZW4sIGNvbG9yLCBsYWJlbCkgewogICAgICAgICAgICBsZXQgaHRtbCA9ICc8ZGl2IGNsYXNzPSJiYXItY29udGFpbmVyIj4nOwogICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPSJiYXItcm93Ij4nOwogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlbjsgaSsrKSB7CiAgICAgICAgICAgICAgICBjb25zdCBiZ0NvbG9yID0gaSA8IG51bSA/IGNvbG9yIDogJyNFQ0YwRjEnOwogICAgICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz0iYmFyLXNlZ21lbnQiIHN0eWxlPSJmbGV4OjE7IGJhY2tncm91bmQ6JHtiZ0NvbG9yfTsiPjwvZGl2PmA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaHRtbCArPSAnPC9kaXY+JzsKICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz0iYmFyLWxhYmVsIj4ke2xhYmVsfTwvZGl2PmA7CiAgICAgICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7CiAgICAgICAgICAgIHJldHVybiBodG1sOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBjcmVhdGVGcmFjdGlvbkJveChudW0sIGRlbiwgc2hvd1F1ZXN0aW9uID0gZmFsc2UpIHsKICAgICAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPSJmcmFjdGlvbi1ib3giPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZnJhY3Rpb24tbnVtIj4ke3Nob3dRdWVzdGlvbiA/ICc/JyA6IG51bX08L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZyYWN0aW9uLWRlbiI+JHtkZW59PC9kaXY+CiAgICAgICAgICAgIDwvZGl2PmA7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlRnJhY3Rpb24obWF4RGVuKSB7CiAgICAgICAgICAgIGNvbnN0IGRlbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXhEZW4gLSAxKSkgKyAyOwogICAgICAgICAgICBjb25zdCBudW0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBkZW4pICsgMTsKICAgICAgICAgICAgcmV0dXJuIHsgbnVtLCBkZW4gfTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gc2V0dXBRdWVzdGlvbigpIHsKICAgICAgICAgICAgY29uc3QgY29uZmlnID0gbGV2ZWxDb25maWdzW2xldmVsIC0gMV07CiAgICAgICAgICAgIGNhbkFuc3dlciA9IHRydWU7CiAgICAgICAgICAgIGZyYWN0aW9uVmlzdWFsLmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICBhbnN3ZXJzQ29udGFpbmVyLmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICAKICAgICAgICAgICAgbGV0IHFUeXBlID0gY29uZmlnLnR5cGUgPT09ICdtaXhlZCcgPyAoTWF0aC5yYW5kb20oKSA+IDAuNSA/ICdpZGVudGlmeScgOiAnY29tcGFyZScpIDogY29uZmlnLnR5cGU7CiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gY29sb3JzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNvbG9ycy5sZW5ndGgpXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChxVHlwZSA9PT0gJ2lkZW50aWZ5JykgewogICAgICAgICAgICAgICAgcXVlc3Rpb25UeXBlLnRleHRDb250ZW50ID0gJ1dlbGNoZXIgQnJ1Y2ggaXN0IGVpbmdlZsOkcmJ0Pyc7CiAgICAgICAgICAgICAgICBjb25zdCBmcmFjID0gZ2VuZXJhdGVGcmFjdGlvbihjb25maWcubWF4RGVuKTsKICAgICAgICAgICAgICAgIGZyYWN0aW9uVmlzdWFsLmlubmVySFRNTCA9IGNyZWF0ZVBpZVNWRyhmcmFjLm51bSwgZnJhYy5kZW4sIGNvbG9yKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgY29ycmVjdCA9IGAke2ZyYWMubnVtfS8ke2ZyYWMuZGVufWA7CiAgICAgICAgICAgICAgICBjb25zdCBjaG9pY2VzID0gbmV3IFNldChbY29ycmVjdF0pOwogICAgICAgICAgICAgICAgd2hpbGUgKGNob2ljZXMuc2l6ZSA8IDQpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB3cm9uZyA9IGdlbmVyYXRlRnJhY3Rpb24oY29uZmlnLm1heERlbik7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd3JvbmdTdHIgPSBgJHt3cm9uZy5udW19LyR7d3JvbmcuZGVufWA7CiAgICAgICAgICAgICAgICAgICAgaWYgKHdyb25nU3RyICE9PSBjb3JyZWN0KSBjaG9pY2VzLmFkZCh3cm9uZ1N0cik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjcmVhdGVBbnN3ZXJCdXR0b25zKFsuLi5jaG9pY2VzXS5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpLCBjb3JyZWN0KTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9IGVsc2UgaWYgKHFUeXBlID09PSAnY29tcGFyZScpIHsKICAgICAgICAgICAgICAgIHF1ZXN0aW9uVHlwZS50ZXh0Q29udGVudCA9ICdXZWxjaGVyIEJydWNoIGlzdCBncsO2w59lcj8nOwogICAgICAgICAgICAgICAgY29uc3QgZnJhYzEgPSBnZW5lcmF0ZUZyYWN0aW9uKGNvbmZpZy5tYXhEZW4pOwogICAgICAgICAgICAgICAgbGV0IGZyYWMyOwogICAgICAgICAgICAgICAgZG8geyBmcmFjMiA9IGdlbmVyYXRlRnJhY3Rpb24oY29uZmlnLm1heERlbik7IH0gCiAgICAgICAgICAgICAgICB3aGlsZSAoZnJhYzEubnVtIC8gZnJhYzEuZGVuID09PSBmcmFjMi5udW0gLyBmcmFjMi5kZW4pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBmcmFjdGlvblZpc3VhbC5pbm5lckhUTUwgPSAKICAgICAgICAgICAgICAgICAgICBjcmVhdGVCYXJWaXN1YWwoZnJhYzEubnVtLCBmcmFjMS5kZW4sIGNvbG9yc1swXSwgYCR7ZnJhYzEubnVtfS8ke2ZyYWMxLmRlbn1gKSArCiAgICAgICAgICAgICAgICAgICAgY3JlYXRlQmFyVmlzdWFsKGZyYWMyLm51bSwgZnJhYzIuZGVuLCBjb2xvcnNbMV0sIGAke2ZyYWMyLm51bX0vJHtmcmFjMi5kZW59YCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHZhbDEgPSBmcmFjMS5udW0gLyBmcmFjMS5kZW47CiAgICAgICAgICAgICAgICBjb25zdCB2YWwyID0gZnJhYzIubnVtIC8gZnJhYzIuZGVuOwogICAgICAgICAgICAgICAgY29uc3QgY29ycmVjdCA9IHZhbDEgPiB2YWwyID8gYCR7ZnJhYzEubnVtfS8ke2ZyYWMxLmRlbn1gIDogYCR7ZnJhYzIubnVtfS8ke2ZyYWMyLmRlbn1gOwogICAgICAgICAgICAgICAgY3JlYXRlQW5zd2VyQnV0dG9ucyhbYCR7ZnJhYzEubnVtfS8ke2ZyYWMxLmRlbn1gLCBgJHtmcmFjMi5udW19LyR7ZnJhYzIuZGVufWAsICdHbGVpY2gnXSwgY29ycmVjdCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfSBlbHNlIGlmIChxVHlwZSA9PT0gJ2FkZCcpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGRlbiA9IFsyLCAzLCA0XVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzKV07CiAgICAgICAgICAgICAgICBjb25zdCBudW0xID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGRlbiAtIDEpKSArIDE7CiAgICAgICAgICAgICAgICBjb25zdCBudW0yID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGRlbiAtIG51bTEpKSArIDE7CiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHROdW0gPSBudW0xICsgbnVtMjsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcXVlc3Rpb25UeXBlLnRleHRDb250ZW50ID0gJ1dhcyBlcmdpYnQgZGllc2UgQWRkaXRpb24/JzsKICAgICAgICAgICAgICAgIGZyYWN0aW9uVmlzdWFsLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmcmFjdGlvbi1kaXNwbGF5Ij4KICAgICAgICAgICAgICAgICAgICAgICAgJHtjcmVhdGVGcmFjdGlvbkJveChudW0xLCBkZW4pfQogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ib3BlcmF0b3IiPis8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICR7Y3JlYXRlRnJhY3Rpb25Cb3gobnVtMiwgZGVuKX0KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im9wZXJhdG9yIj49PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ib3BlcmF0b3IiIHN0eWxlPSJjb2xvcjojOUI1OUI2OyI+Pzwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBjb3JyZWN0ID0gYCR7cmVzdWx0TnVtfS8ke2Rlbn1gOwogICAgICAgICAgICAgICAgY29uc3QgY2hvaWNlcyA9IG5ldyBTZXQoW2NvcnJlY3RdKTsKICAgICAgICAgICAgICAgIHdoaWxlIChjaG9pY2VzLnNpemUgPCA0KSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd3JvbmdOdW0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoZGVuICsgMikpICsgMTsKICAgICAgICAgICAgICAgICAgICBjb25zdCB3cm9uZ0RlbiA9IFsyLCAzLCA0LCA2XVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KV07CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd3JvbmdTdHIgPSBgJHt3cm9uZ051bX0vJHt3cm9uZ0Rlbn1gOwogICAgICAgICAgICAgICAgICAgIGlmICh3cm9uZ1N0ciAhPT0gY29ycmVjdCkgY2hvaWNlcy5hZGQod3JvbmdTdHIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY3JlYXRlQW5zd2VyQnV0dG9ucyhbLi4uY2hvaWNlc10uc29ydCgoKSA9PiBNYXRoLnJhbmRvbSgpIC0gMC41KSwgY29ycmVjdCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQW5zd2VyQnV0dG9ucyhjaG9pY2VzLCBjb3JyZWN0KSB7CiAgICAgICAgICAgIGNob2ljZXMuZm9yRWFjaChjaG9pY2UgPT4gewogICAgICAgICAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICBidG4uY2xhc3NOYW1lID0gJ2Fuc3dlci1idG4nOwogICAgICAgICAgICAgICAgYnRuLmRhdGFzZXQudmFsdWUgPSBjaG9pY2U7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChjaG9pY2UuaW5jbHVkZXMoJy8nKSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IFtudW0sIGRlbl0gPSBjaG9pY2Uuc3BsaXQoJy8nKTsKICAgICAgICAgICAgICAgICAgICBidG4uaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9ImFuc3dlci1mcmFjdGlvbiI+PHNwYW4gY2xhc3M9ImFucy1udW0iPiR7bnVtfTwvc3Bhbj48c3BhbiBjbGFzcz0iYW5zLWRlbiI+JHtkZW59PC9zcGFuPjwvZGl2PmA7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGJ0bi50ZXh0Q29udGVudCA9IGNob2ljZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgYnRuLm9uY2xpY2sgPSAoKSA9PiBoYW5kbGVBbnN3ZXIoY2hvaWNlLCBjb3JyZWN0LCBidG4pOwogICAgICAgICAgICAgICAgYW5zd2Vyc0NvbnRhaW5lci5hcHBlbmRDaGlsZChidG4pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gaGFuZGxlQW5zd2VyKHNlbGVjdGVkLCBjb3JyZWN0LCBidG4pIHsKICAgICAgICAgICAgaWYgKCFjYW5BbnN3ZXIpIHJldHVybjsKICAgICAgICAgICAgY2FuQW5zd2VyID0gZmFsc2U7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoc2VsZWN0ZWQgPT09IGNvcnJlY3QpIHsKICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdjb3JyZWN0Jyk7CiAgICAgICAgICAgICAgICBwbGF5U291bmQoJ2NvcnJlY3QnKTsKICAgICAgICAgICAgICAgIGNvcnJlY3RDb3VudCsrOyBzY29yZSArPSAxMDsKICAgICAgICAgICAgICAgIGNvcnJlY3REaXNwbGF5LnRleHRDb250ZW50ID0gY29ycmVjdENvdW50OwogICAgICAgICAgICAgICAgc2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZCgnd3JvbmcnKTsKICAgICAgICAgICAgICAgIHBsYXlTb3VuZCgnd3JvbmcnKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbnN3ZXItYnRuJykuZm9yRWFjaChiID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGIuZGF0YXNldC52YWx1ZSA9PT0gY29ycmVjdCkgYi5jbGFzc0xpc3QuYWRkKCdjb3JyZWN0Jyk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBxdWVzdGlvbkluZGV4Kys7CiAgICAgICAgICAgIGlmIChxdWVzdGlvbkluZGV4ID49IGxldmVsQ29uZmlnc1tsZXZlbCAtIDFdLnF1ZXN0aW9ucykgewogICAgICAgICAgICAgICAgc2V0VGltZW91dChsZXZlbENvbXBsZXRlLCAxMjAwKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoc2V0dXBRdWVzdGlvbiwgMTIwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gbGV2ZWxDb21wbGV0ZSgpIHsKICAgICAgICAgICAgbGV2ZWwrKzsKICAgICAgICAgICAgaWYgKGxldmVsID4gbGV2ZWxDb25maWdzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbmFsLXNjb3JlJykudGV4dENvbnRlbnQgPSBzY29yZTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaW5hbC1jb3JyZWN0JykudGV4dENvbnRlbnQgPSBjb3JyZWN0Q291bnQ7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2luLXNjcmVlbicpLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLW51bWJlcicpLnRleHRDb250ZW50ID0gbGV2ZWw7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwtZGVzYycpLnRleHRDb250ZW50ID0gbGV2ZWxDb25maWdzW2xldmVsIC0gMV0uZGVzYzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC1zY3JlZW4nKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC1zY3JlZW4nKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICAgICAgICAgICAgICBxdWVzdGlvbkluZGV4ID0gMDsKICAgICAgICAgICAgICAgICAgICBsZXZlbERpc3BsYXkudGV4dENvbnRlbnQgPSBsZXZlbDsKICAgICAgICAgICAgICAgICAgICBzZXR1cFF1ZXN0aW9uKCk7CiAgICAgICAgICAgICAgICB9LCAxNTAwKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBzdGFydEdhbWUoKSB7CiAgICAgICAgICAgIGluaXRBdWRpbygpOwogICAgICAgICAgICBsZXZlbCA9IDE7IHNjb3JlID0gMDsgY29ycmVjdENvdW50ID0gMDsgcXVlc3Rpb25JbmRleCA9IDA7CiAgICAgICAgICAgIHNjb3JlRGlzcGxheS50ZXh0Q29udGVudCA9IHNjb3JlOwogICAgICAgICAgICBjb3JyZWN0RGlzcGxheS50ZXh0Q29udGVudCA9IGNvcnJlY3RDb3VudDsKICAgICAgICAgICAgbGV2ZWxEaXNwbGF5LnRleHRDb250ZW50ID0gbGV2ZWw7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydC1zY3JlZW4nKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpbi1zY3JlZW4nKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICAgICAgc2V0dXBRdWVzdGlvbigpOwogICAgICAgIH0KICAgIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4K';
GAMES['malen'] = 'PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImRlIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubywgdmlld3BvcnQtZml0PWNvdmVyIj4KICAgIDx0aXRsZT7wn46oIE1hbGVuIG5hY2ggWmFobGVuITwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgICAgQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9RnJlZG9rYTp3Z2h0QDQwMDs2MDA7NzAwJmRpc3BsYXk9c3dhcCcpOwogICAgICAgICogeyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IH0KICAgICAgICBib2R5IHsgZm9udC1mYW1pbHk6ICdGcmVkb2thJywgc2Fucy1zZXJpZjsgbWluLWhlaWdodDogMTAwdmg7IG1pbi1oZWlnaHQ6IDEwMGR2aDsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2U5MWU2MyAwJSwgIzljMjdiMCAxMDAlKTsgdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb247IC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7IHVzZXItc2VsZWN0OiBub25lOyB9CiAgICAgICAgI2dhbWUtY29udGFpbmVyIHsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgbWluLWhlaWdodDogMTAwdmg7IG1pbi1oZWlnaHQ6IDEwMGR2aDsgcGFkZGluZzogMTBweDsgcGFkZGluZy10b3A6IG1heCgxMHB4LCBlbnYoc2FmZS1hcmVhLWluc2V0LXRvcCkpOyBwYWRkaW5nLWJvdHRvbTogbWF4KDEwcHgsIGVudihzYWZlLWFyZWEtaW5zZXQtYm90dG9tKSk7IH0KICAgICAgICBAbWVkaWEgKG9yaWVudGF0aW9uOiBsYW5kc2NhcGUpIHsgCiAgICAgICAgICAgICNnYW1lLWNvbnRhaW5lciB7IGZsZXgtZGlyZWN0aW9uOiByb3c7IGdhcDogMTVweDsgfSAKICAgICAgICAgICAgLnNpZGUtcGFuZWwgeyB3aWR0aDogMTgwcHg7IGZsZXgtc2hyaW5rOiAwOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyB9IAogICAgICAgICAgICAubWFpbi1wYW5lbCB7IGZsZXg6IDE7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IH0gCiAgICAgICAgfQogICAgICAgICN0b3AtYmFyIHsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGdhcDogOHB4OyBwYWRkaW5nOiA4cHg7IGZsZXgtd3JhcDogd3JhcDsgfQogICAgICAgIC5zdGF0LWJveCB7IGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC45KTsgY29sb3I6ICMzMzM7IHBhZGRpbmc6IDZweCAxNHB4OyBib3JkZXItcmFkaXVzOiAyNXB4OyBmb250LXNpemU6IDE0cHg7IGZvbnQtd2VpZ2h0OiA2MDA7IH0KICAgICAgICAjcGFsZXR0ZSB7IGRpc3BsYXk6IGZsZXg7IGdhcDogOHB4OyBmbGV4LXdyYXA6IHdyYXA7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBwYWRkaW5nOiAxMHB4OyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMTUpOyBib3JkZXItcmFkaXVzOiAxNXB4OyBtYXJnaW4tYm90dG9tOiAxMHB4OyB9CiAgICAgICAgLmNvbG9yLWJ0biB7IHdpZHRoOiA0NHB4OyBoZWlnaHQ6IDQ0cHg7IGJvcmRlci1yYWRpdXM6IDUwJTsgYm9yZGVyOiAzcHggc29saWQgd2hpdGU7IGN1cnNvcjogcG9pbnRlcjsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGZvbnQtd2VpZ2h0OiBib2xkOyBmb250LXNpemU6IDE2cHg7IGJveC1zaGFkb3c6IDAgM3B4IDEwcHggcmdiYSgwLDAsMCwwLjMpOyB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4xczsgfQogICAgICAgIC5jb2xvci1idG4uc2VsZWN0ZWQgeyB0cmFuc2Zvcm06IHNjYWxlKDEuMik7IGJvcmRlci1jb2xvcjogIzMzMzsgYm94LXNoYWRvdzogMCAwIDAgM3B4IHdoaXRlLCAwIDVweCAxNXB4IHJnYmEoMCwwLDAsMC40KTsgfQogICAgICAgIC5jb2xvci1idG46YWN0aXZlIHsgdHJhbnNmb3JtOiBzY2FsZSgwLjk1KTsgfQogICAgICAgICNjYW52YXMtd3JhcHBlciB7IGZsZXg6IDE7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBvdmVyZmxvdzogYXV0bzsgYmFja2dyb3VuZDogd2hpdGU7IGJvcmRlci1yYWRpdXM6IDIwcHg7IGJveC1zaGFkb3c6IDAgOHB4IDMwcHggcmdiYSgwLDAsMCwwLjMpOyBwYWRkaW5nOiAxMHB4OyBtaW4taGVpZ2h0OiAyMDBweDsgfQogICAgICAgICNwaXhlbC1jYW52YXMgeyBkaXNwbGF5OiBncmlkOyBnYXA6IDFweDsgYmFja2dyb3VuZDogI2NjYzsgfQogICAgICAgIC5waXhlbCB7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBmb250LXdlaWdodDogYm9sZDsgY3Vyc29yOiBwb2ludGVyOyB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuMXM7IGJhY2tncm91bmQ6ICNmOGY4Zjg7IH0KICAgICAgICAucGl4ZWwuZW1wdHkgeyBiYWNrZ3JvdW5kOiAjZThlOGU4OyBjdXJzb3I6IGRlZmF1bHQ7IH0KICAgICAgICAucGl4ZWwuZmlsbGVkIHsgfQogICAgICAgIC5waXhlbC53cm9uZyB7IGFuaW1hdGlvbjogc2hha2UgMC4zczsgYmFja2dyb3VuZDogI2ZmY2NjYyAhaW1wb3J0YW50OyB9CiAgICAgICAgQGtleWZyYW1lcyBzaGFrZSB7IDAlLDEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCl9IDI1JXt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtMnB4KX0gNzUle3RyYW5zZm9ybTp0cmFuc2xhdGVYKDJweCl9IH0KICAgICAgICAjY29udHJvbHMgeyBkaXNwbGF5OiBmbGV4OyBnYXA6IDhweDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IHBhZGRpbmc6IDEycHg7IGZsZXgtd3JhcDogd3JhcDsgfQogICAgICAgIC5jdHJsLWJ0biB7IGJhY2tncm91bmQ6ICNGMUM0MEY7IGNvbG9yOiAjMzMzOyBib3JkZXI6IG5vbmU7IHBhZGRpbmc6IDEwcHggMTZweDsgZm9udC1zaXplOiAxNHB4OyBmb250LWZhbWlseTogJ0ZyZWRva2EnLCBzYW5zLXNlcmlmOyBmb250LXdlaWdodDogNjAwOyBib3JkZXItcmFkaXVzOiAyMHB4OyBjdXJzb3I6IHBvaW50ZXI7IGJveC1zaGFkb3c6IDAgM3B4IDAgI0Q0QUMwRDsgfQogICAgICAgIC5jdHJsLWJ0bjphY3RpdmUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMnB4KTsgYm94LXNoYWRvdzogMCAxcHggMCAjRDRBQzBEOyB9CiAgICAgICAgI21vdGl2LXNlbGVjdCB7IGRpc3BsYXk6IGZsZXg7IGdhcDogNnB4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgZmxleC13cmFwOiB3cmFwOyBwYWRkaW5nOiA4cHg7IH0KICAgICAgICAubW90aXYtYnRuIHsgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjIpOyBib3JkZXI6IDJweCBzb2xpZCB0cmFuc3BhcmVudDsgYm9yZGVyLXJhZGl1czogMTBweDsgcGFkZGluZzogNnB4IDEwcHg7IGNvbG9yOiB3aGl0ZTsgZm9udC1mYW1pbHk6ICdGcmVkb2thJywgc2Fucy1zZXJpZjsgZm9udC1zaXplOiAxMnB4OyBjdXJzb3I6IHBvaW50ZXI7IH0KICAgICAgICAubW90aXYtYnRuLmFjdGl2ZSB7IGJhY2tncm91bmQ6IHdoaXRlOyBjb2xvcjogIzMzMzsgYm9yZGVyLWNvbG9yOiAjRjFDNDBGOyB9CiAgICAgICAgI3N0YXJ0LXNjcmVlbiB7IHBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZTkxZTYzIDAlLCAjOWMyN2IwIDEwMCUpOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgei1pbmRleDogMTAwOyBnYXA6IDE1cHg7IHBhZGRpbmc6IDIwcHg7IH0KICAgICAgICAuc3RhcnQtaWNvbiB7IGZvbnQtc2l6ZTogNzBweDsgfQogICAgICAgIC5zdGFydC10aXRsZSB7IGZvbnQtc2l6ZTogMzZweDsgY29sb3I6IHdoaXRlOyB0ZXh0LXNoYWRvdzogMCA0cHggMCByZ2JhKDAsMCwwLDAuMik7IHRleHQtYWxpZ246IGNlbnRlcjsgfQogICAgICAgIC5zdGFydC1kZXNjIHsgY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC45KTsgZm9udC1zaXplOiAxNnB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IH0KICAgICAgICAuc3RhcnQtYnRuIHsgYmFja2dyb3VuZDogI0YxQzQwRjsgY29sb3I6ICMzMzM7IGJvcmRlcjogbm9uZTsgcGFkZGluZzogMTZweCA0MHB4OyBmb250LXNpemU6IDIwcHg7IGZvbnQtZmFtaWx5OiAnRnJlZG9rYScsIHNhbnMtc2VyaWY7IGZvbnQtd2VpZ2h0OiA3MDA7IGJvcmRlci1yYWRpdXM6IDUwcHg7IGN1cnNvcjogcG9pbnRlcjsgYm94LXNoYWRvdzogMCA1cHggMCAjRDRBQzBEOyB9CiAgICAgICAgLnN0YXJ0LWJ0bjphY3RpdmUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoM3B4KTsgYm94LXNoYWRvdzogMCAycHggMCAjRDRBQzBEOyB9CiAgICAgICAgLmhpZGRlbiB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfQogICAgICAgICNjb21wbGV0ZS1iYW5uZXIgeyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogNTAlOyBsZWZ0OiA1MCU7IHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOyBiYWNrZ3JvdW5kOiB3aGl0ZTsgcGFkZGluZzogMjVweCAzNXB4OyBib3JkZXItcmFkaXVzOiAyNXB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGJveC1zaGFkb3c6IDAgMTBweCA1MHB4IHJnYmEoMCwwLDAsMC41KTsgei1pbmRleDogMjAwOyB9CiAgICAgICAgI2NvbXBsZXRlLWJhbm5lciBoMiB7IGZvbnQtc2l6ZTogMjZweDsgY29sb3I6ICMzMzM7IG1hcmdpbi1ib3R0b206IDEwcHg7IH0KICAgICAgICAjY29tcGxldGUtYmFubmVyIHAgeyBjb2xvcjogIzY2NjsgbWFyZ2luLWJvdHRvbTogMTVweDsgfQogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgaWQ9ImdhbWUtY29udGFpbmVyIj4KICAgICAgICA8ZGl2IGNsYXNzPSJzaWRlLXBhbmVsIj4KICAgICAgICAgICAgPGRpdiBpZD0idG9wLWJhciI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWJveCI+8J+OqCA8c3BhbiBpZD0ibW90aXYtbmFtZSI+LTwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtYm94Ij48c3BhbiBpZD0icHJvZ3Jlc3MiPjA8L3NwYW4+JTwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBpZD0icGFsZXR0ZSI+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgaWQ9Im1vdGl2LXNlbGVjdCI+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibWFpbi1wYW5lbCI+CiAgICAgICAgICAgIDxkaXYgaWQ9ImNhbnZhcy13cmFwcGVyIj4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9InBpeGVsLWNhbnZhcyI+PC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGlkPSJjb250cm9scyI+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJjdHJsLWJ0biIgb25jbGljaz0icmVzZXRDYW52YXMoKSI+8J+UhCBOZXU8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImN0cmwtYnRuIiBvbmNsaWNrPSJzaG93SGludCgpIj7wn5KhIFRpcHA8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImN0cmwtYnRuIiBvbmNsaWNrPSJhdXRvRmlsbCgpIj7inKggKzU8L2J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIAogICAgPGRpdiBpZD0ic3RhcnQtc2NyZWVuIj4KICAgICAgICA8ZGl2IGNsYXNzPSJzdGFydC1pY29uIj7wn46oPC9kaXY+CiAgICAgICAgPGgxIGNsYXNzPSJzdGFydC10aXRsZSI+TWFsZW4gbmFjaCBaYWhsZW4hPC9oMT4KICAgICAgICA8cCBjbGFzcz0ic3RhcnQtZGVzYyI+TWFsZSB0b2xsZSBQaXhlbC1BcnQgQmlsZGVyITxicj5Xw6RobGUgZWluZSBGYXJiZSB1bmQgdGlwcGUgYXVmIGRpZSBwYXNzZW5kZW4gRmVsZGVyITwvcD4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJzdGFydC1idG4iIG9uY2xpY2s9InN0YXJ0R2FtZSgpIj7wn46uIFN0YXJ0ITwvYnV0dG9uPgogICAgPC9kaXY+CiAgICAKICAgIDxkaXYgaWQ9ImNvbXBsZXRlLWJhbm5lciIgY2xhc3M9ImhpZGRlbiI+CiAgICAgICAgPGgyPvCfjokgU3VwZXIgZ2VtYWNodCE8L2gyPgogICAgICAgIDxwPkR1IGhhc3QgZGFzIEJpbGQgZmVydGlnIGdlbWFsdCE8L3A+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic3RhcnQtYnRuIiBzdHlsZT0iZm9udC1zaXplOjE2cHg7cGFkZGluZzoxMnB4IDI1cHg7IiBvbmNsaWNrPSJuZXh0TW90aXYoKSI+4p6h77iPIE7DpGNoc3RlczwvYnV0dG9uPgogICAgPC9kaXY+CgogICAgPHNjcmlwdD4KICAgIGNvbnN0IG1vdGl2ZSA9IFsKICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICdIZXJ6Jywgd2lkdGg6IDE1LCBoZWlnaHQ6IDEzLAogICAgICAgICAgICBjb2xvcnM6IFsnI2ZmMDAwMCcsICcjZmY2OWI0JywgJyNmZmI2YzEnLCAnI2ZmZmZmZiddLAogICAgICAgICAgICBkYXRhOiBbLTEsLTEsLTEsMCwwLDAsLTEsLTEsLTEsMCwwLDAsLTEsLTEsLTEsLTEsLTEsMCwxLDEsMSwwLC0xLDAsMSwxLDEsMCwtMSwtMSwtMSwwLDEsMiwyLDEsMSwwLDEsMSwxLDEsMSwwLC0xLDAsMSwyLDMsMiwxLDEsMSwxLDEsMSwxLDEsMSwwLDAsMSwyLDIsMSwxLDEsMSwxLDEsMSwxLDEsMSwwLDAsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwwLDAsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwwLC0xLDAsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDAsLTEsLTEsLTEsMCwxLDEsMSwxLDEsMSwxLDEsMSwwLC0xLC0xLC0xLC0xLC0xLDAsMSwxLDEsMSwxLDEsMSwwLC0xLC0xLC0xLC0xLC0xLC0xLC0xLDAsMSwxLDEsMSwxLDAsLTEsLTEsLTEsLTEsLTEsLTEsLTEsLTEsLTEsMCwxLDEsMSwwLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLDAsMCwwLC0xLC0xLC0xLC0xLC0xLC0xXQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgICBuYW1lOiAnUmVnZW5ib2dlbicsIHdpZHRoOiAxNywgaGVpZ2h0OiA5LAogICAgICAgICAgICBjb2xvcnM6IFsnI2ZmMDAwMCcsICcjZmY4YzAwJywgJyNmZmZmMDAnLCAnIzAwZmYwMCcsICcjMDBiZmZmJywgJyM4YjAwZmYnLCAnIzg3Y2VlYiddLAogICAgICAgICAgICBkYXRhOiBbLTEsLTEsLTEsLTEsMCwwLDAsMCwwLDAsMCwwLDAsLTEsLTEsLTEsLTEsLTEsLTEsMCwwLDEsMSwxLDEsMSwxLDEsMSwxLDAsMCwtMSwtMSwtMSwwLDEsMSwyLDIsMiwyLDIsMiwyLDIsMiwxLDEsMCwtMSwwLDEsMiwyLDMsMywzLDMsMywzLDMsMywzLDIsMiwxLDAsMCwxLDIsMyw0LDQsNCw0LDQsNCw0LDQsNCwzLDIsMSwwLDAsMSwyLDMsNCw1LDUsNSw1LDUsNSw1LDQsMywyLDEsMCwwLDEsMiwzLDQsNSw2LDYsNiw2LDYsNSw0LDMsMiwxLDAsLTEsMCwxLDIsMyw0LDUsNiw2LDYsNSw0LDMsMiwxLDAsLTEsLTEsLTEsMCwwLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLDAsMCwtMSwtMV0KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICAgbmFtZTogJ1NjaG1ldHRlcmxpbmcnLCB3aWR0aDogMTcsIGhlaWdodDogMTMsCiAgICAgICAgICAgIGNvbG9yczogWycjOTkzMmNjJywgJyNmZjY5YjQnLCAnI2ZmZDcwMCcsICcjMDAwMDAwJywgJyNmZmZmZmYnXSwKICAgICAgICAgICAgZGF0YTogWy0xLDAsMCwwLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLDAsMCwwLC0xLDAsMSwxLDEsMCwtMSwtMSwtMSwtMSwtMSwtMSwtMSwwLDEsMSwxLDAsMCwxLDIsMSwxLDAsLTEsLTEsLTEsLTEsLTEsMCwxLDEsMiwxLDAsMCwxLDIsMiwxLDEsMCwtMSwtMSwtMSwwLDEsMSwyLDIsMSwwLDAsMSwxLDIsMSwxLDAsMywzLDMsMCwxLDEsMiwxLDEsMCwtMSwwLDEsMSwxLDEsMCwzLDMsMywwLDEsMSwxLDEsMCwtMSwtMSwtMSwwLDEsMSwwLDMsMywzLDMsMywwLDEsMSwwLC0xLC0xLC0xLDAsMSwxLDEsMSwwLDMsMywzLDAsMSwxLDEsMSwwLC0xLDAsMSwxLDIsMSwxLDAsMywzLDMsMCwxLDEsMiwxLDEsMCwwLDEsMiwyLDEsMSwwLC0xLC0xLC0xLDAsMSwxLDIsMiwxLDAsMCwxLDIsMSwxLDAsLTEsLTEsLTEsLTEsLTEsMCwxLDEsMiwxLDAsMCwxLDEsMSwwLC0xLC0xLC0xLC0xLC0xLC0xLC0xLDAsMSwxLDEsMCwtMSwwLDAsMCwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwwLDAsMCwtMV0KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICAgbmFtZTogJ0hhdXMnLCB3aWR0aDogMTUsIGhlaWdodDogMTUsCiAgICAgICAgICAgIGNvbG9yczogWycjZGMxNDNjJywgJyM4YjQ1MTMnLCAnIzFlOTBmZicsICcjZmZmZjAwJywgJyNmNWRlYjMnLCAnIzIyOGIyMicsICcjODdjZWViJ10sCiAgICAgICAgICAgIGRhdGE6IFs2LDYsNiw2LDYsNiw2LDAsNiw2LDYsNiw2LDYsNiw2LDYsNiw2LDYsNiwwLDAsMCw2LDYsNiw2LDYsNiw2LDYsNiw2LDYsMCwwLDAsMCwwLDYsNiw2LDYsNiw2LDYsNiw2LDAsMCwwLDAsMCwwLDAsNiw2LDYsNiw2LDYsNiwwLDAsMCwwLDAsMCwwLDAsMCw2LDYsNiw2LDYsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDYsNiw2LDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsNiw2LDQsNCw0LDQsNCw0LDQsNCw0LDQsNCw0LDQsNiw2LDQsMiwyLDQsNCw0LDQsNCw0LDQsMiwyLDQsNiw2LDQsMiwyLDQsNCw0LDQsNCw0LDQsMiwyLDQsNiw2LDQsNCw0LDQsNCwxLDEsMSw0LDQsNCw0LDQsNiw2LDQsNCw0LDQsNCwxLDMsMSw0LDQsNCw0LDQsNiw2LDQsNCw0LDQsNCwxLDEsMSw0LDQsNCw0LDQsNiw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNV0KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICAgbmFtZTogJ1Nvbm5lJywgd2lkdGg6IDE1LCBoZWlnaHQ6IDE1LAogICAgICAgICAgICBjb2xvcnM6IFsnI2ZmZDcwMCcsICcjZmZmZjAwJywgJyNmZjhjMDAnLCAnI2ZmZjhkYyddLAogICAgICAgICAgICBkYXRhOiBbLTEsLTEsMCwtMSwtMSwtMSwtMSwwLC0xLC0xLC0xLC0xLDAsLTEsLTEsLTEsLTEsLTEsMCwtMSwtMSwtMSwwLC0xLC0xLC0xLDAsLTEsLTEsLTEsMCwtMSwtMSwtMSwwLC0xLC0xLDAsLTEsLTEsMCwtMSwtMSwtMSwwLC0xLDAsLTEsLTEsLTEsMSwxLDEsMSwxLC0xLC0xLC0xLDAsLTEsLTEsLTEsMCwtMSwxLDEsMSwxLDEsMSwxLC0xLDAsLTEsLTEsLTEsLTEsLTEsMSwxLDEsMywzLDEsMSwxLDEsLTEsLTEsLTEsLTEsLTEsLTEsMSwxLDMsMywzLDMsMSwxLDEsLTEsLTEsLTEsMCwwLDAsMSwxLDMsMywzLDMsMSwxLDEsMCwwLDAsLTEsLTEsLTEsMSwxLDMsMywzLDMsMSwxLDEsLTEsLTEsLTEsLTEsLTEsLTEsMSwxLDEsMywzLDEsMSwxLDEsLTEsLTEsLTEsLTEsLTEsMCwtMSwxLDEsMSwxLDEsMSwxLC0xLDAsLTEsLTEsLTEsMCwtMSwtMSwtMSwxLDEsMSwxLDEsLTEsLTEsLTEsMCwtMSwwLC0xLC0xLC0xLDAsLTEsLTEsMCwtMSwtMSwwLC0xLC0xLC0xLDAsLTEsLTEsLTEsMCwtMSwtMSwtMSwwLC0xLC0xLC0xLDAsLTEsLTEsLTEsLTEsMCwtMSwtMSwtMSwtMSwwLC0xLC0xLC0xLC0xLDAsLTEsLTFdCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICdLYXR6ZScsIHdpZHRoOiAxMywgaGVpZ2h0OiAxNSwKICAgICAgICAgICAgY29sb3JzOiBbJyNmZjhjMDAnLCAnIzAwMDAwMCcsICcjZmZjYzk5JywgJyNmZjY5YjQnLCAnI2ZmZmZmZiddLAogICAgICAgICAgICBkYXRhOiBbMCwwLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLDAsMCwwLDAsMCwtMSwtMSwtMSwtMSwtMSwtMSwtMSwwLDAsMCwtMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsLTEsLTEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLC0xLC0xLDAsMCw0LDEsMCwwLDAsNCwxLDAsMCwtMSwtMSwwLDAsMSwxLDAsMCwwLDEsMSwwLDAsLTEsLTEsMCwwLDAsMCwwLDMsMCwwLDAsMCwwLC0xLC0xLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwtMSwtMSwtMSwwLDAsMCwwLDAsMCwwLDAsMCwtMSwtMSwtMSwtMSwtMSwwLDAsMCwwLDAsMCwwLC0xLC0xLC0xLC0xLC0xLDAsMCwwLDAsMCwwLDAsMCwwLC0xLC0xLC0xLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwtMSwtMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsLTEsLTEsMCwtMSwtMSwwLDAsMCwwLDAsLTEsLTEsMCwtMSwtMSwwLC0xLC0xLC0xLC0xLDAsLTEsLTEsLTEsLTEsMCwtMV0KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICAgbmFtZTogJ1Jha2V0ZScsIHdpZHRoOiAxMSwgaGVpZ2h0OiAxOSwKICAgICAgICAgICAgY29sb3JzOiBbJyNjMGMwYzAnLCAnI2ZmMDAwMCcsICcjMWU5MGZmJywgJyNmZmE1MDAnLCAnI2ZmZmYwMCcsICcjMDAwMDAwJ10sCiAgICAgICAgICAgIGRhdGE6IFstMSwtMSwtMSwtMSwtMSwwLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLDAsMCwwLC0xLC0xLC0xLC0xLC0xLC0xLC0xLDAsMCwwLDAsMCwtMSwtMSwtMSwtMSwtMSwtMSwwLDAsMCwwLDAsLTEsLTEsLTEsLTEsLTEsMCwwLDAsMiwwLDAsMCwtMSwtMSwtMSwtMSwwLDAsMiwyLDIsMCwwLC0xLC0xLC0xLC0xLDAsMCwwLDIsMCwwLDAsLTEsLTEsLTEsLTEsMCwwLDAsMCwwLDAsMCwtMSwtMSwtMSwtMSwwLDAsMCwwLDAsMCwwLC0xLC0xLC0xLDEsMCwwLDAsMCwwLDAsMCwxLC0xLDEsMSwwLDAsMCwwLDAsMCwwLDEsMSwxLDEsMCwwLDAsMCwwLDAsMCwxLDEsLTEsMSwwLDAsMCwwLDAsMCwwLDEsLTEsLTEsLTEsMSwwLDAsMCwwLDAsMSwtMSwtMSwtMSwtMSwtMSwxLDAsMCwwLDEsLTEsLTEsLTEsLTEsLTEsMywzLDEsNSwxLDMsMywtMSwtMSwtMSwtMSwtMSwzLDQsNSw0LDMsLTEsLTEsLTEsLTEsLTEsLTEsLTEsMyw0LDMsLTEsLTEsLTEsLTEsLTEsLTEsLTEsLTEsLTEsMywtMSwtMSwtMSwtMSwtMV0KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICAgbmFtZTogJ0Zpc2NoJywgd2lkdGg6IDE1LCBoZWlnaHQ6IDksCiAgICAgICAgICAgIGNvbG9yczogWycjZmY4YzAwJywgJyNmZmQ3MDAnLCAnIzAwMDAwMCcsICcjMDBiZmZmJywgJyNmZmZmZmYnXSwKICAgICAgICAgICAgZGF0YTogWy0xLC0xLC0xLC0xLC0xLC0xLC0xLDAsMCwwLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLDAsMCwxLDEsMSwwLDAsLTEsLTEsLTEsLTEsLTEsLTEsLTEsMCwxLDEsMSwxLDEsMSwwLC0xLC0xLC0xLDAsMCwwLDAsMSwxLDEsMiwxLDEsMSwxLDAsMCwtMSwwLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMCwwLDAsMCwwLDEsMSwxLDEsMSwxLDEsMSwwLDAsLTEsLTEsLTEsLTEsLTEsMCwxLDEsMSwxLDEsMSwwLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLDAsMCwxLDEsMSwwLDAsLTEsLTEsLTEsLTEsLTEsLTEsLTEsLTEsLTEsLTEsMCwwLDAsLTEsLTEsLTEsLTEsLTFdCiAgICAgICAgfQogICAgXTsKICAgIAogICAgbGV0IGN1cnJlbnRNb3RpdiA9IDAsIHNlbGVjdGVkQ29sb3IgPSAwLCBwaXhlbFN0YXRlcyA9IFtdLCBhdWRpb0N0eCA9IG51bGw7CiAgICAKICAgIGZ1bmN0aW9uIGluaXRBdWRpbygpIHsgaWYgKCFhdWRpb0N0eCkgYXVkaW9DdHggPSBuZXcgKHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkoKTsgfQogICAgCiAgICBmdW5jdGlvbiBwbGF5U291bmQodHlwZSkgewogICAgICAgIGlmICghYXVkaW9DdHgpIHJldHVybjsKICAgICAgICBpZiAodHlwZSA9PT0gJ2NvcnJlY3QnKSB7CiAgICAgICAgICAgIGNvbnN0IG9zYyA9IGF1ZGlvQ3R4LmNyZWF0ZU9zY2lsbGF0b3IoKSwgZ2FpbiA9IGF1ZGlvQ3R4LmNyZWF0ZUdhaW4oKTsKICAgICAgICAgICAgb3NjLmNvbm5lY3QoZ2Fpbik7IGdhaW4uY29ubmVjdChhdWRpb0N0eC5kZXN0aW5hdGlvbik7CiAgICAgICAgICAgIG9zYy5mcmVxdWVuY3kudmFsdWUgPSA3MDAgKyBNYXRoLnJhbmRvbSgpICogMzAwOwogICAgICAgICAgICBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4wNiwgYXVkaW9DdHguY3VycmVudFRpbWUpOwogICAgICAgICAgICBnYWluLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAxLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMDgpOwogICAgICAgICAgICBvc2Muc3RhcnQoKTsgb3NjLnN0b3AoYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjA4KTsKICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd3cm9uZycpIHsKICAgICAgICAgICAgY29uc3Qgb3NjID0gYXVkaW9DdHguY3JlYXRlT3NjaWxsYXRvcigpLCBnYWluID0gYXVkaW9DdHguY3JlYXRlR2FpbigpOwogICAgICAgICAgICBvc2MuY29ubmVjdChnYWluKTsgZ2Fpbi5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTsKICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS52YWx1ZSA9IDIwMDsKICAgICAgICAgICAgZ2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKDAuMDgsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsKICAgICAgICAgICAgZ2Fpbi5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjEyKTsKICAgICAgICAgICAgb3NjLnN0YXJ0KCk7IG9zYy5zdG9wKGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4xMik7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnY29tcGxldGUnKSB7CiAgICAgICAgICAgIFs1MjMsIDY1OSwgNzg0LCAxMDQ3XS5mb3JFYWNoKChmLCBpKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBvID0gYXVkaW9DdHguY3JlYXRlT3NjaWxsYXRvcigpLCBnID0gYXVkaW9DdHguY3JlYXRlR2FpbigpOwogICAgICAgICAgICAgICAgby5jb25uZWN0KGcpOyBnLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pOwogICAgICAgICAgICAgICAgby5mcmVxdWVuY3kudmFsdWUgPSBmOwogICAgICAgICAgICAgICAgZy5nYWluLnNldFZhbHVlQXRUaW1lKDAuMDgsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMTIpOwogICAgICAgICAgICAgICAgZy5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xMiArIDAuMTUpOwogICAgICAgICAgICAgICAgby5zdGFydChhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjEyKTsgby5zdG9wKGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMTIgKyAwLjE1KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQogICAgCiAgICBmdW5jdGlvbiBpc0xpZ2h0KGhleCkgewogICAgICAgIGNvbnN0IHIgPSBwYXJzZUludChoZXguc2xpY2UoMSwzKSwxNiksIGcgPSBwYXJzZUludChoZXguc2xpY2UoMyw1KSwxNiksIGIgPSBwYXJzZUludChoZXguc2xpY2UoNSw3KSwxNik7CiAgICAgICAgcmV0dXJuIChyKjI5OSArIGcqNTg3ICsgYioxMTQpIC8gMTAwMCA+IDE0MDsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gcmVuZGVyUGFsZXR0ZSgpIHsKICAgICAgICBjb25zdCBtID0gbW90aXZlW2N1cnJlbnRNb3Rpdl0sIHBhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWxldHRlJyk7CiAgICAgICAgcGFsLmlubmVySFRNTCA9ICcnOwogICAgICAgIG0uY29sb3JzLmZvckVhY2goKGMsIGkpID0+IHsKICAgICAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgIGJ0bi5jbGFzc05hbWUgPSAnY29sb3ItYnRuJyArIChzZWxlY3RlZENvbG9yID09PSBpID8gJyBzZWxlY3RlZCcgOiAnJyk7CiAgICAgICAgICAgIGJ0bi5zdHlsZS5iYWNrZ3JvdW5kID0gYzsKICAgICAgICAgICAgYnRuLnN0eWxlLmNvbG9yID0gaXNMaWdodChjKSA/ICcjMzMzJyA6ICcjZmZmJzsKICAgICAgICAgICAgYnRuLnRleHRDb250ZW50ID0gaSArIDE7CiAgICAgICAgICAgIGJ0bi5vbmNsaWNrID0gKCkgPT4geyBzZWxlY3RlZENvbG9yID0gaTsgcmVuZGVyUGFsZXR0ZSgpOyB9OwogICAgICAgICAgICBwYWwuYXBwZW5kQ2hpbGQoYnRuKTsKICAgICAgICB9KTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gcmVuZGVyTW90aXZTZWxlY3QoKSB7CiAgICAgICAgY29uc3Qgc2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vdGl2LXNlbGVjdCcpOwogICAgICAgIHNlbC5pbm5lckhUTUwgPSAnJzsKICAgICAgICBtb3RpdmUuZm9yRWFjaCgobSwgaSkgPT4gewogICAgICAgICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgYnRuLmNsYXNzTmFtZSA9ICdtb3Rpdi1idG4nICsgKGN1cnJlbnRNb3RpdiA9PT0gaSA/ICcgYWN0aXZlJyA6ICcnKTsKICAgICAgICAgICAgYnRuLnRleHRDb250ZW50ID0gbS5uYW1lOwogICAgICAgICAgICBidG4ub25jbGljayA9ICgpID0+IHsgY3VycmVudE1vdGl2ID0gaTsgcGl4ZWxTdGF0ZXMgPSBbXTsgc2VsZWN0ZWRDb2xvciA9IDA7IHJlbmRlckFsbCgpOyB9OwogICAgICAgICAgICBzZWwuYXBwZW5kQ2hpbGQoYnRuKTsKICAgICAgICB9KTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gcmVuZGVyQ2FudmFzKCkgewogICAgICAgIGNvbnN0IG0gPSBtb3RpdmVbY3VycmVudE1vdGl2XSwgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BpeGVsLWNhbnZhcycpLCB3cmFwcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcy13cmFwcGVyJyk7CiAgICAgICAgY29uc3QgbWF4VyA9IHdyYXBwZXIuY2xpZW50V2lkdGggLSAyMCwgbWF4SCA9IHdyYXBwZXIuY2xpZW50SGVpZ2h0IC0gMjA7CiAgICAgICAgY29uc3Qgc2l6ZSA9IE1hdGgubWF4KDE2LCBNYXRoLm1pbihNYXRoLmZsb29yKG1heFcgLyBtLndpZHRoKSwgTWF0aC5mbG9vcihtYXhIIC8gbS5oZWlnaHQpLCAzMikpOwogICAgICAgIAogICAgICAgIGNhbnZhcy5zdHlsZS5ncmlkVGVtcGxhdGVDb2x1bW5zID0gYHJlcGVhdCgke20ud2lkdGh9LCAke3NpemV9cHgpYDsKICAgICAgICBjYW52YXMuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgCiAgICAgICAgbGV0IGZpbGxlZCA9IDAsIHRvdGFsID0gMDsKICAgICAgICBtLmRhdGEuZm9yRWFjaCgoY29sb3JJZHgsIGkpID0+IHsKICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICBjZWxsLmNsYXNzTmFtZSA9ICdwaXhlbCc7CiAgICAgICAgICAgIGNlbGwuc3R5bGUud2lkdGggPSBzaXplICsgJ3B4JzsKICAgICAgICAgICAgY2VsbC5zdHlsZS5oZWlnaHQgPSBzaXplICsgJ3B4JzsKICAgICAgICAgICAgY2VsbC5zdHlsZS5mb250U2l6ZSA9IChzaXplICogMC40NSkgKyAncHgnOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGNvbG9ySWR4ID09PSAtMSkgewogICAgICAgICAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKCdlbXB0eScpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdG90YWwrKzsKICAgICAgICAgICAgICAgIGlmIChwaXhlbFN0YXRlc1tpXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgY2VsbC5zdHlsZS5iYWNrZ3JvdW5kID0gbS5jb2xvcnNbcGl4ZWxTdGF0ZXNbaV1dOwogICAgICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgnZmlsbGVkJyk7CiAgICAgICAgICAgICAgICAgICAgZmlsbGVkKys7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNlbGwudGV4dENvbnRlbnQgPSBjb2xvcklkeCArIDE7CiAgICAgICAgICAgICAgICAgICAgY2VsbC5zdHlsZS5jb2xvciA9ICcjOTk5JzsKICAgICAgICAgICAgICAgICAgICBjZWxsLm9uY2xpY2sgPSAoKSA9PiBoYW5kbGVDbGljayhpLCBjb2xvcklkeCwgY2VsbCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2FudmFzLmFwcGVuZENoaWxkKGNlbGwpOwogICAgICAgIH0pOwogICAgICAgIAogICAgICAgIGNvbnN0IHBjdCA9IHRvdGFsID4gMCA/IE1hdGgucm91bmQoZmlsbGVkIC8gdG90YWwgKiAxMDApIDogMDsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ3Jlc3MnKS50ZXh0Q29udGVudCA9IHBjdDsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW90aXYtbmFtZScpLnRleHRDb250ZW50ID0gbS5uYW1lOwogICAgICAgIAogICAgICAgIGlmIChwY3QgPT09IDEwMCkgewogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgcGxheVNvdW5kKCdjb21wbGV0ZScpOyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcGxldGUtYmFubmVyJykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7IH0sIDIwMCk7CiAgICAgICAgfQogICAgfQogICAgCiAgICBmdW5jdGlvbiBoYW5kbGVDbGljayhpZHgsIGNvcnJlY3QsIGNlbGwpIHsKICAgICAgICBpZiAoc2VsZWN0ZWRDb2xvciA9PT0gY29ycmVjdCkgewogICAgICAgICAgICBwaXhlbFN0YXRlc1tpZHhdID0gY29ycmVjdDsKICAgICAgICAgICAgcGxheVNvdW5kKCdjb3JyZWN0Jyk7CiAgICAgICAgICAgIHJlbmRlckNhbnZhcygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBsYXlTb3VuZCgnd3JvbmcnKTsKICAgICAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKCd3cm9uZycpOwogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGNlbGwuY2xhc3NMaXN0LnJlbW92ZSgnd3JvbmcnKSwgMzAwKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHJlc2V0Q2FudmFzKCkgeyBwaXhlbFN0YXRlcyA9IFtdOyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcGxldGUtYmFubmVyJykuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7IHJlbmRlckNhbnZhcygpOyB9CiAgICAKICAgIGZ1bmN0aW9uIHNob3dIaW50KCkgewogICAgICAgIGNvbnN0IG0gPSBtb3RpdmVbY3VycmVudE1vdGl2XTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG0uZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAobS5kYXRhW2ldICE9PSAtMSAmJiBwaXhlbFN0YXRlc1tpXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBzZWxlY3RlZENvbG9yID0gbS5kYXRhW2ldOwogICAgICAgICAgICAgICAgcmVuZGVyUGFsZXR0ZSgpOwogICAgICAgICAgICAgICAgY29uc3QgY2VsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGl4ZWwnKTsKICAgICAgICAgICAgICAgIGNlbGxzW2ldLnN0eWxlLmJhY2tncm91bmQgPSAnI2ZmZjU5ZCc7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHJlbmRlckNhbnZhcywgODAwKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgCiAgICBmdW5jdGlvbiBhdXRvRmlsbCgpIHsKICAgICAgICBjb25zdCBtID0gbW90aXZlW2N1cnJlbnRNb3Rpdl07IGxldCBjID0gMDsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG0uZGF0YS5sZW5ndGggJiYgYyA8IDU7IGkrKykgewogICAgICAgICAgICBpZiAobS5kYXRhW2ldICE9PSAtMSAmJiBwaXhlbFN0YXRlc1tpXSA9PT0gdW5kZWZpbmVkKSB7IHBpeGVsU3RhdGVzW2ldID0gbS5kYXRhW2ldOyBjKys7IH0KICAgICAgICB9CiAgICAgICAgaWYgKGMgPiAwKSBwbGF5U291bmQoJ2NvcnJlY3QnKTsKICAgICAgICByZW5kZXJDYW52YXMoKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gbmV4dE1vdGl2KCkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wbGV0ZS1iYW5uZXInKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICBjdXJyZW50TW90aXYgPSAoY3VycmVudE1vdGl2ICsgMSkgJSBtb3RpdmUubGVuZ3RoOwogICAgICAgIHBpeGVsU3RhdGVzID0gW107IHNlbGVjdGVkQ29sb3IgPSAwOwogICAgICAgIHJlbmRlckFsbCgpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiByZW5kZXJBbGwoKSB7IHJlbmRlclBhbGV0dGUoKTsgcmVuZGVyTW90aXZTZWxlY3QoKTsgcmVuZGVyQ2FudmFzKCk7IH0KICAgIAogICAgZnVuY3Rpb24gc3RhcnRHYW1lKCkgeyBpbml0QXVkaW8oKTsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0LXNjcmVlbicpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOyByZW5kZXJBbGwoKTsgfQogICAgCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4geyBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0LXNjcmVlbicpLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHJlbmRlckNhbnZhcygpOyB9KTsKICAgIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4K';
GAMES['memory'] = 'PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImRlIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyI+CiAgICA8dGl0bGU+8J+noCBNZW1vcnktTWVpc3RlciE8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICAgIEBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PUZyZWRva2E6d2dodEA0MDA7NjAwOzcwMCZkaXNwbGF5PXN3YXAnKTsKICAgICAgICAqIHsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9CiAgICAgICAgYm9keSB7IGZvbnQtZmFtaWx5OiAnRnJlZG9rYScsIHNhbnMtc2VyaWY7IG1pbi1oZWlnaHQ6IDEwMHZoOyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpOyBvdmVyZmxvdy14OiBoaWRkZW47IHRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uOyB9CiAgICAgICAgI2dhbWUtY29udGFpbmVyIHsgcG9zaXRpb246IHJlbGF0aXZlOyB3aWR0aDogMTAwdnc7IG1pbi1oZWlnaHQ6IDEwMHZoOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBhbGlnbi1pdGVtczogY2VudGVyOyBwYWRkaW5nOiAxMHB4OyB9CiAgICAgICAgI3RvcC1iYXIgeyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiAxMnB4OyBwYWRkaW5nOiAxMHB4OyBmbGV4LXdyYXA6IHdyYXA7IHdpZHRoOiAxMDAlOyB9CiAgICAgICAgLnN0YXQtYm94IHsgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjkpOyBjb2xvcjogIzMzMzsgcGFkZGluZzogOHB4IDE4cHg7IGJvcmRlci1yYWRpdXM6IDI1cHg7IGZvbnQtc2l6ZTogMTZweDsgZm9udC13ZWlnaHQ6IDYwMDsgfQogICAgICAgICNzb3VuZC10b2dnbGUgeyBiYWNrZ3JvdW5kOiAjMzQ5OERCOyBib3JkZXI6IG5vbmU7IHBhZGRpbmc6IDhweCAxNXB4OyBib3JkZXItcmFkaXVzOiAyNXB4OyBmb250LXNpemU6IDE4cHg7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAgICNnYW1lLWJvYXJkIHsgZGlzcGxheTogZ3JpZDsgZ2FwOiA4cHg7IHBhZGRpbmc6IDE1cHg7IG1heC13aWR0aDogNTAwcHg7IHdpZHRoOiAxMDAlOyB9CiAgICAgICAgLmNhcmQgeyBhc3BlY3QtcmF0aW86IDE7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMzNDk4REIsICMyOTgwQjkpOyBib3JkZXItcmFkaXVzOiAxMnB4OyBjdXJzb3I6IHBvaW50ZXI7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyBmb250LXNpemU6IDM1cHg7IGJveC1zaGFkb3c6IDAgNHB4IDE1cHggcmdiYSgwLDAsMCwwLjMpOyB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcywgYmFja2dyb3VuZCAwLjNzOyB1c2VyLXNlbGVjdDogbm9uZTsgfQogICAgICAgIC5jYXJkOmFjdGl2ZSB7IHRyYW5zZm9ybTogc2NhbGUoMC45NSk7IH0KICAgICAgICAuY2FyZC5mbGlwcGVkIHsgYmFja2dyb3VuZDogd2hpdGU7IH0KICAgICAgICAuY2FyZC5tYXRjaGVkIHsgYmFja2dyb3VuZDogIzJFQ0M3MTsgcG9pbnRlci1ldmVudHM6IG5vbmU7IH0KICAgICAgICAuY2FyZCAuZnJvbnQgeyBkaXNwbGF5OiBub25lOyB9CiAgICAgICAgLmNhcmQuZmxpcHBlZCAuZnJvbnQsIC5jYXJkLm1hdGNoZWQgLmZyb250IHsgZGlzcGxheTogYmxvY2s7IH0KICAgICAgICAuY2FyZCAuYmFjayB7IGZvbnQtc2l6ZTogMjhweDsgfQogICAgICAgIC5jYXJkLmZsaXBwZWQgLmJhY2ssIC5jYXJkLm1hdGNoZWQgLmJhY2sgeyBkaXNwbGF5OiBub25lOyB9CiAgICAgICAgI3N0YXJ0LXNjcmVlbiwgI3dpbi1zY3JlZW4sICNsZXZlbC1zY3JlZW4geyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IHotaW5kZXg6IDIwMDsgZ2FwOiAyMHB4OyB9CiAgICAgICAgI3dpbi1zY3JlZW4geyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMTE5OThlIDAlLCAjMzhlZjdkIDEwMCUpOyB9CiAgICAgICAgLnNjcmVlbi10aXRsZSB7IGZvbnQtc2l6ZTogNDRweDsgY29sb3I6IHdoaXRlOyB0ZXh0LXNoYWRvdzogMCA0cHggMCByZ2JhKDAsMCwwLDAuMik7IHRleHQtYWxpZ246IGNlbnRlcjsgfQogICAgICAgIC5zY3JlZW4taWNvbiB7IGZvbnQtc2l6ZTogNzBweDsgfQogICAgICAgIC5zdGFydC1idG4geyBiYWNrZ3JvdW5kOiAjRjFDNDBGOyBjb2xvcjogIzMzMzsgYm9yZGVyOiBub25lOyBwYWRkaW5nOiAxOHB4IDQ1cHg7IGZvbnQtc2l6ZTogMjRweDsgZm9udC1mYW1pbHk6ICdGcmVkb2thJywgc2Fucy1zZXJpZjsgZm9udC13ZWlnaHQ6IDcwMDsgYm9yZGVyLXJhZGl1czogNTBweDsgY3Vyc29yOiBwb2ludGVyOyBib3gtc2hhZG93OiAwIDVweCAwICNENEFDMEQ7IH0KICAgICAgICAuc3RhcnQtYnRuOmFjdGl2ZSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgzcHgpOyBib3gtc2hhZG93OiAwIDJweCAwICNENEFDMEQ7IH0KICAgICAgICAuaGlkZGVuIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9CiAgICAgICAgLmluc3RydWN0aW9ucyB7IGNvbG9yOiB3aGl0ZTsgZm9udC1zaXplOiAxNnB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IH0KICAgICAgICAuc3Rhci1yYXRpbmcgeyBmb250LXNpemU6IDQwcHg7IH0KICAgIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8ZGl2IGlkPSJnYW1lLWNvbnRhaW5lciI+CiAgICAgICAgPGRpdiBpZD0idG9wLWJhciI+CiAgICAgICAgICAgIDxidXR0b24gaWQ9InNvdW5kLXRvZ2dsZSI+8J+UijwvYnV0dG9uPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWJveCI+8J+UhCA8c3BhbiBpZD0ibW92ZXMiPjA8L3NwYW4+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtYm94Ij7wn5GAIDxzcGFuIGlkPSJwYWlycyI+MDwvc3Bhbj4vPHNwYW4gaWQ9InRvdGFsLXBhaXJzIj42PC9zcGFuPjwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWJveCI+TGV2ZWwgPHNwYW4gaWQ9ImxldmVsIj4xPC9zcGFuPjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgaWQ9ImdhbWUtYm9hcmQiPjwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9InN0YXJ0LXNjcmVlbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNjcmVlbi1pY29uIj7wn6egPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5NZW1vcnktTWVpc3RlciE8L2gxPgogICAgICAgICAgICA8cCBjbGFzcz0iaW5zdHJ1Y3Rpb25zIj5GaW5kZSBhbGxlIFBhYXJlITxicj5NZXJrZSBkaXIgd28gZGllIEthcnRlbiBzaW5kITwvcD4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic3RhcnQtYnRuIiBvbmNsaWNrPSJzdGFydEdhbWUoKSI+8J+OriBTdGFydCE8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJsZXZlbC1zY3JlZW4iIGNsYXNzPSJoaWRkZW4iPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzY3JlZW4taWNvbiI+8J+noDwvZGl2PgogICAgICAgICAgICA8aDEgY2xhc3M9InNjcmVlbi10aXRsZSI+TGV2ZWwgPHNwYW4gaWQ9ImxldmVsLW51bWJlciI+MTwvc3Bhbj48L2gxPgogICAgICAgICAgICA8cCBpZD0ibGV2ZWwtZGVzYyIgc3R5bGU9ImNvbG9yOndoaXRlO2ZvbnQtc2l6ZToyMHB4OyI+PC9wPgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9Indpbi1zY3JlZW4iIGNsYXNzPSJoaWRkZW4iPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzY3JlZW4taWNvbiI+8J+PhjwvZGl2PgogICAgICAgICAgICA8aDEgY2xhc3M9InNjcmVlbi10aXRsZSI+R2VzY2hhZmZ0ITwvaDE+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXItcmF0aW5nIiBpZD0ic3RhcnMiPuKtkOKtkOKtkDwvZGl2PgogICAgICAgICAgICA8cCBzdHlsZT0iY29sb3I6d2hpdGU7Zm9udC1zaXplOjIwcHg7Ij5aw7xnZTogPHNwYW4gaWQ9ImZpbmFsLW1vdmVzIj4wPC9zcGFuPjwvcD4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic3RhcnQtYnRuIiBpZD0ibmV4dC1idG4iIG9uY2xpY2s9Im5leHRMZXZlbCgpIj7inqHvuI8gV2VpdGVyITwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPHNjcmlwdD4KICAgICAgICBjb25zdCBnYW1lQm9hcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1ib2FyZCcpOwogICAgICAgIGNvbnN0IG1vdmVzRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3ZlcycpOwogICAgICAgIGNvbnN0IHBhaXJzRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWlycycpOwogICAgICAgIGNvbnN0IHRvdGFsUGFpcnNEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvdGFsLXBhaXJzJyk7CiAgICAgICAgY29uc3QgbGV2ZWxEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsJyk7CiAgICAgICAgY29uc3QgbGV2ZWxOdW1iZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwtbnVtYmVyJyk7CiAgICAgICAgY29uc3QgbGV2ZWxEZXNjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLWRlc2MnKTsKICAgICAgICBjb25zdCBzdGFyc0Rpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnMnKTsKICAgICAgICBjb25zdCBmaW5hbE1vdmVzRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaW5hbC1tb3ZlcycpOwogICAgICAgIGNvbnN0IG5leHRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV4dC1idG4nKTsKICAgICAgICBjb25zdCBzdGFydFNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydC1zY3JlZW4nKTsKICAgICAgICBjb25zdCB3aW5TY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2luLXNjcmVlbicpOwogICAgICAgIGNvbnN0IGxldmVsU2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLXNjcmVlbicpOwogICAgICAgIGNvbnN0IHNvdW5kVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvdW5kLXRvZ2dsZScpOwogICAgICAgIAogICAgICAgIGxldCBsZXZlbCA9IDEsIG1vdmVzID0gMCwgcGFpcnMgPSAwLCB0b3RhbFBhaXJzID0gMDsKICAgICAgICBsZXQgZmxpcHBlZENhcmRzID0gW10sIGNhbkZsaXAgPSB0cnVlLCBzb3VuZEVuYWJsZWQgPSB0cnVlOwogICAgICAgIGxldCBhdWRpb0N0eCA9IG51bGw7CiAgICAgICAgCiAgICAgICAgY29uc3QgbGV2ZWxDb25maWdzID0gWwogICAgICAgICAgICB7IGNvbHM6IDMsIHJvd3M6IDIsIHBhaXJzOiAzLCB0aGVtZTogJ1RpZXJlJywgZW1vamlzOiBbJ/CfkLYnLCAn8J+QsScsICfwn5CwJywgJ/CfpoonLCAn8J+QuycsICfwn5C8J10gfSwKICAgICAgICAgICAgeyBjb2xzOiA0LCByb3dzOiAyLCBwYWlyczogNCwgdGhlbWU6ICdGYWhyemV1Z2UnLCBlbW9qaXM6IFsn8J+alycsICfwn5qMJywgJ/CfmpEnLCAn8J+akicsICfinIjvuI8nLCAn8J+agCcsICfwn5qCJywgJ+KbtSddIH0sCiAgICAgICAgICAgIHsgY29sczogNCwgcm93czogMywgcGFpcnM6IDYsIHRoZW1lOiAnRXNzZW4nLCBlbW9qaXM6IFsn8J+NjicsICfwn42VJywgJ/CfjZQnLCAn8J+MricsICfwn42mJywgJ/Cfp4EnLCAn8J+NqScsICfwn42qJywgJ/CfpZUnLCAn8J+NhyddIH0sCiAgICAgICAgICAgIHsgY29sczogNCwgcm93czogNCwgcGFpcnM6IDgsIHRoZW1lOiAnTmF0dXInLCBlbW9qaXM6IFsn8J+MuCcsICfwn4y6JywgJ/CfjLsnLCAn8J+MuScsICfwn4yzJywgJ/CfjLQnLCAn4q2QJywgJ/CfjJknLCAn4piA77iPJywgJ/CfjIgnXSB9LAogICAgICAgICAgICB7IGNvbHM6IDUsIHJvd3M6IDQsIHBhaXJzOiAxMCwgdGhlbWU6ICdNaXgnLCBlbW9qaXM6IFsn8J+OiCcsICfwn46BJywgJ/CfjoAnLCAn8J+OqicsICfwn46tJywgJ/CfjqgnLCAn8J+OrycsICfwn46yJywgJ/CfjrgnLCAn8J+OuicsICfwn467JywgJ/CfpYEnXSB9CiAgICAgICAgXTsKICAgICAgICAKICAgICAgICBmdW5jdGlvbiBpbml0QXVkaW8oKSB7IGlmICghYXVkaW9DdHgpIGF1ZGlvQ3R4ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKCk7IH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBwbGF5U291bmQodHlwZSkgewogICAgICAgICAgICBpZiAoIXNvdW5kRW5hYmxlZCB8fCAhYXVkaW9DdHgpIHJldHVybjsKICAgICAgICAgICAgY29uc3Qgb3NjID0gYXVkaW9DdHguY3JlYXRlT3NjaWxsYXRvcigpLCBnYWluID0gYXVkaW9DdHguY3JlYXRlR2FpbigpOwogICAgICAgICAgICBvc2MuY29ubmVjdChnYWluKTsgZ2Fpbi5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTsKICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdmbGlwJykgewogICAgICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZSg2MDAsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsKICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsKICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4xKTsKICAgICAgICAgICAgICAgIG9zYy5zdGFydCgpOyBvc2Muc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ21hdGNoJykgewogICAgICAgICAgICAgICAgWzUyMywgNjU5LCA3ODRdLmZvckVhY2goKGYsIGkpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBvID0gYXVkaW9DdHguY3JlYXRlT3NjaWxsYXRvcigpLCBnID0gYXVkaW9DdHguY3JlYXRlR2FpbigpOwogICAgICAgICAgICAgICAgICAgIG8uY29ubmVjdChnKTsgZy5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTsKICAgICAgICAgICAgICAgICAgICBvLmZyZXF1ZW5jeS52YWx1ZSA9IGY7CiAgICAgICAgICAgICAgICAgICAgZy5nYWluLnNldFZhbHVlQXRUaW1lKDAuMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xKTsKICAgICAgICAgICAgICAgICAgICBnLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAxLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjEgKyAwLjIpOwogICAgICAgICAgICAgICAgICAgIG8uc3RhcnQoYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xKTsKICAgICAgICAgICAgICAgICAgICBvLnN0b3AoYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xICsgMC4yKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd3cm9uZycpIHsKICAgICAgICAgICAgICAgIG9zYy5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoMjAwLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4xLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBnYWluLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAxLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMik7CiAgICAgICAgICAgICAgICBvc2Muc3RhcnQoKTsgb3NjLnN0b3AoYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjIpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHNvdW5kVG9nZ2xlLm9uY2xpY2sgPSAoKSA9PiB7IHNvdW5kRW5hYmxlZCA9ICFzb3VuZEVuYWJsZWQ7IHNvdW5kVG9nZ2xlLnRleHRDb250ZW50ID0gc291bmRFbmFibGVkID8gJ/CflIonIDogJ/CflIcnOyB9OwogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUJvYXJkKCkgewogICAgICAgICAgICBjb25zdCBjb25maWcgPSBsZXZlbENvbmZpZ3NbbGV2ZWwgLSAxXTsKICAgICAgICAgICAgdG90YWxQYWlycyA9IGNvbmZpZy5wYWlyczsKICAgICAgICAgICAgdG90YWxQYWlyc0Rpc3BsYXkudGV4dENvbnRlbnQgPSB0b3RhbFBhaXJzOwogICAgICAgICAgICAKICAgICAgICAgICAgZ2FtZUJvYXJkLmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICBnYW1lQm9hcmQuc3R5bGUuZ3JpZFRlbXBsYXRlQ29sdW1ucyA9IGByZXBlYXQoJHtjb25maWcuY29sc30sIDFmcilgOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gU2VsZWN0IGVtb2ppcyBhbmQgY3JlYXRlIHBhaXJzCiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkRW1vamlzID0gY29uZmlnLmVtb2ppcy5zbGljZSgwLCBjb25maWcucGFpcnMpOwogICAgICAgICAgICBjb25zdCBjYXJkcyA9IFsuLi5zZWxlY3RlZEVtb2ppcywgLi4uc2VsZWN0ZWRFbW9qaXNdOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gU2h1ZmZsZQogICAgICAgICAgICBmb3IgKGxldCBpID0gY2FyZHMubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkgewogICAgICAgICAgICAgICAgY29uc3QgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpOwogICAgICAgICAgICAgICAgW2NhcmRzW2ldLCBjYXJkc1tqXV0gPSBbY2FyZHNbal0sIGNhcmRzW2ldXTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgY2FyZHMuZm9yRWFjaCgoZW1vamksIGluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBjYXJkLmNsYXNzTmFtZSA9ICdjYXJkJzsKICAgICAgICAgICAgICAgIGNhcmQuZGF0YXNldC5lbW9qaSA9IGVtb2ppOwogICAgICAgICAgICAgICAgY2FyZC5kYXRhc2V0LmluZGV4ID0gaW5kZXg7CiAgICAgICAgICAgICAgICBjYXJkLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz0iZnJvbnQiPiR7ZW1vaml9PC9zcGFuPjxzcGFuIGNsYXNzPSJiYWNrIj7inZM8L3NwYW4+YDsKICAgICAgICAgICAgICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBmbGlwQ2FyZChjYXJkKSk7CiAgICAgICAgICAgICAgICBnYW1lQm9hcmQuYXBwZW5kQ2hpbGQoY2FyZCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBmbGlwQ2FyZChjYXJkKSB7CiAgICAgICAgICAgIGlmICghY2FuRmxpcCB8fCBjYXJkLmNsYXNzTGlzdC5jb250YWlucygnZmxpcHBlZCcpIHx8IGNhcmQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtYXRjaGVkJykpIHJldHVybjsKICAgICAgICAgICAgaWYgKGZsaXBwZWRDYXJkcy5sZW5ndGggPj0gMikgcmV0dXJuOwogICAgICAgICAgICAKICAgICAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdmbGlwcGVkJyk7CiAgICAgICAgICAgIGZsaXBwZWRDYXJkcy5wdXNoKGNhcmQpOwogICAgICAgICAgICBwbGF5U291bmQoJ2ZsaXAnKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChmbGlwcGVkQ2FyZHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICBtb3ZlcysrOwogICAgICAgICAgICAgICAgbW92ZXNEaXNwbGF5LnRleHRDb250ZW50ID0gbW92ZXM7CiAgICAgICAgICAgICAgICBjYW5GbGlwID0gZmFsc2U7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IFtjYXJkMSwgY2FyZDJdID0gZmxpcHBlZENhcmRzOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoY2FyZDEuZGF0YXNldC5lbW9qaSA9PT0gY2FyZDIuZGF0YXNldC5lbW9qaSkgewogICAgICAgICAgICAgICAgICAgIC8vIE1hdGNoIQogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjYXJkMS5jbGFzc0xpc3QuYWRkKCdtYXRjaGVkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQyLmNsYXNzTGlzdC5hZGQoJ21hdGNoZWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgcGFpcnMrKzsKICAgICAgICAgICAgICAgICAgICAgICAgcGFpcnNEaXNwbGF5LnRleHRDb250ZW50ID0gcGFpcnM7CiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlTb3VuZCgnbWF0Y2gnKTsKICAgICAgICAgICAgICAgICAgICAgICAgZmxpcHBlZENhcmRzID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkZsaXAgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhaXJzID49IHRvdGFsUGFpcnMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsQ29tcGxldGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIE5vIG1hdGNoCiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQxLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsaXBwZWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgY2FyZDIuY2xhc3NMaXN0LnJlbW92ZSgnZmxpcHBlZCcpOwogICAgICAgICAgICAgICAgICAgICAgICBwbGF5U291bmQoJ3dyb25nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGZsaXBwZWRDYXJkcyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICBjYW5GbGlwID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBsZXZlbENvbXBsZXRlKCkgewogICAgICAgICAgICBjb25zdCBjb25maWcgPSBsZXZlbENvbmZpZ3NbbGV2ZWwgLSAxXTsKICAgICAgICAgICAgY29uc3QgcGVyZmVjdE1vdmVzID0gY29uZmlnLnBhaXJzOwogICAgICAgICAgICBjb25zdCBnb29kTW92ZXMgPSBjb25maWcucGFpcnMgKiAyOwogICAgICAgICAgICAKICAgICAgICAgICAgbGV0IHN0YXJzID0gJ+KtkCc7CiAgICAgICAgICAgIGlmIChtb3ZlcyA8PSBwZXJmZWN0TW92ZXMgKyAyKSBzdGFycyA9ICfirZDirZDirZAnOwogICAgICAgICAgICBlbHNlIGlmIChtb3ZlcyA8PSBnb29kTW92ZXMpIHN0YXJzID0gJ+KtkOKtkCc7CiAgICAgICAgICAgIAogICAgICAgICAgICBzdGFyc0Rpc3BsYXkudGV4dENvbnRlbnQgPSBzdGFyczsKICAgICAgICAgICAgZmluYWxNb3Zlc0Rpc3BsYXkudGV4dENvbnRlbnQgPSBtb3ZlczsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChsZXZlbCA+PSA1KSB7CiAgICAgICAgICAgICAgICBuZXh0QnRuLnRleHRDb250ZW50ID0gJ/CflIQgTm9jaG1hbCEnOwogICAgICAgICAgICAgICAgbmV4dEJ0bi5vbmNsaWNrID0gc3RhcnRHYW1lOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbmV4dEJ0bi50ZXh0Q29udGVudCA9ICfinqHvuI8gV2VpdGVyISc7CiAgICAgICAgICAgICAgICBuZXh0QnRuLm9uY2xpY2sgPSBuZXh0TGV2ZWw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHdpblNjcmVlbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gbmV4dExldmVsKCkgewogICAgICAgICAgICBsZXZlbCsrOwogICAgICAgICAgICB3aW5TY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgIHNob3dMZXZlbFNjcmVlbigpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBzaG93TGV2ZWxTY3JlZW4oKSB7CiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IGxldmVsQ29uZmlnc1tsZXZlbCAtIDFdOwogICAgICAgICAgICBsZXZlbE51bWJlci50ZXh0Q29udGVudCA9IGxldmVsOwogICAgICAgICAgICBsZXZlbERlc2MudGV4dENvbnRlbnQgPSBgJHtjb25maWcudGhlbWV9IC0gJHtjb25maWcucGFpcnN9IFBhYXJlYDsKICAgICAgICAgICAgbGV2ZWxTY3JlZW4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGxldmVsU2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgICAgICAgICAgc3RhcnRMZXZlbCgpOwogICAgICAgICAgICB9LCAxNTAwKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gc3RhcnRMZXZlbCgpIHsKICAgICAgICAgICAgbW92ZXMgPSAwOwogICAgICAgICAgICBwYWlycyA9IDA7CiAgICAgICAgICAgIGZsaXBwZWRDYXJkcyA9IFtdOwogICAgICAgICAgICBjYW5GbGlwID0gdHJ1ZTsKICAgICAgICAgICAgbW92ZXNEaXNwbGF5LnRleHRDb250ZW50ID0gbW92ZXM7CiAgICAgICAgICAgIHBhaXJzRGlzcGxheS50ZXh0Q29udGVudCA9IHBhaXJzOwogICAgICAgICAgICBsZXZlbERpc3BsYXkudGV4dENvbnRlbnQgPSBsZXZlbDsKICAgICAgICAgICAgY3JlYXRlQm9hcmQoKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gc3RhcnRHYW1lKCkgewogICAgICAgICAgICBpbml0QXVkaW8oKTsKICAgICAgICAgICAgbGV2ZWwgPSAxOwogICAgICAgICAgICBzdGFydFNjcmVlbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICAgICAgd2luU2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgICAgICBsZXZlbFNjcmVlbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICAgICAgc3RhcnRMZXZlbCgpOwogICAgICAgIH0KICAgIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4K';
GAMES['reaktion'] = 'PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImRlIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyI+CiAgICA8dGl0bGU+4pqhIFJlYWt0aW9ucy1NZWlzdGVyITwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgICAgQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9RnJlZG9rYTp3Z2h0QDQwMDs2MDA7NzAwJmRpc3BsYXk9c3dhcCcpOwogICAgICAgICogeyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IH0KICAgICAgICBib2R5IHsgZm9udC1mYW1pbHk6ICdGcmVkb2thJywgc2Fucy1zZXJpZjsgbWluLWhlaWdodDogMTAwdmg7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNmMDkzZmIgMCUsICNmNTU3NmMgMTAwJSk7IG92ZXJmbG93OiBoaWRkZW47IHRvdWNoLWFjdGlvbjogbm9uZTsgfQogICAgICAgICNnYW1lLWNvbnRhaW5lciB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgd2lkdGg6IDEwMHZ3OyBoZWlnaHQ6IDEwMHZoOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBhbGlnbi1pdGVtczogY2VudGVyOyB9CiAgICAgICAgI3RvcC1iYXIgeyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMTBweDsgbGVmdDogMDsgcmlnaHQ6IDA7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDEycHg7IHotaW5kZXg6IDEwMDsgcGFkZGluZzogMCAxMHB4OyBmbGV4LXdyYXA6IHdyYXA7IH0KICAgICAgICAuc3RhdC1ib3ggeyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuOSk7IGNvbG9yOiAjMzMzOyBwYWRkaW5nOiA4cHggMTZweDsgYm9yZGVyLXJhZGl1czogMjVweDsgZm9udC1zaXplOiAxNnB4OyBmb250LXdlaWdodDogNjAwOyB9CiAgICAgICAgI3NvdW5kLXRvZ2dsZSB7IGJhY2tncm91bmQ6ICMzNDk4REI7IGJvcmRlcjogbm9uZTsgcGFkZGluZzogOHB4IDE1cHg7IGJvcmRlci1yYWRpdXM6IDI1cHg7IGZvbnQtc2l6ZTogMThweDsgY3Vyc29yOiBwb2ludGVyOyB9CiAgICAgICAgI2dhbWUtYXJlYSB7IGZsZXg6IDE7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyBwYWRkaW5nOiA4MHB4IDIwcHggMjBweDsgd2lkdGg6IDEwMCU7IH0KICAgICAgICAjdGFyZ2V0LWRpc3BsYXkgeyBmb250LXNpemU6IDI4cHg7IGNvbG9yOiB3aGl0ZTsgbWFyZ2luLWJvdHRvbTogMjBweDsgdGV4dC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsMCwwLDAuMyk7IH0KICAgICAgICAjdGFyZ2V0LWVtb2ppIHsgZm9udC1zaXplOiA2MHB4OyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuOSk7IHBhZGRpbmc6IDE1cHggMzBweDsgYm9yZGVyLXJhZGl1czogMjBweDsgbWFyZ2luLWJvdHRvbTogMzBweDsgfQogICAgICAgICNlbW9qaS1ncmlkIHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMywgMWZyKTsgZ2FwOiAxNXB4OyBtYXgtd2lkdGg6IDM1MHB4OyB9CiAgICAgICAgLmVtb2ppLWJ0biB7IHdpZHRoOiA5MHB4OyBoZWlnaHQ6IDkwcHg7IGZvbnQtc2l6ZTogNTBweDsgYmFja2dyb3VuZDogd2hpdGU7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXJhZGl1czogMjBweDsgY3Vyc29yOiBwb2ludGVyOyBib3gtc2hhZG93OiAwIDZweCAwIHJnYmEoMCwwLDAsMC4xKTsgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMXM7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyB9CiAgICAgICAgLmVtb2ppLWJ0bjphY3RpdmUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoM3B4KTsgYm94LXNoYWRvdzogMCAzcHggMCByZ2JhKDAsMCwwLDAuMSk7IH0KICAgICAgICAuZW1vamktYnRuLmNvcnJlY3QgeyBiYWNrZ3JvdW5kOiAjMkVDQzcxOyBhbmltYXRpb246IHB1bHNlIDAuM3M7IH0KICAgICAgICAuZW1vamktYnRuLndyb25nIHsgYmFja2dyb3VuZDogI0U3NEMzQzsgYW5pbWF0aW9uOiBzaGFrZSAwLjNzOyB9CiAgICAgICAgQGtleWZyYW1lcyBwdWxzZSB7IDAlLCAxMDAlIHsgdHJhbnNmb3JtOiBzY2FsZSgxKTsgfSA1MCUgeyB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7IH0gfQogICAgICAgIEBrZXlmcmFtZXMgc2hha2UgeyAwJSwgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgfSAyNSUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTEwcHgpOyB9IDc1JSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgxMHB4KTsgfSB9CiAgICAgICAgI3RpbWVyLWJhciB7IHdpZHRoOiAzMDBweDsgaGVpZ2h0OiAyMHB4OyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMyk7IGJvcmRlci1yYWRpdXM6IDEwcHg7IG92ZXJmbG93OiBoaWRkZW47IG1hcmdpbi10b3A6IDMwcHg7IH0KICAgICAgICAjdGltZXItZmlsbCB7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZDogIzJFQ0M3MTsgdHJhbnNpdGlvbjogd2lkdGggMC4xcyBsaW5lYXI7IH0KICAgICAgICAjdGltZXItZmlsbC53YXJuaW5nIHsgYmFja2dyb3VuZDogI0YzOUMxMjsgfQogICAgICAgICN0aW1lci1maWxsLmRhbmdlciB7IGJhY2tncm91bmQ6ICNFNzRDM0M7IH0KICAgICAgICAjc3RhcnQtc2NyZWVuLCAjd2luLXNjcmVlbiwgI2xvc2Utc2NyZWVuLCAjbGV2ZWwtc2NyZWVuIHsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNmMDkzZmIgMCUsICNmNTU3NmMgMTAwJSk7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyB6LWluZGV4OiAyMDA7IGdhcDogMjBweDsgfQogICAgICAgICN3aW4tc2NyZWVuIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzExOTk4ZSAwJSwgIzM4ZWY3ZCAxMDAlKTsgfQogICAgICAgICNsb3NlLXNjcmVlbiB7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNFNzRDM0MgMCUsICNjMDM5MmIgMTAwJSk7IH0KICAgICAgICAuc2NyZWVuLXRpdGxlIHsgZm9udC1zaXplOiA0NHB4OyBjb2xvcjogd2hpdGU7IHRleHQtc2hhZG93OiAwIDRweCAwIHJnYmEoMCwwLDAsMC4yKTsgdGV4dC1hbGlnbjogY2VudGVyOyB9CiAgICAgICAgLnNjcmVlbi1pY29uIHsgZm9udC1zaXplOiA3MHB4OyB9CiAgICAgICAgLnN0YXJ0LWJ0biB7IGJhY2tncm91bmQ6ICNGMUM0MEY7IGNvbG9yOiAjMzMzOyBib3JkZXI6IG5vbmU7IHBhZGRpbmc6IDE4cHggNDVweDsgZm9udC1zaXplOiAyNHB4OyBmb250LWZhbWlseTogJ0ZyZWRva2EnLCBzYW5zLXNlcmlmOyBmb250LXdlaWdodDogNzAwOyBib3JkZXItcmFkaXVzOiA1MHB4OyBjdXJzb3I6IHBvaW50ZXI7IGJveC1zaGFkb3c6IDAgNXB4IDAgI0Q0QUMwRDsgfQogICAgICAgIC5zdGFydC1idG46YWN0aXZlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDNweCk7IGJveC1zaGFkb3c6IDAgMnB4IDAgI0Q0QUMwRDsgfQogICAgICAgIC5oaWRkZW4geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0KICAgIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8ZGl2IGlkPSJnYW1lLWNvbnRhaW5lciI+CiAgICAgICAgPGRpdiBpZD0idG9wLWJhciI+CiAgICAgICAgICAgIDxidXR0b24gaWQ9InNvdW5kLXRvZ2dsZSI+8J+UijwvYnV0dG9uPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWJveCI+4q2QIDxzcGFuIGlkPSJzY29yZSI+MDwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPuKdpO+4jyA8c3BhbiBpZD0ibGl2ZXMiPjM8L3NwYW4+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtYm94Ij7wn46vIDxzcGFuIGlkPSJzdHJlYWsiPjA8L3NwYW4+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtYm94Ij5MdiA8c3BhbiBpZD0ibGV2ZWwiPjE8L3NwYW4+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0iZ2FtZS1hcmVhIj4KICAgICAgICAgICAgPGRpdiBpZD0idGFyZ2V0LWRpc3BsYXkiPkZpbmRlOjwvZGl2PgogICAgICAgICAgICA8ZGl2IGlkPSJ0YXJnZXQtZW1vamkiPvCfkLY8L2Rpdj4KICAgICAgICAgICAgPGRpdiBpZD0iZW1vamktZ3JpZCI+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgaWQ9InRpbWVyLWJhciI+PGRpdiBpZD0idGltZXItZmlsbCI+PC9kaXY+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0ic3RhcnQtc2NyZWVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPuKaoTwvZGl2PgogICAgICAgICAgICA8aDEgY2xhc3M9InNjcmVlbi10aXRsZSI+UmVha3Rpb25zLU1laXN0ZXIhPC9oMT4KICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOndoaXRlO2ZvbnQtc2l6ZToxNnB4O3RleHQtYWxpZ246Y2VudGVyOyI+VGlwcGUgc2NobmVsbCBhdWYgZGFzIHJpY2h0aWdlIEVtb2ppITxicj5KZSBzY2huZWxsZXIsIGRlc3RvIG1laHIgUHVua3RlITwvcD4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic3RhcnQtYnRuIiBvbmNsaWNrPSJzdGFydEdhbWUoKSI+8J+OriBTdGFydCE8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJsZXZlbC1zY3JlZW4iIGNsYXNzPSJoaWRkZW4iPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzY3JlZW4taWNvbiI+4pqhPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5MZXZlbCA8c3BhbiBpZD0ibGV2ZWwtbnVtYmVyIj4xPC9zcGFuPjwvaDE+CiAgICAgICAgICAgIDxwIGlkPSJsZXZlbC1kZXNjIiBzdHlsZT0iY29sb3I6d2hpdGU7Zm9udC1zaXplOjE4cHg7Ij48L3A+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0id2luLXNjcmVlbiIgY2xhc3M9ImhpZGRlbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNjcmVlbi1pY29uIj7wn4+GPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5CbGl0enNjaG5lbGwhPC9oMT4KICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOndoaXRlO2ZvbnQtc2l6ZToyNHB4OyI+4q2QIDxzcGFuIGlkPSJmaW5hbC1zY29yZSI+MDwvc3Bhbj48L3A+CiAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjp3aGl0ZTtmb250LXNpemU6MThweDsiPkJlc3RlIFNlcmllOiA8c3BhbiBpZD0iYmVzdC1zdHJlYWsiPjA8L3NwYW4+IPCflKU8L3A+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InN0YXJ0LWJ0biIgb25jbGljaz0ic3RhcnRHYW1lKCkiPvCflIQgTm9jaG1hbCE8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJsb3NlLXNjcmVlbiIgY2xhc3M9ImhpZGRlbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNjcmVlbi1pY29uIj7wn5KUPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5HYW1lIE92ZXIhPC9oMT4KICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOndoaXRlO2ZvbnQtc2l6ZToyNHB4OyI+4q2QIDxzcGFuIGlkPSJsb3NlLXNjb3JlIj4wPC9zcGFuPjwvcD4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic3RhcnQtYnRuIiBvbmNsaWNrPSJzdGFydEdhbWUoKSI+8J+UhCBOb2NobWFsITwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPHNjcmlwdD4KICAgICAgICBjb25zdCB0YXJnZXRFbW9qaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXJnZXQtZW1vamknKTsKICAgICAgICBjb25zdCBlbW9qaUdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1vamktZ3JpZCcpOwogICAgICAgIGNvbnN0IHRpbWVyRmlsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lci1maWxsJyk7CiAgICAgICAgY29uc3Qgc2NvcmVEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlJyk7CiAgICAgICAgY29uc3QgbGl2ZXNEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpdmVzJyk7CiAgICAgICAgY29uc3Qgc3RyZWFrRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdHJlYWsnKTsKICAgICAgICBjb25zdCBsZXZlbERpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwnKTsKICAgICAgICBjb25zdCBsZXZlbE51bWJlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC1udW1iZXInKTsKICAgICAgICBjb25zdCBsZXZlbERlc2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwtZGVzYycpOwogICAgICAgIGNvbnN0IHN0YXJ0U2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0LXNjcmVlbicpOwogICAgICAgIGNvbnN0IHdpblNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aW4tc2NyZWVuJyk7CiAgICAgICAgY29uc3QgbG9zZVNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb3NlLXNjcmVlbicpOwogICAgICAgIGNvbnN0IGxldmVsU2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLXNjcmVlbicpOwogICAgICAgIGNvbnN0IGZpbmFsU2NvcmVEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbmFsLXNjb3JlJyk7CiAgICAgICAgY29uc3QgYmVzdFN0cmVha0Rpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmVzdC1zdHJlYWsnKTsKICAgICAgICBjb25zdCBsb3NlU2NvcmVEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvc2Utc2NvcmUnKTsKICAgICAgICBjb25zdCBzb3VuZFRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb3VuZC10b2dnbGUnKTsKICAgICAgICAKICAgICAgICBsZXQgbGV2ZWwgPSAxLCBzY29yZSA9IDAsIGxpdmVzID0gMywgc3RyZWFrID0gMCwgYmVzdFN0cmVhayA9IDA7CiAgICAgICAgbGV0IHJvdW5kc1BsYXllZCA9IDAsIHJvdW5kc05lZWRlZCA9IDA7CiAgICAgICAgbGV0IGN1cnJlbnRUYXJnZXQgPSAnJywgdGltZUxlZnQgPSAwLCBtYXhUaW1lID0gMDsKICAgICAgICBsZXQgdGltZXJJbnRlcnZhbCA9IG51bGwsIGlzUGxheWluZyA9IGZhbHNlLCBzb3VuZEVuYWJsZWQgPSB0cnVlOwogICAgICAgIGxldCBhdWRpb0N0eCA9IG51bGw7CiAgICAgICAgCiAgICAgICAgY29uc3QgZW1vamlTZXRzID0gWwogICAgICAgICAgICBbJ/CfkLYnLCAn8J+QsScsICfwn5CwJywgJ/CfpoonLCAn8J+QuycsICfwn5C8JywgJ/CfkKgnLCAn8J+QrycsICfwn6aBJ10sCiAgICAgICAgICAgIFsn8J+NjicsICfwn42KJywgJ/CfjYsnLCAn8J+NhycsICfwn42TJywgJ/CfjZEnLCAn8J+NkicsICfwn6WdJywgJ/CfjYwnXSwKICAgICAgICAgICAgWyfwn5qXJywgJ/CfmownLCAn8J+akScsICfwn5qSJywgJ+KciO+4jycsICfwn5qAJywgJ/CfmoInLCAn4pu1JywgJ/CfmoEnXSwKICAgICAgICAgICAgWyfirZAnLCAn8J+MmScsICfimIDvuI8nLCAn8J+MiCcsICfinYTvuI8nLCAn8J+UpScsICfwn5KnJywgJ+KaoScsICfwn4y4J10sCiAgICAgICAgICAgIFsn8J+OiCcsICfwn46BJywgJ/CfjoAnLCAn8J+OqicsICfwn46tJywgJ/CfjqgnLCAn8J+OrycsICfwn46yJywgJ/CfjrgnXQogICAgICAgIF07CiAgICAgICAgCiAgICAgICAgY29uc3QgbGV2ZWxDb25maWdzID0gWwogICAgICAgICAgICB7IHRpbWU6IDMwMDAsIHJvdW5kczogOCwgZ3JpZFNpemU6IDYsIGRlc2M6ICdUaWVyZSAtIDMgU2VrdW5kZW4nIH0sCiAgICAgICAgICAgIHsgdGltZTogMjUwMCwgcm91bmRzOiAxMCwgZ3JpZFNpemU6IDYsIGRlc2M6ICdPYnN0IC0gMi41IFNla3VuZGVuJyB9LAogICAgICAgICAgICB7IHRpbWU6IDIwMDAsIHJvdW5kczogMTAsIGdyaWRTaXplOiA5LCBkZXNjOiAnRmFocnpldWdlIC0gMiBTZWt1bmRlbicgfSwKICAgICAgICAgICAgeyB0aW1lOiAxODAwLCByb3VuZHM6IDEyLCBncmlkU2l6ZTogOSwgZGVzYzogJ05hdHVyIC0gMS44IFNla3VuZGVuJyB9LAogICAgICAgICAgICB7IHRpbWU6IDE1MDAsIHJvdW5kczogMTIsIGdyaWRTaXplOiA5LCBkZXNjOiAnUGFydHkgLSAxLjUgU2VrdW5kZW4nIH0KICAgICAgICBdOwogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGluaXRBdWRpbygpIHsgaWYgKCFhdWRpb0N0eCkgYXVkaW9DdHggPSBuZXcgKHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkoKTsgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHBsYXlTb3VuZCh0eXBlKSB7CiAgICAgICAgICAgIGlmICghc291bmRFbmFibGVkIHx8ICFhdWRpb0N0eCkgcmV0dXJuOwogICAgICAgICAgICBjb25zdCBvc2MgPSBhdWRpb0N0eC5jcmVhdGVPc2NpbGxhdG9yKCksIGdhaW4gPSBhdWRpb0N0eC5jcmVhdGVHYWluKCk7CiAgICAgICAgICAgIG9zYy5jb25uZWN0KGdhaW4pOyBnYWluLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pOwogICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2NvcnJlY3QnKSB7CiAgICAgICAgICAgICAgICBvc2MuZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKDUyMywgYXVkaW9DdHguY3VycmVudFRpbWUpOwogICAgICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDc4NCwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjEpOwogICAgICAgICAgICAgICAgZ2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKDAuMTUsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsKICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4xNSk7CiAgICAgICAgICAgICAgICBvc2Muc3RhcnQoKTsgb3NjLnN0b3AoYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjE1KTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnd3JvbmcnKSB7CiAgICAgICAgICAgICAgICBvc2MuZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKDIwMCwgYXVkaW9DdHguY3VycmVudFRpbWUpOwogICAgICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDEwMCwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjIpOwogICAgICAgICAgICAgICAgZ2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKDAuMTUsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsKICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4yNSk7CiAgICAgICAgICAgICAgICBvc2Muc3RhcnQoKTsgb3NjLnN0b3AoYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjI1KTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAndGltZW91dCcpIHsKICAgICAgICAgICAgICAgIG9zYy5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoMTUwLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4xLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBnYWluLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAxLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMyk7CiAgICAgICAgICAgICAgICBvc2Muc3RhcnQoKTsgb3NjLnN0b3AoYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjMpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHNvdW5kVG9nZ2xlLm9uY2xpY2sgPSAoKSA9PiB7IHNvdW5kRW5hYmxlZCA9ICFzb3VuZEVuYWJsZWQ7IHNvdW5kVG9nZ2xlLnRleHRDb250ZW50ID0gc291bmRFbmFibGVkID8gJ/CflIonIDogJ/CflIcnOyB9OwogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHNldHVwUm91bmQoKSB7CiAgICAgICAgICAgIGlmIChyb3VuZHNQbGF5ZWQgPj0gcm91bmRzTmVlZGVkKSB7CiAgICAgICAgICAgICAgICBsZXZlbENvbXBsZXRlKCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IGxldmVsQ29uZmlnc1tsZXZlbCAtIDFdOwogICAgICAgICAgICBjb25zdCBlbW9qaXMgPSBlbW9qaVNldHNbbGV2ZWwgLSAxXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFNlbGVjdCByYW5kb20gZW1vamlzIGZvciBncmlkCiAgICAgICAgICAgIGNvbnN0IHNodWZmbGVkID0gWy4uLmVtb2ppc10uc29ydCgoKSA9PiBNYXRoLnJhbmRvbSgpIC0gMC41KTsKICAgICAgICAgICAgY29uc3QgZ3JpZEVtb2ppcyA9IHNodWZmbGVkLnNsaWNlKDAsIGNvbmZpZy5ncmlkU2l6ZSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBQaWNrIHRhcmdldAogICAgICAgICAgICBjdXJyZW50VGFyZ2V0ID0gZ3JpZEVtb2ppc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBncmlkRW1vamlzLmxlbmd0aCldOwogICAgICAgICAgICB0YXJnZXRFbW9qaS50ZXh0Q29udGVudCA9IGN1cnJlbnRUYXJnZXQ7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBTaHVmZmxlIGFnYWluIGZvciBkaXNwbGF5CiAgICAgICAgICAgIGdyaWRFbW9qaXMuc29ydCgoKSA9PiBNYXRoLnJhbmRvbSgpIC0gMC41KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIENyZWF0ZSBncmlkCiAgICAgICAgICAgIGVtb2ppR3JpZC5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgY29uc3QgY29scyA9IGNvbmZpZy5ncmlkU2l6ZSA8PSA2ID8gMyA6IDM7CiAgICAgICAgICAgIGVtb2ppR3JpZC5zdHlsZS5ncmlkVGVtcGxhdGVDb2x1bW5zID0gYHJlcGVhdCgke2NvbHN9LCAxZnIpYDsKICAgICAgICAgICAgCiAgICAgICAgICAgIGdyaWRFbW9qaXMuZm9yRWFjaChlbW9qaSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgICAgIGJ0bi5jbGFzc05hbWUgPSAnZW1vamktYnRuJzsKICAgICAgICAgICAgICAgIGJ0bi50ZXh0Q29udGVudCA9IGVtb2ppOwogICAgICAgICAgICAgICAgYnRuLm9uY2xpY2sgPSAoKSA9PiBoYW5kbGVDaG9pY2UoZW1vamksIGJ0bik7CiAgICAgICAgICAgICAgICBlbW9qaUdyaWQuYXBwZW5kQ2hpbGQoYnRuKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBTdGFydCB0aW1lcgogICAgICAgICAgICBtYXhUaW1lID0gY29uZmlnLnRpbWU7CiAgICAgICAgICAgIHRpbWVMZWZ0ID0gbWF4VGltZTsKICAgICAgICAgICAgdGltZXJGaWxsLnN0eWxlLndpZHRoID0gJzEwMCUnOwogICAgICAgICAgICB0aW1lckZpbGwuY2xhc3NOYW1lID0gJyc7CiAgICAgICAgICAgIAogICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySW50ZXJ2YWwpOwogICAgICAgICAgICB0aW1lckludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICAgICAgdGltZUxlZnQgLT0gNTA7CiAgICAgICAgICAgICAgICBjb25zdCBwZXJjZW50ID0gKHRpbWVMZWZ0IC8gbWF4VGltZSkgKiAxMDA7CiAgICAgICAgICAgICAgICB0aW1lckZpbGwuc3R5bGUud2lkdGggPSBwZXJjZW50ICsgJyUnOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAocGVyY2VudCA8IDMwKSB0aW1lckZpbGwuY2xhc3NOYW1lID0gJ2Rhbmdlcic7CiAgICAgICAgICAgICAgICBlbHNlIGlmIChwZXJjZW50IDwgNjApIHRpbWVyRmlsbC5jbGFzc05hbWUgPSAnd2FybmluZyc7CiAgICAgICAgICAgICAgICBlbHNlIHRpbWVyRmlsbC5jbGFzc05hbWUgPSAnJzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKHRpbWVMZWZ0IDw9IDApIHsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySW50ZXJ2YWwpOwogICAgICAgICAgICAgICAgICAgIGhhbmRsZVRpbWVvdXQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgNTApOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBoYW5kbGVDaG9pY2UoZW1vamksIGJ0bikgewogICAgICAgICAgICBpZiAoIWlzUGxheWluZykgcmV0dXJuOwogICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySW50ZXJ2YWwpOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGVtb2ppID09PSBjdXJyZW50VGFyZ2V0KSB7CiAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZCgnY29ycmVjdCcpOwogICAgICAgICAgICAgICAgcGxheVNvdW5kKCdjb3JyZWN0Jyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIEJvbnVzIGZvciBzcGVlZAogICAgICAgICAgICAgICAgY29uc3Qgc3BlZWRCb251cyA9IE1hdGguZmxvb3IoKHRpbWVMZWZ0IC8gbWF4VGltZSkgKiAyMCk7CiAgICAgICAgICAgICAgICBjb25zdCBwb2ludHMgPSAxMCArIHNwZWVkQm9udXM7CiAgICAgICAgICAgICAgICBzY29yZSArPSBwb2ludHM7CiAgICAgICAgICAgICAgICBzdHJlYWsrKzsKICAgICAgICAgICAgICAgIGJlc3RTdHJlYWsgPSBNYXRoLm1heChiZXN0U3RyZWFrLCBzdHJlYWspOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzY29yZURpc3BsYXkudGV4dENvbnRlbnQgPSBzY29yZTsKICAgICAgICAgICAgICAgIHN0cmVha0Rpc3BsYXkudGV4dENvbnRlbnQgPSBzdHJlYWs7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJvdW5kc1BsYXllZCsrOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHNldHVwUm91bmQsIDUwMCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZCgnd3JvbmcnKTsKICAgICAgICAgICAgICAgIHBsYXlTb3VuZCgnd3JvbmcnKTsKICAgICAgICAgICAgICAgIHN0cmVhayA9IDA7CiAgICAgICAgICAgICAgICBzdHJlYWtEaXNwbGF5LnRleHRDb250ZW50ID0gc3RyZWFrOwogICAgICAgICAgICAgICAgbGl2ZXMtLTsKICAgICAgICAgICAgICAgIGxpdmVzRGlzcGxheS50ZXh0Q29udGVudCA9IGxpdmVzOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAobGl2ZXMgPD0gMCkgewogICAgICAgICAgICAgICAgICAgIGdhbWVPdmVyKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoc2V0dXBSb3VuZCwgNTAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkgewogICAgICAgICAgICBwbGF5U291bmQoJ3RpbWVvdXQnKTsKICAgICAgICAgICAgc3RyZWFrID0gMDsKICAgICAgICAgICAgc3RyZWFrRGlzcGxheS50ZXh0Q29udGVudCA9IHN0cmVhazsKICAgICAgICAgICAgbGl2ZXMtLTsKICAgICAgICAgICAgbGl2ZXNEaXNwbGF5LnRleHRDb250ZW50ID0gbGl2ZXM7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBGbGFzaCBhbGwgYnV0dG9ucyByZWQKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVtb2ppLWJ0bicpLmZvckVhY2goYnRuID0+IHsKICAgICAgICAgICAgICAgIGlmIChidG4udGV4dENvbnRlbnQgPT09IGN1cnJlbnRUYXJnZXQpIHsKICAgICAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZCgnY29ycmVjdCcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChsaXZlcyA8PSAwKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGdhbWVPdmVyLCA1MDApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcm91bmRzUGxheWVkKys7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHNldHVwUm91bmQsIDgwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gbGV2ZWxDb21wbGV0ZSgpIHsKICAgICAgICAgICAgaXNQbGF5aW5nID0gZmFsc2U7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJbnRlcnZhbCk7CiAgICAgICAgICAgIGxldmVsKys7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAobGV2ZWwgPiA1KSB7CiAgICAgICAgICAgICAgICBmaW5hbFNjb3JlRGlzcGxheS50ZXh0Q29udGVudCA9IHNjb3JlOwogICAgICAgICAgICAgICAgYmVzdFN0cmVha0Rpc3BsYXkudGV4dENvbnRlbnQgPSBiZXN0U3RyZWFrOwogICAgICAgICAgICAgICAgd2luU2NyZWVuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2hvd0xldmVsU2NyZWVuKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gZ2FtZU92ZXIoKSB7CiAgICAgICAgICAgIGlzUGxheWluZyA9IGZhbHNlOwogICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySW50ZXJ2YWwpOwogICAgICAgICAgICBsb3NlU2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7CiAgICAgICAgICAgIGxvc2VTY3JlZW4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHNob3dMZXZlbFNjcmVlbigpIHsKICAgICAgICAgICAgY29uc3QgY29uZmlnID0gbGV2ZWxDb25maWdzW2xldmVsIC0gMV07CiAgICAgICAgICAgIGxldmVsTnVtYmVyLnRleHRDb250ZW50ID0gbGV2ZWw7CiAgICAgICAgICAgIGxldmVsRGVzYy50ZXh0Q29udGVudCA9IGNvbmZpZy5kZXNjOwogICAgICAgICAgICBsZXZlbFNjcmVlbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgbGV2ZWxTY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgICAgICByb3VuZHNQbGF5ZWQgPSAwOwogICAgICAgICAgICAgICAgcm91bmRzTmVlZGVkID0gY29uZmlnLnJvdW5kczsKICAgICAgICAgICAgICAgIGxldmVsRGlzcGxheS50ZXh0Q29udGVudCA9IGxldmVsOwogICAgICAgICAgICAgICAgaXNQbGF5aW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHNldHVwUm91bmQoKTsKICAgICAgICAgICAgfSwgMTUwMCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHN0YXJ0R2FtZSgpIHsKICAgICAgICAgICAgaW5pdEF1ZGlvKCk7CiAgICAgICAgICAgIHNjb3JlID0gMDsKICAgICAgICAgICAgbGV2ZWwgPSAxOwogICAgICAgICAgICBsaXZlcyA9IDM7CiAgICAgICAgICAgIHN0cmVhayA9IDA7CiAgICAgICAgICAgIGJlc3RTdHJlYWsgPSAwOwogICAgICAgICAgICByb3VuZHNQbGF5ZWQgPSAwOwogICAgICAgICAgICAKICAgICAgICAgICAgc2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7CiAgICAgICAgICAgIGxpdmVzRGlzcGxheS50ZXh0Q29udGVudCA9IGxpdmVzOwogICAgICAgICAgICBzdHJlYWtEaXNwbGF5LnRleHRDb250ZW50ID0gc3RyZWFrOwogICAgICAgICAgICBsZXZlbERpc3BsYXkudGV4dENvbnRlbnQgPSBsZXZlbDsKICAgICAgICAgICAgCiAgICAgICAgICAgIHN0YXJ0U2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgICAgICB3aW5TY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgIGxvc2VTY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBjb25maWcgPSBsZXZlbENvbmZpZ3NbMF07CiAgICAgICAgICAgIHJvdW5kc05lZWRlZCA9IGNvbmZpZy5yb3VuZHM7CiAgICAgICAgICAgIGlzUGxheWluZyA9IHRydWU7CiAgICAgICAgICAgIHNldHVwUm91bmQoKTsKICAgICAgICB9CiAgICA8L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+Cg==';
GAMES['ballon'] = 'PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImRlIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyI+CiAgICA8dGl0bGU+8J+OiCBCYWxsb24tUGxhdHplciE8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICAgIEBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PUZyZWRva2E6d2dodEA0MDA7NjAwOzcwMCZkaXNwbGF5PXN3YXAnKTsKICAgICAgICAqIHsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9CiAgICAgICAgYm9keSB7IGZvbnQtZmFtaWx5OiAnRnJlZG9rYScsIHNhbnMtc2VyaWY7IG1pbi1oZWlnaHQ6IDEwMHZoOyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNzRlYmQ1IDAlLCAjQUNCNkU1IDEwMCUpOyBvdmVyZmxvdzogaGlkZGVuOyB0b3VjaC1hY3Rpb246IG5vbmU7IH0KICAgICAgICAjZ2FtZS1jb250YWluZXIgeyBwb3NpdGlvbjogcmVsYXRpdmU7IHdpZHRoOiAxMDB2dzsgaGVpZ2h0OiAxMDB2aDsgfQogICAgICAgICN0b3AtYmFyIHsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDEwcHg7IGxlZnQ6IDA7IHJpZ2h0OiAwOyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiAxNXB4OyB6LWluZGV4OiAxMDA7IHBhZGRpbmc6IDAgMTVweDsgZmxleC13cmFwOiB3cmFwOyB9CiAgICAgICAgLnN0YXQtYm94IHsgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjkpOyBjb2xvcjogIzMzMzsgcGFkZGluZzogOHB4IDIwcHg7IGJvcmRlci1yYWRpdXM6IDI1cHg7IGZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IDYwMDsgYm94LXNoYWRvdzogMCA0cHggMTVweCByZ2JhKDAsMCwwLDAuMSk7IH0KICAgICAgICAjc291bmQtdG9nZ2xlIHsgYmFja2dyb3VuZDogIzM0OThEQjsgYm9yZGVyOiBub25lOyBwYWRkaW5nOiA4cHggMTVweDsgYm9yZGVyLXJhZGl1czogMjVweDsgZm9udC1zaXplOiAxOHB4OyBjdXJzb3I6IHBvaW50ZXI7IH0KICAgICAgICAjZ2FtZS1hcmVhIHsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgcG9zaXRpb246IHJlbGF0aXZlOyBvdmVyZmxvdzogaGlkZGVuOyB9CiAgICAgICAgLmJhbGxvb24geyBwb3NpdGlvbjogYWJzb2x1dGU7IGN1cnNvcjogcG9pbnRlcjsgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMXM7IHVzZXItc2VsZWN0OiBub25lOyB9CiAgICAgICAgLmJhbGxvb246YWN0aXZlIHsgdHJhbnNmb3JtOiBzY2FsZSgwLjkpOyB9CiAgICAgICAgLnBvcC1lZmZlY3QgeyBwb3NpdGlvbjogYWJzb2x1dGU7IHBvaW50ZXItZXZlbnRzOiBub25lOyBmb250LXNpemU6IDQwcHg7IGFuaW1hdGlvbjogcG9wIDAuNHMgZWFzZS1vdXQgZm9yd2FyZHM7IH0KICAgICAgICBAa2V5ZnJhbWVzIHBvcCB7IDAlIHsgdHJhbnNmb3JtOiBzY2FsZSgxKTsgb3BhY2l0eTogMTsgfSAxMDAlIHsgdHJhbnNmb3JtOiBzY2FsZSgyKTsgb3BhY2l0eTogMDsgfSB9CiAgICAgICAgLnBvaW50cy1wb3B1cCB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgcG9pbnRlci1ldmVudHM6IG5vbmU7IGZvbnQtc2l6ZTogMjRweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGFuaW1hdGlvbjogZmxvYXRVcCAwLjhzIGVhc2Utb3V0IGZvcndhcmRzOyB9CiAgICAgICAgQGtleWZyYW1lcyBmbG9hdFVwIHsgMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7IG9wYWNpdHk6IDE7IH0gMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTBweCk7IG9wYWNpdHk6IDA7IH0gfQogICAgICAgICNzdGFydC1zY3JlZW4sICN3aW4tc2NyZWVuLCAjbG9zZS1zY3JlZW4sICNsZXZlbC1zY3JlZW4geyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzc0ZWJkNSAwJSwgI0FDQjZFNSAxMDAlKTsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IHotaW5kZXg6IDIwMDsgZ2FwOiAyMHB4OyB9CiAgICAgICAgI3dpbi1zY3JlZW4geyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMTE5OThlIDAlLCAjMzhlZjdkIDEwMCUpOyB9CiAgICAgICAgI2xvc2Utc2NyZWVuIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI0U3NEMzQyAwJSwgI2MwMzkyYiAxMDAlKTsgfQogICAgICAgIC5zY3JlZW4tdGl0bGUgeyBmb250LXNpemU6IDQ4cHg7IGNvbG9yOiB3aGl0ZTsgdGV4dC1zaGFkb3c6IDAgNHB4IDAgcmdiYSgwLDAsMCwwLjIpOyB0ZXh0LWFsaWduOiBjZW50ZXI7IH0KICAgICAgICAuc2NyZWVuLWljb24geyBmb250LXNpemU6IDgwcHg7IH0KICAgICAgICAuc3RhcnQtYnRuIHsgYmFja2dyb3VuZDogI0YxQzQwRjsgY29sb3I6ICMzMzM7IGJvcmRlcjogbm9uZTsgcGFkZGluZzogMThweCA0NXB4OyBmb250LXNpemU6IDI0cHg7IGZvbnQtZmFtaWx5OiAnRnJlZG9rYScsIHNhbnMtc2VyaWY7IGZvbnQtd2VpZ2h0OiA3MDA7IGJvcmRlci1yYWRpdXM6IDUwcHg7IGN1cnNvcjogcG9pbnRlcjsgYm94LXNoYWRvdzogMCA1cHggMCAjRDRBQzBEOyB9CiAgICAgICAgLnN0YXJ0LWJ0bjphY3RpdmUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoM3B4KTsgYm94LXNoYWRvdzogMCAycHggMCAjRDRBQzBEOyB9CiAgICAgICAgLmhpZGRlbiB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfQogICAgICAgIC5pbnN0cnVjdGlvbnMgeyBjb2xvcjogd2hpdGU7IGZvbnQtc2l6ZTogMTZweDsgdGV4dC1hbGlnbjogY2VudGVyOyBsaW5lLWhlaWdodDogMS41OyB9CiAgICAgICAgI3Byb2dyZXNzLWJhciB7IHdpZHRoOiAyMDBweDsgaGVpZ2h0OiAyMHB4OyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMyk7IGJvcmRlci1yYWRpdXM6IDEwcHg7IG92ZXJmbG93OiBoaWRkZW47IH0KICAgICAgICAjcHJvZ3Jlc3MtZmlsbCB7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZDogIzJFQ0M3MTsgdHJhbnNpdGlvbjogd2lkdGggMC4zczsgfQogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgaWQ9ImdhbWUtY29udGFpbmVyIj4KICAgICAgICA8ZGl2IGlkPSJ0b3AtYmFyIj4KICAgICAgICAgICAgPGJ1dHRvbiBpZD0ic291bmQtdG9nZ2xlIj7wn5SKPC9idXR0b24+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtYm94Ij7wn46IIDxzcGFuIGlkPSJwb3BwZWQiPjA8L3NwYW4+LzxzcGFuIGlkPSJ0YXJnZXQiPjEwPC9zcGFuPjwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWJveCI+4q2QIDxzcGFuIGlkPSJzY29yZSI+MDwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPuKdpO+4jyA8c3BhbiBpZD0ibGl2ZXMiPjM8L3NwYW4+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtYm94Ij5MZXZlbCA8c3BhbiBpZD0ibGV2ZWwiPjE8L3NwYW4+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBpZD0iZ2FtZS1hcmVhIj48L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJzdGFydC1zY3JlZW4iPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzY3JlZW4taWNvbiI+8J+OiDwvZGl2PgogICAgICAgICAgICA8aDEgY2xhc3M9InNjcmVlbi10aXRsZSI+QmFsbG9uLVBsYXR6ZXIhPC9oMT4KICAgICAgICAgICAgPHAgY2xhc3M9Imluc3RydWN0aW9ucyI+UGxhdHplIGRpZSBidW50ZW4gQmFsbG9ucyE8YnI+4pqrIFNjaHdhcnplIEJhbGxvbnMgPSBMZWJlbiB2ZXJsaWVyZW4hPGJyPuKtkCBHb2xkZW5lIEJhbGxvbnMgPSBCb251cyE8L3A+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InN0YXJ0LWJ0biIgb25jbGljaz0ic3RhcnRHYW1lKCkiPvCfjq4gU3RhcnQhPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0ibGV2ZWwtc2NyZWVuIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPvCfjog8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPkxldmVsIDxzcGFuIGlkPSJsZXZlbC1udW1iZXIiPjE8L3NwYW4+PC9oMT4KICAgICAgICAgICAgPGRpdiBpZD0icHJvZ3Jlc3MtYmFyIj48ZGl2IGlkPSJwcm9ncmVzcy1maWxsIj48L2Rpdj48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJ3aW4tc2NyZWVuIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPvCfj4Y8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPlN1cGVyITwvaDE+CiAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjp3aGl0ZTtmb250LXNpemU6MjRweDsiPkFsbGUgTGV2ZWwgZ2VzY2hhZmZ0ITwvcD4KICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOndoaXRlO2ZvbnQtc2l6ZTozMnB4OyI+4q2QIDxzcGFuIGlkPSJmaW5hbC1zY29yZSI+MDwvc3Bhbj48L3A+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InN0YXJ0LWJ0biIgb25jbGljaz0ic3RhcnRHYW1lKCkiPvCflIQgTm9jaG1hbCE8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJsb3NlLXNjcmVlbiIgY2xhc3M9ImhpZGRlbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNjcmVlbi1pY29uIj7wn5KUPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5HYW1lIE92ZXIhPC9oMT4KICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOndoaXRlO2ZvbnQtc2l6ZToyNHB4OyI+4q2QIDxzcGFuIGlkPSJsb3NlLXNjb3JlIj4wPC9zcGFuPjwvcD4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic3RhcnQtYnRuIiBvbmNsaWNrPSJzdGFydEdhbWUoKSI+8J+UhCBOb2NobWFsITwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPHNjcmlwdD4KICAgICAgICBjb25zdCBnYW1lQXJlYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWFyZWEnKTsKICAgICAgICBjb25zdCBwb3BwZWREaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvcHBlZCcpOwogICAgICAgIGNvbnN0IHRhcmdldERpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFyZ2V0Jyk7CiAgICAgICAgY29uc3Qgc2NvcmVEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlJyk7CiAgICAgICAgY29uc3QgbGl2ZXNEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpdmVzJyk7CiAgICAgICAgY29uc3QgbGV2ZWxEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsJyk7CiAgICAgICAgY29uc3QgbGV2ZWxOdW1iZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwtbnVtYmVyJyk7CiAgICAgICAgY29uc3QgcHJvZ3Jlc3NGaWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzLWZpbGwnKTsKICAgICAgICBjb25zdCBzdGFydFNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydC1zY3JlZW4nKTsKICAgICAgICBjb25zdCB3aW5TY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2luLXNjcmVlbicpOwogICAgICAgIGNvbnN0IGxvc2VTY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9zZS1zY3JlZW4nKTsKICAgICAgICBjb25zdCBsZXZlbFNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC1zY3JlZW4nKTsKICAgICAgICBjb25zdCBmaW5hbFNjb3JlRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaW5hbC1zY29yZScpOwogICAgICAgIGNvbnN0IGxvc2VTY29yZURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9zZS1zY29yZScpOwogICAgICAgIGNvbnN0IHNvdW5kVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvdW5kLXRvZ2dsZScpOwogICAgICAgIAogICAgICAgIGxldCBzY29yZSA9IDAsIGxldmVsID0gMSwgbGl2ZXMgPSAzLCBwb3BwZWQgPSAwLCB0YXJnZXQgPSAwOwogICAgICAgIGxldCBpc1BsYXlpbmcgPSBmYWxzZSwgc291bmRFbmFibGVkID0gdHJ1ZTsKICAgICAgICBsZXQgYmFsbG9vbnMgPSBbXSwgc3Bhd25JbnRlcnZhbCA9IG51bGw7CiAgICAgICAgbGV0IGF1ZGlvQ3R4ID0gbnVsbDsKICAgICAgICAKICAgICAgICBjb25zdCBsZXZlbENvbmZpZ3MgPSBbCiAgICAgICAgICAgIHsgdGFyZ2V0OiAxMCwgc3BlZWQ6IDIsIHNwYXduUmF0ZTogMTIwMCwgYmxhY2tDaGFuY2U6IDAuMSwgZ29sZENoYW5jZTogMC4xIH0sCiAgICAgICAgICAgIHsgdGFyZ2V0OiAxNSwgc3BlZWQ6IDIuNSwgc3Bhd25SYXRlOiAxMDAwLCBibGFja0NoYW5jZTogMC4xNSwgZ29sZENoYW5jZTogMC4xIH0sCiAgICAgICAgICAgIHsgdGFyZ2V0OiAyMCwgc3BlZWQ6IDMsIHNwYXduUmF0ZTogOTAwLCBibGFja0NoYW5jZTogMC4yLCBnb2xkQ2hhbmNlOiAwLjEyIH0sCiAgICAgICAgICAgIHsgdGFyZ2V0OiAyNSwgc3BlZWQ6IDMuNSwgc3Bhd25SYXRlOiA4MDAsIGJsYWNrQ2hhbmNlOiAwLjIyLCBnb2xkQ2hhbmNlOiAwLjEyIH0sCiAgICAgICAgICAgIHsgdGFyZ2V0OiAzMCwgc3BlZWQ6IDQsIHNwYXduUmF0ZTogNzAwLCBibGFja0NoYW5jZTogMC4yNSwgZ29sZENoYW5jZTogMC4xNSB9CiAgICAgICAgXTsKICAgICAgICAKICAgICAgICBjb25zdCBjb2xvcnMgPSBbJyNFNzRDM0MnLCAnIzM0OThEQicsICcjMkVDQzcxJywgJyM5QjU5QjYnLCAnI0YzOUMxMicsICcjMUFCQzlDJywgJyNFOTFFNjMnXTsKICAgICAgICAKICAgICAgICBmdW5jdGlvbiBpbml0QXVkaW8oKSB7IGlmICghYXVkaW9DdHgpIGF1ZGlvQ3R4ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKCk7IH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBwbGF5U291bmQodHlwZSkgewogICAgICAgICAgICBpZiAoIXNvdW5kRW5hYmxlZCB8fCAhYXVkaW9DdHgpIHJldHVybjsKICAgICAgICAgICAgY29uc3Qgb3NjID0gYXVkaW9DdHguY3JlYXRlT3NjaWxsYXRvcigpLCBnYWluID0gYXVkaW9DdHguY3JlYXRlR2FpbigpOwogICAgICAgICAgICBvc2MuY29ubmVjdChnYWluKTsgZ2Fpbi5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTsKICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdwb3AnKSB7CiAgICAgICAgICAgICAgICBvc2MuZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKDgwMCwgYXVkaW9DdHguY3VycmVudFRpbWUpOwogICAgICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDIwMCwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjEpOwogICAgICAgICAgICAgICAgZ2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKDAuMTUsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsKICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4xKTsKICAgICAgICAgICAgICAgIG9zYy5zdGFydCgpOyBvc2Muc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2dvbGQnKSB7CiAgICAgICAgICAgICAgICBbODAwLCAxMDAwLCAxMjAwXS5mb3JFYWNoKChmLCBpKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbyA9IGF1ZGlvQ3R4LmNyZWF0ZU9zY2lsbGF0b3IoKSwgZyA9IGF1ZGlvQ3R4LmNyZWF0ZUdhaW4oKTsKICAgICAgICAgICAgICAgICAgICBvLmNvbm5lY3QoZyk7IGcuY29ubmVjdChhdWRpb0N0eC5kZXN0aW5hdGlvbik7CiAgICAgICAgICAgICAgICAgICAgby5mcmVxdWVuY3kudmFsdWUgPSBmOwogICAgICAgICAgICAgICAgICAgIGcuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMDgpOwogICAgICAgICAgICAgICAgICAgIGcuZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMDggKyAwLjE1KTsKICAgICAgICAgICAgICAgICAgICBvLnN0YXJ0KGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMDgpOwogICAgICAgICAgICAgICAgICAgIG8uc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjA4ICsgMC4xNSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnYmFkJykgewogICAgICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZSgyMDAsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsKICAgICAgICAgICAgICAgIG9zYy5mcmVxdWVuY3kuZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSg1MCwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjMpOwogICAgICAgICAgICAgICAgZ2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKDAuMiwgYXVkaW9DdHguY3VycmVudFRpbWUpOwogICAgICAgICAgICAgICAgZ2Fpbi5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjMpOwogICAgICAgICAgICAgICAgb3NjLnN0YXJ0KCk7IG9zYy5zdG9wKGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4zKTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnbWlzcycpIHsKICAgICAgICAgICAgICAgIG9zYy5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoMTUwLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4xLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBnYWluLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAxLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMik7CiAgICAgICAgICAgICAgICBvc2Muc3RhcnQoKTsgb3NjLnN0b3AoYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjIpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHNvdW5kVG9nZ2xlLm9uY2xpY2sgPSAoKSA9PiB7IHNvdW5kRW5hYmxlZCA9ICFzb3VuZEVuYWJsZWQ7IHNvdW5kVG9nZ2xlLnRleHRDb250ZW50ID0gc291bmRFbmFibGVkID8gJ/CflIonIDogJ/CflIcnOyB9OwogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUJhbGxvb24oKSB7CiAgICAgICAgICAgIGlmICghaXNQbGF5aW5nKSByZXR1cm47CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBjb25maWcgPSBsZXZlbENvbmZpZ3NbbGV2ZWwgLSAxXTsKICAgICAgICAgICAgY29uc3QgYmFsbG9vbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICBiYWxsb29uLmNsYXNzTmFtZSA9ICdiYWxsb29uJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IHJhbmQgPSBNYXRoLnJhbmRvbSgpOwogICAgICAgICAgICBsZXQgdHlwZSA9ICdub3JtYWwnOwogICAgICAgICAgICBsZXQgY29sb3IgPSBjb2xvcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY29sb3JzLmxlbmd0aCldOwogICAgICAgICAgICBsZXQgcG9pbnRzID0gMTA7CiAgICAgICAgICAgIGxldCBzaXplID0gNTAgKyBNYXRoLnJhbmRvbSgpICogMjA7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAocmFuZCA8IGNvbmZpZy5ibGFja0NoYW5jZSkgewogICAgICAgICAgICAgICAgdHlwZSA9ICdibGFjayc7CiAgICAgICAgICAgICAgICBjb2xvciA9ICcjMWExYTFhJzsKICAgICAgICAgICAgICAgIHBvaW50cyA9IC0xOyAvLyBMb3NlIGxpZmUKICAgICAgICAgICAgICAgIHNpemUgPSA0NSArIE1hdGgucmFuZG9tKCkgKiAxNTsKICAgICAgICAgICAgfSBlbHNlIGlmIChyYW5kIDwgY29uZmlnLmJsYWNrQ2hhbmNlICsgY29uZmlnLmdvbGRDaGFuY2UpIHsKICAgICAgICAgICAgICAgIHR5cGUgPSAnZ29sZCc7CiAgICAgICAgICAgICAgICBjb2xvciA9ICcjRkZENzAwJzsKICAgICAgICAgICAgICAgIHBvaW50cyA9IDUwOwogICAgICAgICAgICAgICAgc2l6ZSA9IDQwICsgTWF0aC5yYW5kb20oKSAqIDEwOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBiYWxsb29uLmRhdGFzZXQudHlwZSA9IHR5cGU7CiAgICAgICAgICAgIGJhbGxvb24uZGF0YXNldC5wb2ludHMgPSBwb2ludHM7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCB4ID0gMjAgKyBNYXRoLnJhbmRvbSgpICogKHdpbmRvdy5pbm5lcldpZHRoIC0gNjApOwogICAgICAgICAgICBiYWxsb29uLnN0eWxlLmxlZnQgPSB4ICsgJ3B4JzsKICAgICAgICAgICAgYmFsbG9vbi5zdHlsZS5ib3R0b20gPSAnLTgwcHgnOwogICAgICAgICAgICBiYWxsb29uLnN0eWxlLmZvbnRTaXplID0gc2l6ZSArICdweCc7CiAgICAgICAgICAgIGJhbGxvb24uaW5uZXJIVE1MID0gJ/CfjognOwogICAgICAgICAgICBiYWxsb29uLnN0eWxlLmZpbHRlciA9IHR5cGUgPT09ICdibGFjaycgPyAnZ3JheXNjYWxlKDEwMCUpIGJyaWdodG5lc3MoMC4zKScgOiAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlID09PSAnZ29sZCcgPyAnc2VwaWEoMTAwJSkgc2F0dXJhdGUoMzAwJSkgaHVlLXJvdGF0ZSgxMGRlZyknIDogCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGh1ZS1yb3RhdGUoJHtNYXRoLnJhbmRvbSgpICogMzYwfWRlZylgOwogICAgICAgICAgICAKICAgICAgICAgICAgYmFsbG9vbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHBvcEJhbGxvb24oYmFsbG9vbikpOwogICAgICAgICAgICBiYWxsb29uLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoZSkgPT4geyBlLnByZXZlbnREZWZhdWx0KCk7IHBvcEJhbGxvb24oYmFsbG9vbik7IH0sIHsgcGFzc2l2ZTogZmFsc2UgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBnYW1lQXJlYS5hcHBlbmRDaGlsZChiYWxsb29uKTsKICAgICAgICAgICAgYmFsbG9vbnMucHVzaCh7IGVsZW1lbnQ6IGJhbGxvb24sIHNwZWVkOiBjb25maWcuc3BlZWQgKyBNYXRoLnJhbmRvbSgpICogMS41LCB5OiAtODAgfSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHBvcEJhbGxvb24oYmFsbG9vbikgewogICAgICAgICAgICBpZiAoIWJhbGxvb24ucGFyZW50Tm9kZSkgcmV0dXJuOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgdHlwZSA9IGJhbGxvb24uZGF0YXNldC50eXBlOwogICAgICAgICAgICBjb25zdCBwb2ludHMgPSBwYXJzZUludChiYWxsb29uLmRhdGFzZXQucG9pbnRzKTsKICAgICAgICAgICAgY29uc3QgcmVjdCA9IGJhbGxvb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2JsYWNrJykgewogICAgICAgICAgICAgICAgbGl2ZXMtLTsKICAgICAgICAgICAgICAgIGxpdmVzRGlzcGxheS50ZXh0Q29udGVudCA9IGxpdmVzOwogICAgICAgICAgICAgICAgcGxheVNvdW5kKCdiYWQnKTsKICAgICAgICAgICAgICAgIHNob3dQb3BFZmZlY3QocmVjdC5sZWZ0ICsgcmVjdC53aWR0aC8yLCByZWN0LnRvcCArIHJlY3QuaGVpZ2h0LzIsICfwn5KlJyk7CiAgICAgICAgICAgICAgICBzaG93UG9pbnRzUG9wdXAocmVjdC5sZWZ0ICsgcmVjdC53aWR0aC8yLCByZWN0LnRvcCwgJy3inaTvuI8nLCAnI0U3NEMzQycpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAobGl2ZXMgPD0gMCkgewogICAgICAgICAgICAgICAgICAgIGdhbWVPdmVyKCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcG9wcGVkKys7CiAgICAgICAgICAgICAgICBzY29yZSArPSBwb2ludHM7CiAgICAgICAgICAgICAgICBwb3BwZWREaXNwbGF5LnRleHRDb250ZW50ID0gcG9wcGVkOwogICAgICAgICAgICAgICAgc2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7CiAgICAgICAgICAgICAgICBwbGF5U291bmQodHlwZSA9PT0gJ2dvbGQnID8gJ2dvbGQnIDogJ3BvcCcpOwogICAgICAgICAgICAgICAgc2hvd1BvcEVmZmVjdChyZWN0LmxlZnQgKyByZWN0LndpZHRoLzIsIHJlY3QudG9wICsgcmVjdC5oZWlnaHQvMiwgJ/CfkqUnKTsKICAgICAgICAgICAgICAgIHNob3dQb2ludHNQb3B1cChyZWN0LmxlZnQgKyByZWN0LndpZHRoLzIsIHJlY3QudG9wLCAnKycgKyBwb2ludHMsIHR5cGUgPT09ICdnb2xkJyA/ICcjRkZENzAwJyA6ICcjMkVDQzcxJyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChwb3BwZWQgPj0gdGFyZ2V0KSB7CiAgICAgICAgICAgICAgICAgICAgbGV2ZWxDb21wbGV0ZSgpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgYmFsbG9vbi5yZW1vdmUoKTsKICAgICAgICAgICAgYmFsbG9vbnMgPSBiYWxsb29ucy5maWx0ZXIoYiA9PiBiLmVsZW1lbnQgIT09IGJhbGxvb24pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBzaG93UG9wRWZmZWN0KHgsIHksIGVtb2ppKSB7CiAgICAgICAgICAgIGNvbnN0IGVmZmVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICBlZmZlY3QuY2xhc3NOYW1lID0gJ3BvcC1lZmZlY3QnOwogICAgICAgICAgICBlZmZlY3QudGV4dENvbnRlbnQgPSBlbW9qaTsKICAgICAgICAgICAgZWZmZWN0LnN0eWxlLmxlZnQgPSB4ICsgJ3B4JzsKICAgICAgICAgICAgZWZmZWN0LnN0eWxlLnRvcCA9IHkgKyAncHgnOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVmZmVjdCk7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gZWZmZWN0LnJlbW92ZSgpLCA0MDApOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBzaG93UG9pbnRzUG9wdXAoeCwgeSwgdGV4dCwgY29sb3IpIHsKICAgICAgICAgICAgY29uc3QgcG9wdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgcG9wdXAuY2xhc3NOYW1lID0gJ3BvaW50cy1wb3B1cCc7CiAgICAgICAgICAgIHBvcHVwLnRleHRDb250ZW50ID0gdGV4dDsKICAgICAgICAgICAgcG9wdXAuc3R5bGUubGVmdCA9IHggKyAncHgnOwogICAgICAgICAgICBwb3B1cC5zdHlsZS50b3AgPSB5ICsgJ3B4JzsKICAgICAgICAgICAgcG9wdXAuc3R5bGUuY29sb3IgPSBjb2xvcjsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwb3B1cCk7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcG9wdXAucmVtb3ZlKCksIDgwMCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUJhbGxvb25zKCkgewogICAgICAgICAgICBpZiAoIWlzUGxheWluZykgcmV0dXJuOwogICAgICAgICAgICAKICAgICAgICAgICAgYmFsbG9vbnMuZm9yRWFjaCgoYmFsbG9vbiwgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGJhbGxvb24ueSArPSBiYWxsb29uLnNwZWVkOwogICAgICAgICAgICAgICAgYmFsbG9vbi5lbGVtZW50LnN0eWxlLmJvdHRvbSA9IGJhbGxvb24ueSArICdweCc7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIEJhbGxvb24gZXNjYXBlZAogICAgICAgICAgICAgICAgaWYgKGJhbGxvb24ueSA+IHdpbmRvdy5pbm5lckhlaWdodCArIDUwKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGJhbGxvb24uZWxlbWVudC5kYXRhc2V0LnR5cGUgIT09ICdibGFjaycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWlzc2VkIGEgZ29vZCBiYWxsb29uCiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlTb3VuZCgnbWlzcycpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBiYWxsb29uLmVsZW1lbnQucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgYmFsbG9vbnMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlQmFsbG9vbnMpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBsZXZlbENvbXBsZXRlKCkgewogICAgICAgICAgICBpc1BsYXlpbmcgPSBmYWxzZTsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChzcGF3bkludGVydmFsKTsKICAgICAgICAgICAgYmFsbG9vbnMuZm9yRWFjaChiID0+IGIuZWxlbWVudC5yZW1vdmUoKSk7CiAgICAgICAgICAgIGJhbGxvb25zID0gW107CiAgICAgICAgICAgIAogICAgICAgICAgICBsZXZlbCsrOwogICAgICAgICAgICBpZiAobGV2ZWwgPiA1KSB7CiAgICAgICAgICAgICAgICBmaW5hbFNjb3JlRGlzcGxheS50ZXh0Q29udGVudCA9IHNjb3JlOwogICAgICAgICAgICAgICAgd2luU2NyZWVuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2hvd0xldmVsU2NyZWVuKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gZ2FtZU92ZXIoKSB7CiAgICAgICAgICAgIGlzUGxheWluZyA9IGZhbHNlOwogICAgICAgICAgICBjbGVhckludGVydmFsKHNwYXduSW50ZXJ2YWwpOwogICAgICAgICAgICBiYWxsb29ucy5mb3JFYWNoKGIgPT4gYi5lbGVtZW50LnJlbW92ZSgpKTsKICAgICAgICAgICAgYmFsbG9vbnMgPSBbXTsKICAgICAgICAgICAgbG9zZVNjb3JlRGlzcGxheS50ZXh0Q29udGVudCA9IHNjb3JlOwogICAgICAgICAgICBsb3NlU2NyZWVuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBzaG93TGV2ZWxTY3JlZW4oKSB7CiAgICAgICAgICAgIGxldmVsTnVtYmVyLnRleHRDb250ZW50ID0gbGV2ZWw7CiAgICAgICAgICAgIHByb2dyZXNzRmlsbC5zdHlsZS53aWR0aCA9ICgobGV2ZWwgLSAxKSAvIDUgKiAxMDApICsgJyUnOwogICAgICAgICAgICBsZXZlbFNjcmVlbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgbGV2ZWxTY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgICAgICBzdGFydExldmVsKCk7CiAgICAgICAgICAgIH0sIDE1MDApOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBzdGFydExldmVsKCkgewogICAgICAgICAgICBjb25zdCBjb25maWcgPSBsZXZlbENvbmZpZ3NbbGV2ZWwgLSAxXTsKICAgICAgICAgICAgdGFyZ2V0ID0gY29uZmlnLnRhcmdldDsKICAgICAgICAgICAgcG9wcGVkID0gMDsKICAgICAgICAgICAgdGFyZ2V0RGlzcGxheS50ZXh0Q29udGVudCA9IHRhcmdldDsKICAgICAgICAgICAgcG9wcGVkRGlzcGxheS50ZXh0Q29udGVudCA9IHBvcHBlZDsKICAgICAgICAgICAgbGV2ZWxEaXNwbGF5LnRleHRDb250ZW50ID0gbGV2ZWw7CiAgICAgICAgICAgIAogICAgICAgICAgICBpc1BsYXlpbmcgPSB0cnVlOwogICAgICAgICAgICBzcGF3bkludGVydmFsID0gc2V0SW50ZXJ2YWwoY3JlYXRlQmFsbG9vbiwgY29uZmlnLnNwYXduUmF0ZSk7CiAgICAgICAgICAgIHVwZGF0ZUJhbGxvb25zKCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHN0YXJ0R2FtZSgpIHsKICAgICAgICAgICAgaW5pdEF1ZGlvKCk7CiAgICAgICAgICAgIHNjb3JlID0gMDsKICAgICAgICAgICAgbGV2ZWwgPSAxOwogICAgICAgICAgICBsaXZlcyA9IDM7CiAgICAgICAgICAgIHNjb3JlRGlzcGxheS50ZXh0Q29udGVudCA9IHNjb3JlOwogICAgICAgICAgICBsaXZlc0Rpc3BsYXkudGV4dENvbnRlbnQgPSBsaXZlczsKICAgICAgICAgICAgCiAgICAgICAgICAgIHN0YXJ0U2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgICAgICB3aW5TY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgIGxvc2VTY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgIGxldmVsU2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgICAgICAKICAgICAgICAgICAgYmFsbG9vbnMuZm9yRWFjaChiID0+IGIuZWxlbWVudC5yZW1vdmUoKSk7CiAgICAgICAgICAgIGJhbGxvb25zID0gW107CiAgICAgICAgICAgIAogICAgICAgICAgICBzdGFydExldmVsKCk7CiAgICAgICAgfQogICAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo=';
GAMES['fangen'] = 'PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImRlIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyI+CiAgICA8dGl0bGU+8J+NjiBGYW5nLU1laXN0ZXIhPC90aXRsZT4KICAgIDxzdHlsZT4KICAgICAgICBAaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1GcmVkb2thOndnaHRANDAwOzYwMDs3MDAmZGlzcGxheT1zd2FwJyk7CiAgICAgICAgKiB7IG1hcmdpbjogMDsgcGFkZGluZzogMDsgYm94LXNpemluZzogYm9yZGVyLWJveDsgfQogICAgICAgIGJvZHkgeyBmb250LWZhbWlseTogJ0ZyZWRva2EnLCBzYW5zLXNlcmlmOyBtaW4taGVpZ2h0OiAxMDB2aDsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzExOTk4ZSAwJSwgIzM4ZWY3ZCAxMDAlKTsgb3ZlcmZsb3c6IGhpZGRlbjsgdG91Y2gtYWN0aW9uOiBub25lOyB9CiAgICAgICAgI2dhbWUtY29udGFpbmVyIHsgcG9zaXRpb246IHJlbGF0aXZlOyB3aWR0aDogMTAwdnc7IGhlaWdodDogMTAwdmg7IH0KICAgICAgICAjdG9wLWJhciB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAxMHB4OyBsZWZ0OiAwOyByaWdodDogMDsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogMTJweDsgei1pbmRleDogMTAwOyBwYWRkaW5nOiAwIDEwcHg7IGZsZXgtd3JhcDogd3JhcDsgfQogICAgICAgIC5zdGF0LWJveCB7IGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC45KTsgY29sb3I6ICMzMzM7IHBhZGRpbmc6IDhweCAxNnB4OyBib3JkZXItcmFkaXVzOiAyNXB4OyBmb250LXNpemU6IDE2cHg7IGZvbnQtd2VpZ2h0OiA2MDA7IH0KICAgICAgICAjc291bmQtdG9nZ2xlIHsgYmFja2dyb3VuZDogIzM0OThEQjsgYm9yZGVyOiBub25lOyBwYWRkaW5nOiA4cHggMTVweDsgYm9yZGVyLXJhZGl1czogMjVweDsgZm9udC1zaXplOiAxOHB4OyBjdXJzb3I6IHBvaW50ZXI7IH0KICAgICAgICAjZ2FtZS1hcmVhIHsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgcG9zaXRpb246IHJlbGF0aXZlOyBvdmVyZmxvdzogaGlkZGVuOyB9CiAgICAgICAgI2Jhc2tldCB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgYm90dG9tOiAyMHB4OyBmb250LXNpemU6IDYwcHg7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsgdHJhbnNpdGlvbjogbGVmdCAwLjA1cyBsaW5lYXI7IHotaW5kZXg6IDEwOyB9CiAgICAgICAgLmZhbGxpbmctaXRlbSB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgZm9udC1zaXplOiA0MHB4OyBwb2ludGVyLWV2ZW50czogbm9uZTsgfQogICAgICAgIC5jYXRjaC1lZmZlY3QgeyBwb3NpdGlvbjogYWJzb2x1dGU7IHBvaW50ZXItZXZlbnRzOiBub25lOyBhbmltYXRpb246IGNhdGNoUG9wIDAuM3MgZWFzZS1vdXQgZm9yd2FyZHM7IH0KICAgICAgICBAa2V5ZnJhbWVzIGNhdGNoUG9wIHsgMCUgeyB0cmFuc2Zvcm06IHNjYWxlKDEpOyBvcGFjaXR5OiAxOyB9IDEwMCUgeyB0cmFuc2Zvcm06IHNjYWxlKDEuNSk7IG9wYWNpdHk6IDA7IH0gfQogICAgICAgICNjb250cm9scyB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgYm90dG9tOiAwOyBsZWZ0OiAwOyByaWdodDogMDsgaGVpZ2h0OiA0MCU7IGRpc3BsYXk6IGZsZXg7IHotaW5kZXg6IDUwOyB9CiAgICAgICAgLmNvbnRyb2wtem9uZSB7IGZsZXg6IDE7IG9wYWNpdHk6IDA7IH0KICAgICAgICAjc3RhcnQtc2NyZWVuLCAjd2luLXNjcmVlbiwgI2xvc2Utc2NyZWVuLCAjbGV2ZWwtc2NyZWVuIHsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMxMTk5OGUgMCUsICMzOGVmN2QgMTAwJSk7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyB6LWluZGV4OiAyMDA7IGdhcDogMjBweDsgfQogICAgICAgICN3aW4tc2NyZWVuIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTsgfQogICAgICAgICNsb3NlLXNjcmVlbiB7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNFNzRDM0MgMCUsICNjMDM5MmIgMTAwJSk7IH0KICAgICAgICAuc2NyZWVuLXRpdGxlIHsgZm9udC1zaXplOiA0NHB4OyBjb2xvcjogd2hpdGU7IHRleHQtc2hhZG93OiAwIDRweCAwIHJnYmEoMCwwLDAsMC4yKTsgdGV4dC1hbGlnbjogY2VudGVyOyB9CiAgICAgICAgLnNjcmVlbi1pY29uIHsgZm9udC1zaXplOiA3MHB4OyB9CiAgICAgICAgLnN0YXJ0LWJ0biB7IGJhY2tncm91bmQ6ICNGMUM0MEY7IGNvbG9yOiAjMzMzOyBib3JkZXI6IG5vbmU7IHBhZGRpbmc6IDE4cHggNDVweDsgZm9udC1zaXplOiAyNHB4OyBmb250LWZhbWlseTogJ0ZyZWRva2EnLCBzYW5zLXNlcmlmOyBmb250LXdlaWdodDogNzAwOyBib3JkZXItcmFkaXVzOiA1MHB4OyBjdXJzb3I6IHBvaW50ZXI7IGJveC1zaGFkb3c6IDAgNXB4IDAgI0Q0QUMwRDsgfQogICAgICAgIC5zdGFydC1idG46YWN0aXZlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDNweCk7IGJveC1zaGFkb3c6IDAgMnB4IDAgI0Q0QUMwRDsgfQogICAgICAgIC5oaWRkZW4geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0KICAgICAgICAuaW5zdHJ1Y3Rpb25zIHsgY29sb3I6IHdoaXRlOyBmb250LXNpemU6IDE2cHg7IHRleHQtYWxpZ246IGNlbnRlcjsgbGluZS1oZWlnaHQ6IDEuNTsgfQogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgaWQ9ImdhbWUtY29udGFpbmVyIj4KICAgICAgICA8ZGl2IGlkPSJ0b3AtYmFyIj4KICAgICAgICAgICAgPGJ1dHRvbiBpZD0ic291bmQtdG9nZ2xlIj7wn5SKPC9idXR0b24+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtYm94Ij7wn42OIDxzcGFuIGlkPSJjYXVnaHQiPjA8L3NwYW4+LzxzcGFuIGlkPSJ0YXJnZXQiPjE1PC9zcGFuPjwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWJveCI+4q2QIDxzcGFuIGlkPSJzY29yZSI+MDwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPuKdpO+4jyA8c3BhbiBpZD0ibGl2ZXMiPjM8L3NwYW4+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtYm94Ij5MdiA8c3BhbiBpZD0ibGV2ZWwiPjE8L3NwYW4+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBpZD0iZ2FtZS1hcmVhIj4KICAgICAgICAgICAgPGRpdiBpZD0iYmFza2V0Ij7wn6e6PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBpZD0iY29udHJvbHMiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb250cm9sLXpvbmUiIGlkPSJsZWZ0LXpvbmUiPjwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb250cm9sLXpvbmUiIGlkPSJyaWdodC16b25lIj48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJzdGFydC1zY3JlZW4iPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzY3JlZW4taWNvbiI+8J+NjjwvZGl2PgogICAgICAgICAgICA8aDEgY2xhc3M9InNjcmVlbi10aXRsZSI+RmFuZy1NZWlzdGVyITwvaDE+CiAgICAgICAgICAgIDxwIGNsYXNzPSJpbnN0cnVjdGlvbnMiPkZhbmdlIGRpZSBndXRlbiBTYWNoZW4hPGJyPvCfkoAgQsO2c2UgU2FjaGVuID0gTGViZW4gdmVybGllcmVuITxicj5UaXBwZSBsaW5rcy9yZWNodHMgenVtIEJld2VnZW4hPC9wPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzdGFydC1idG4iIG9uY2xpY2s9InN0YXJ0R2FtZSgpIj7wn46uIFN0YXJ0ITwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9ImxldmVsLXNjcmVlbiIgY2xhc3M9ImhpZGRlbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNjcmVlbi1pY29uIj7wn42OPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5MZXZlbCA8c3BhbiBpZD0ibGV2ZWwtbnVtYmVyIj4xPC9zcGFuPjwvaDE+CiAgICAgICAgICAgIDxwIGlkPSJsZXZlbC10aGVtZSIgc3R5bGU9ImNvbG9yOndoaXRlO2ZvbnQtc2l6ZToyMHB4OyI+PC9wPgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9Indpbi1zY3JlZW4iIGNsYXNzPSJoaWRkZW4iPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzY3JlZW4taWNvbiI+8J+PhjwvZGl2PgogICAgICAgICAgICA8aDEgY2xhc3M9InNjcmVlbi10aXRsZSI+R2V3b25uZW4hPC9oMT4KICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOndoaXRlO2ZvbnQtc2l6ZToyNHB4OyI+4q2QIDxzcGFuIGlkPSJmaW5hbC1zY29yZSI+MDwvc3Bhbj48L3A+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InN0YXJ0LWJ0biIgb25jbGljaz0ic3RhcnRHYW1lKCkiPvCflIQgTm9jaG1hbCE8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJsb3NlLXNjcmVlbiIgY2xhc3M9ImhpZGRlbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNjcmVlbi1pY29uIj7wn5KUPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5HYW1lIE92ZXIhPC9oMT4KICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOndoaXRlO2ZvbnQtc2l6ZToyNHB4OyI+4q2QIDxzcGFuIGlkPSJsb3NlLXNjb3JlIj4wPC9zcGFuPjwvcD4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic3RhcnQtYnRuIiBvbmNsaWNrPSJzdGFydEdhbWUoKSI+8J+UhCBOb2NobWFsITwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPHNjcmlwdD4KICAgICAgICBjb25zdCBnYW1lQXJlYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWFyZWEnKTsKICAgICAgICBjb25zdCBiYXNrZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFza2V0Jyk7CiAgICAgICAgY29uc3QgY2F1Z2h0RGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXVnaHQnKTsKICAgICAgICBjb25zdCB0YXJnZXREaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhcmdldCcpOwogICAgICAgIGNvbnN0IHNjb3JlRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZScpOwogICAgICAgIGNvbnN0IGxpdmVzRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXZlcycpOwogICAgICAgIGNvbnN0IGxldmVsRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbCcpOwogICAgICAgIGNvbnN0IGxldmVsTnVtYmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLW51bWJlcicpOwogICAgICAgIGNvbnN0IGxldmVsVGhlbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwtdGhlbWUnKTsKICAgICAgICBjb25zdCBzdGFydFNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydC1zY3JlZW4nKTsKICAgICAgICBjb25zdCB3aW5TY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2luLXNjcmVlbicpOwogICAgICAgIGNvbnN0IGxvc2VTY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9zZS1zY3JlZW4nKTsKICAgICAgICBjb25zdCBsZXZlbFNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC1zY3JlZW4nKTsKICAgICAgICBjb25zdCBmaW5hbFNjb3JlRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaW5hbC1zY29yZScpOwogICAgICAgIGNvbnN0IGxvc2VTY29yZURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9zZS1zY29yZScpOwogICAgICAgIGNvbnN0IHNvdW5kVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvdW5kLXRvZ2dsZScpOwogICAgICAgIGNvbnN0IGxlZnRab25lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlZnQtem9uZScpOwogICAgICAgIGNvbnN0IHJpZ2h0Wm9uZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyaWdodC16b25lJyk7CiAgICAgICAgCiAgICAgICAgbGV0IGxldmVsID0gMSwgc2NvcmUgPSAwLCBsaXZlcyA9IDMsIGNhdWdodCA9IDAsIHRhcmdldCA9IDA7CiAgICAgICAgbGV0IGJhc2tldFggPSA1MCwgaXNQbGF5aW5nID0gZmFsc2UsIHNvdW5kRW5hYmxlZCA9IHRydWU7CiAgICAgICAgbGV0IGZhbGxpbmdJdGVtcyA9IFtdLCBzcGF3bkludGVydmFsID0gbnVsbCwgbW92ZUxlZnQgPSBmYWxzZSwgbW92ZVJpZ2h0ID0gZmFsc2U7CiAgICAgICAgbGV0IGF1ZGlvQ3R4ID0gbnVsbDsKICAgICAgICAKICAgICAgICBjb25zdCBsZXZlbENvbmZpZ3MgPSBbCiAgICAgICAgICAgIHsgdGFyZ2V0OiAxMiwgc3BlZWQ6IDIsIHNwYXduUmF0ZTogMTIwMCwgYmFkQ2hhbmNlOiAwLjE1LCB0aGVtZTogJ/CfjY4gT2JzdCcsIGdvb2Q6IFsn8J+NjicsICfwn42KJywgJ/CfjYsnLCAn8J+NhycsICfwn42TJ10sIGJhZDogWyfwn5KAJywgJ/CfpqAnXSB9LAogICAgICAgICAgICB7IHRhcmdldDogMTUsIHNwZWVkOiAyLjUsIHNwYXduUmF0ZTogMTAwMCwgYmFkQ2hhbmNlOiAwLjIsIHRoZW1lOiAn8J+NlSBFc3NlbicsIGdvb2Q6IFsn8J+NlScsICfwn42UJywgJ/CfjK4nLCAn8J+NnycsICfwn42pJ10sIGJhZDogWyfwn5KAJywgJ/CfpqAnLCAn8J+Xke+4jyddIH0sCiAgICAgICAgICAgIHsgdGFyZ2V0OiAxOCwgc3BlZWQ6IDMsIHNwYXduUmF0ZTogOTAwLCBiYWRDaGFuY2U6IDAuMjUsIHRoZW1lOiAn4q2QIFN0ZXJuZScsIGdvb2Q6IFsn4q2QJywgJ/CfjJ8nLCAn4pyoJywgJ/CfkqsnLCAn8J+MmSddLCBiYWQ6IFsn8J+SgCcsICfimKDvuI8nLCAn8J+Vt++4jyddIH0sCiAgICAgICAgICAgIHsgdGFyZ2V0OiAyMiwgc3BlZWQ6IDMuNSwgc3Bhd25SYXRlOiA4MDAsIGJhZENoYW5jZTogMC4yOCwgdGhlbWU6ICfwn5KOIFNjaMOkdHplJywgZ29vZDogWyfwn5KOJywgJ/CfkrAnLCAn8J+RkScsICfwn4+GJywgJ/Cfko0nXSwgYmFkOiBbJ/CfkoAnLCAn8J+SoycsICfwn5W377iPJ10gfSwKICAgICAgICAgICAgeyB0YXJnZXQ6IDI1LCBzcGVlZDogNCwgc3Bhd25SYXRlOiA3MDAsIGJhZENoYW5jZTogMC4zLCB0aGVtZTogJ/CfjoEgR2VzY2hlbmtlJywgZ29vZDogWyfwn46BJywgJ/CfjoAnLCAn8J+OiCcsICfwn46JJywgJ/CfjoonXSwgYmFkOiBbJ/CfkoAnLCAn8J+SoycsICfwn5G7JywgJ/CfpqAnXSB9CiAgICAgICAgXTsKICAgICAgICAKICAgICAgICBmdW5jdGlvbiBpbml0QXVkaW8oKSB7IGlmICghYXVkaW9DdHgpIGF1ZGlvQ3R4ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKCk7IH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBwbGF5U291bmQodHlwZSkgewogICAgICAgICAgICBpZiAoIXNvdW5kRW5hYmxlZCB8fCAhYXVkaW9DdHgpIHJldHVybjsKICAgICAgICAgICAgY29uc3Qgb3NjID0gYXVkaW9DdHguY3JlYXRlT3NjaWxsYXRvcigpLCBnYWluID0gYXVkaW9DdHguY3JlYXRlR2FpbigpOwogICAgICAgICAgICBvc2MuY29ubmVjdChnYWluKTsgZ2Fpbi5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTsKICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdjYXRjaCcpIHsKICAgICAgICAgICAgICAgIG9zYy5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoNTIzLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBvc2MuZnJlcXVlbmN5LmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoNzg0LCBhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMSk7CiAgICAgICAgICAgICAgICBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4xNSwgYXVkaW9DdHguY3VycmVudFRpbWUpOwogICAgICAgICAgICAgICAgZ2Fpbi5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjE1KTsKICAgICAgICAgICAgICAgIG9zYy5zdGFydCgpOyBvc2Muc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMTUpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdiYWQnKSB7CiAgICAgICAgICAgICAgICBvc2MuZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKDIwMCwgYXVkaW9DdHguY3VycmVudFRpbWUpOwogICAgICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDUwLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMyk7CiAgICAgICAgICAgICAgICBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4yLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBnYWluLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAxLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMyk7CiAgICAgICAgICAgICAgICBvc2Muc3RhcnQoKTsgb3NjLnN0b3AoYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjMpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdtaXNzJykgewogICAgICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZSgxNTAsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsKICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjA4LCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBnYWluLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAxLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMTUpOwogICAgICAgICAgICAgICAgb3NjLnN0YXJ0KCk7IG9zYy5zdG9wKGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4xNSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgc291bmRUb2dnbGUub25jbGljayA9ICgpID0+IHsgc291bmRFbmFibGVkID0gIXNvdW5kRW5hYmxlZDsgc291bmRUb2dnbGUudGV4dENvbnRlbnQgPSBzb3VuZEVuYWJsZWQgPyAn8J+UiicgOiAn8J+Uhyc7IH07CiAgICAgICAgCiAgICAgICAgLy8gQ29udHJvbHMKICAgICAgICBmdW5jdGlvbiBoYW5kbGVNb3ZlKGUsIHpvbmUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBpZiAoem9uZSA9PT0gJ2xlZnQnKSB7IG1vdmVMZWZ0ID0gdHJ1ZTsgbW92ZVJpZ2h0ID0gZmFsc2U7IH0KICAgICAgICAgICAgZWxzZSB7IG1vdmVSaWdodCA9IHRydWU7IG1vdmVMZWZ0ID0gZmFsc2U7IH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gc3RvcE1vdmUoKSB7IG1vdmVMZWZ0ID0gZmFsc2U7IG1vdmVSaWdodCA9IGZhbHNlOyB9CiAgICAgICAgCiAgICAgICAgbGVmdFpvbmUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIChlKSA9PiBoYW5kbGVNb3ZlKGUsICdsZWZ0JyksIHsgcGFzc2l2ZTogZmFsc2UgfSk7CiAgICAgICAgbGVmdFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IGhhbmRsZU1vdmUoZSwgJ2xlZnQnKSk7CiAgICAgICAgcmlnaHRab25lLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoZSkgPT4gaGFuZGxlTW92ZShlLCAncmlnaHQnKSwgeyBwYXNzaXZlOiBmYWxzZSB9KTsKICAgICAgICByaWdodFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IGhhbmRsZU1vdmUoZSwgJ3JpZ2h0JykpOwogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgc3RvcE1vdmUpOwogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBzdG9wTW92ZSk7CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gc3Bhd25JdGVtKCkgewogICAgICAgICAgICBpZiAoIWlzUGxheWluZykgcmV0dXJuOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgY29uZmlnID0gbGV2ZWxDb25maWdzW2xldmVsIC0gMV07CiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgaXRlbS5jbGFzc05hbWUgPSAnZmFsbGluZy1pdGVtJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IGlzQmFkID0gTWF0aC5yYW5kb20oKSA8IGNvbmZpZy5iYWRDaGFuY2U7CiAgICAgICAgICAgIGNvbnN0IHBvb2wgPSBpc0JhZCA/IGNvbmZpZy5iYWQgOiBjb25maWcuZ29vZDsKICAgICAgICAgICAgY29uc3QgZW1vamkgPSBwb29sW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvb2wubGVuZ3RoKV07CiAgICAgICAgICAgIAogICAgICAgICAgICBpdGVtLnRleHRDb250ZW50ID0gZW1vamk7CiAgICAgICAgICAgIGl0ZW0uZGF0YXNldC5iYWQgPSBpc0JhZDsKICAgICAgICAgICAgaXRlbS5kYXRhc2V0LnBvaW50cyA9IGlzQmFkID8gMCA6IDEwOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgeCA9IDEwICsgTWF0aC5yYW5kb20oKSAqIDgwOwogICAgICAgICAgICBpdGVtLnN0eWxlLmxlZnQgPSB4ICsgJyUnOwogICAgICAgICAgICBpdGVtLnN0eWxlLnRvcCA9ICctNTBweCc7CiAgICAgICAgICAgIAogICAgICAgICAgICBnYW1lQXJlYS5hcHBlbmRDaGlsZChpdGVtKTsKICAgICAgICAgICAgZmFsbGluZ0l0ZW1zLnB1c2goeyBlbGVtZW50OiBpdGVtLCB4LCB5OiAtNTAsIHNwZWVkOiBjb25maWcuc3BlZWQgKyBNYXRoLnJhbmRvbSgpIH0pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiB1cGRhdGVHYW1lKCkgewogICAgICAgICAgICBpZiAoIWlzUGxheWluZykgcmV0dXJuOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gTW92ZSBiYXNrZXQKICAgICAgICAgICAgY29uc3QgbW92ZVNwZWVkID0gMzsKICAgICAgICAgICAgaWYgKG1vdmVMZWZ0KSBiYXNrZXRYID0gTWF0aC5tYXgoMTAsIGJhc2tldFggLSBtb3ZlU3BlZWQpOwogICAgICAgICAgICBpZiAobW92ZVJpZ2h0KSBiYXNrZXRYID0gTWF0aC5taW4oOTAsIGJhc2tldFggKyBtb3ZlU3BlZWQpOwogICAgICAgICAgICBiYXNrZXQuc3R5bGUubGVmdCA9IGJhc2tldFggKyAnJSc7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBVcGRhdGUgZmFsbGluZyBpdGVtcwogICAgICAgICAgICBjb25zdCBiYXNrZXRSZWN0ID0gYmFza2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICBjb25zdCBiYXNrZXRDZW50ZXIgPSBiYXNrZXRSZWN0LmxlZnQgKyBiYXNrZXRSZWN0LndpZHRoIC8gMjsKICAgICAgICAgICAgY29uc3QgYmFza2V0VG9wID0gYmFza2V0UmVjdC50b3A7CiAgICAgICAgICAgIAogICAgICAgICAgICBmYWxsaW5nSXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGl0ZW0ueSArPSBpdGVtLnNwZWVkOwogICAgICAgICAgICAgICAgaXRlbS5lbGVtZW50LnN0eWxlLnRvcCA9IGl0ZW0ueSArICdweCc7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1SZWN0ID0gaXRlbS5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICAgICAgY29uc3QgaXRlbUNlbnRlciA9IGl0ZW1SZWN0LmxlZnQgKyBpdGVtUmVjdC53aWR0aCAvIDI7CiAgICAgICAgICAgICAgICBjb25zdCBpdGVtQm90dG9tID0gaXRlbVJlY3QuYm90dG9tOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBDaGVjayBjYXRjaAogICAgICAgICAgICAgICAgaWYgKGl0ZW1Cb3R0b20gPj0gYmFza2V0VG9wICYmIGl0ZW1Cb3R0b20gPD0gYmFza2V0VG9wICsgNjApIHsKICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoaXRlbUNlbnRlciAtIGJhc2tldENlbnRlcikgPCA1MCkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBDYXVnaHQhCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQmFkID0gaXRlbS5lbGVtZW50LmRhdGFzZXQuYmFkID09PSAndHJ1ZSc7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNCYWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpdmVzLS07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXZlc0Rpc3BsYXkudGV4dENvbnRlbnQgPSBsaXZlczsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlTb3VuZCgnYmFkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2F0Y2hFZmZlY3QoaXRlbUNlbnRlciwgaXRlbUJvdHRvbSwgJ/CfkqUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpdmVzIDw9IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lT3ZlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdWdodCsrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUgKz0gMTA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXVnaHREaXNwbGF5LnRleHRDb250ZW50ID0gY2F1Z2h0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5U291bmQoJ2NhdGNoJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2F0Y2hFZmZlY3QoaXRlbUNlbnRlciwgaXRlbUJvdHRvbSwgJ+KcqCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2F1Z2h0ID49IHRhcmdldCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsQ29tcGxldGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZWxlbWVudC5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZmFsbGluZ0l0ZW1zLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIE1pc3NlZCAoZmVsbCBvZmYgc2NyZWVuKQogICAgICAgICAgICAgICAgaWYgKGl0ZW0ueSA+IHdpbmRvdy5pbm5lckhlaWdodCkgewogICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmVsZW1lbnQuZGF0YXNldC5iYWQgIT09ICd0cnVlJykgewogICAgICAgICAgICAgICAgICAgICAgICBwbGF5U291bmQoJ21pc3MnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaXRlbS5lbGVtZW50LnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgIGZhbGxpbmdJdGVtcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGVHYW1lKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gc2hvd0NhdGNoRWZmZWN0KHgsIHksIGVtb2ppKSB7CiAgICAgICAgICAgIGNvbnN0IGVmZmVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICBlZmZlY3QuY2xhc3NOYW1lID0gJ2NhdGNoLWVmZmVjdCc7CiAgICAgICAgICAgIGVmZmVjdC50ZXh0Q29udGVudCA9IGVtb2ppOwogICAgICAgICAgICBlZmZlY3Quc3R5bGUubGVmdCA9IHggKyAncHgnOwogICAgICAgICAgICBlZmZlY3Quc3R5bGUudG9wID0geSArICdweCc7CiAgICAgICAgICAgIGVmZmVjdC5zdHlsZS5mb250U2l6ZSA9ICc0MHB4JzsKICAgICAgICAgICAgZWZmZWN0LnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlZmZlY3QpOwogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGVmZmVjdC5yZW1vdmUoKSwgMzAwKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gbGV2ZWxDb21wbGV0ZSgpIHsKICAgICAgICAgICAgaXNQbGF5aW5nID0gZmFsc2U7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoc3Bhd25JbnRlcnZhbCk7CiAgICAgICAgICAgIGZhbGxpbmdJdGVtcy5mb3JFYWNoKGkgPT4gaS5lbGVtZW50LnJlbW92ZSgpKTsKICAgICAgICAgICAgZmFsbGluZ0l0ZW1zID0gW107CiAgICAgICAgICAgIAogICAgICAgICAgICBsZXZlbCsrOwogICAgICAgICAgICBpZiAobGV2ZWwgPiA1KSB7CiAgICAgICAgICAgICAgICBmaW5hbFNjb3JlRGlzcGxheS50ZXh0Q29udGVudCA9IHNjb3JlOwogICAgICAgICAgICAgICAgd2luU2NyZWVuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2hvd0xldmVsU2NyZWVuKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gZ2FtZU92ZXIoKSB7CiAgICAgICAgICAgIGlzUGxheWluZyA9IGZhbHNlOwogICAgICAgICAgICBjbGVhckludGVydmFsKHNwYXduSW50ZXJ2YWwpOwogICAgICAgICAgICBmYWxsaW5nSXRlbXMuZm9yRWFjaChpID0+IGkuZWxlbWVudC5yZW1vdmUoKSk7CiAgICAgICAgICAgIGZhbGxpbmdJdGVtcyA9IFtdOwogICAgICAgICAgICBsb3NlU2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7CiAgICAgICAgICAgIGxvc2VTY3JlZW4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHNob3dMZXZlbFNjcmVlbigpIHsKICAgICAgICAgICAgY29uc3QgY29uZmlnID0gbGV2ZWxDb25maWdzW2xldmVsIC0gMV07CiAgICAgICAgICAgIGxldmVsTnVtYmVyLnRleHRDb250ZW50ID0gbGV2ZWw7CiAgICAgICAgICAgIGxldmVsVGhlbWUudGV4dENvbnRlbnQgPSBjb25maWcudGhlbWU7CiAgICAgICAgICAgIGxldmVsU2NyZWVuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgICAgICAgICAKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBsZXZlbFNjcmVlbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICAgICAgICAgIHN0YXJ0TGV2ZWwoKTsKICAgICAgICAgICAgfSwgMTUwMCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHN0YXJ0TGV2ZWwoKSB7CiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IGxldmVsQ29uZmlnc1tsZXZlbCAtIDFdOwogICAgICAgICAgICB0YXJnZXQgPSBjb25maWcudGFyZ2V0OwogICAgICAgICAgICBjYXVnaHQgPSAwOwogICAgICAgICAgICB0YXJnZXREaXNwbGF5LnRleHRDb250ZW50ID0gdGFyZ2V0OwogICAgICAgICAgICBjYXVnaHREaXNwbGF5LnRleHRDb250ZW50ID0gY2F1Z2h0OwogICAgICAgICAgICBsZXZlbERpc3BsYXkudGV4dENvbnRlbnQgPSBsZXZlbDsKICAgICAgICAgICAgYmFza2V0WCA9IDUwOwogICAgICAgICAgICBiYXNrZXQuc3R5bGUubGVmdCA9IGJhc2tldFggKyAnJSc7CiAgICAgICAgICAgIAogICAgICAgICAgICBpc1BsYXlpbmcgPSB0cnVlOwogICAgICAgICAgICBzcGF3bkludGVydmFsID0gc2V0SW50ZXJ2YWwoc3Bhd25JdGVtLCBjb25maWcuc3Bhd25SYXRlKTsKICAgICAgICAgICAgdXBkYXRlR2FtZSgpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBzdGFydEdhbWUoKSB7CiAgICAgICAgICAgIGluaXRBdWRpbygpOwogICAgICAgICAgICBzY29yZSA9IDA7CiAgICAgICAgICAgIGxldmVsID0gMTsKICAgICAgICAgICAgbGl2ZXMgPSAzOwogICAgICAgICAgICBzY29yZURpc3BsYXkudGV4dENvbnRlbnQgPSBzY29yZTsKICAgICAgICAgICAgbGl2ZXNEaXNwbGF5LnRleHRDb250ZW50ID0gbGl2ZXM7CiAgICAgICAgICAgIAogICAgICAgICAgICBzdGFydFNjcmVlbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICAgICAgd2luU2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgICAgICBsb3NlU2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgICAgICAKICAgICAgICAgICAgZmFsbGluZ0l0ZW1zLmZvckVhY2goaSA9PiBpLmVsZW1lbnQucmVtb3ZlKCkpOwogICAgICAgICAgICBmYWxsaW5nSXRlbXMgPSBbXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHN0YXJ0TGV2ZWwoKTsKICAgICAgICB9CiAgICA8L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+Cg==';
GAMES['frosch'] = 'PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImRlIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyI+CiAgICA8dGl0bGU+8J+QuCBIw7xwZi1NZWlzdGVyITwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgICAgQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9RnJlZG9rYTp3Z2h0QDQwMDs2MDA7NzAwJmRpc3BsYXk9c3dhcCcpOwogICAgICAgICogeyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IH0KICAgICAgICBib2R5IHsgZm9udC1mYW1pbHk6ICdGcmVkb2thJywgc2Fucy1zZXJpZjsgbWluLWhlaWdodDogMTAwdmg7IGJhY2tncm91bmQ6ICMxYTFhMmU7IG92ZXJmbG93OiBoaWRkZW47IHRvdWNoLWFjdGlvbjogbm9uZTsgfQogICAgICAgICNnYW1lLWNvbnRhaW5lciB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgd2lkdGg6IDEwMHZ3OyBoZWlnaHQ6IDEwMHZoOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyB9CiAgICAgICAgI3RvcC1iYXIgeyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMTBweDsgbGVmdDogMDsgcmlnaHQ6IDA7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDEycHg7IHotaW5kZXg6IDEwMDsgcGFkZGluZzogMCAxMHB4OyBmbGV4LXdyYXA6IHdyYXA7IH0KICAgICAgICAuc3RhdC1ib3ggeyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuOSk7IGNvbG9yOiAjMzMzOyBwYWRkaW5nOiA2cHggMTRweDsgYm9yZGVyLXJhZGl1czogMjBweDsgZm9udC1zaXplOiAxNXB4OyBmb250LXdlaWdodDogNjAwOyB9CiAgICAgICAgI3NvdW5kLXRvZ2dsZSB7IGJhY2tncm91bmQ6ICMzNDk4REI7IGJvcmRlcjogbm9uZTsgcGFkZGluZzogNnB4IDEycHg7IGJvcmRlci1yYWRpdXM6IDIwcHg7IGZvbnQtc2l6ZTogMTZweDsgY3Vyc29yOiBwb2ludGVyOyB9CiAgICAgICAgI2dhbWUtY2FudmFzIHsgZGlzcGxheTogYmxvY2s7IG1hcmdpbjogYXV0bzsgfQogICAgICAgICNjb250cm9scyB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgYm90dG9tOiAxMHB4OyBsZWZ0OiA1MCU7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMywgNzBweCk7IGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDIsIDcwcHgpOyBnYXA6IDVweDsgei1pbmRleDogMTAwOyB9CiAgICAgICAgLmN0cmwtYnRuIHsgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjgpOyBib3JkZXI6IG5vbmU7IGJvcmRlci1yYWRpdXM6IDE1cHg7IGZvbnQtc2l6ZTogMzBweDsgY3Vyc29yOiBwb2ludGVyOyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgfQogICAgICAgIC5jdHJsLWJ0bjphY3RpdmUgeyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDEpOyB0cmFuc2Zvcm06IHNjYWxlKDAuOTUpOyB9CiAgICAgICAgI2J0bi11cCB7IGdyaWQtY29sdW1uOiAyOyB9CiAgICAgICAgI2J0bi1sZWZ0IHsgZ3JpZC1jb2x1bW46IDE7IGdyaWQtcm93OiAyOyB9CiAgICAgICAgI2J0bi1kb3duIHsgZ3JpZC1jb2x1bW46IDI7IGdyaWQtcm93OiAyOyB9CiAgICAgICAgI2J0bi1yaWdodCB7IGdyaWQtY29sdW1uOiAzOyBncmlkLXJvdzogMjsgfQogICAgICAgICNzdGFydC1zY3JlZW4sICN3aW4tc2NyZWVuLCAjbG9zZS1zY3JlZW4sICNsZXZlbC1zY3JlZW4geyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzExOTk4ZSAwJSwgIzM4ZWY3ZCAxMDAlKTsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IHotaW5kZXg6IDIwMDsgZ2FwOiAyMHB4OyB9CiAgICAgICAgI3dpbi1zY3JlZW4geyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpOyB9CiAgICAgICAgI2xvc2Utc2NyZWVuIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI0U3NEMzQyAwJSwgI2MwMzkyYiAxMDAlKTsgfQogICAgICAgIC5zY3JlZW4tdGl0bGUgeyBmb250LXNpemU6IDQycHg7IGNvbG9yOiB3aGl0ZTsgdGV4dC1zaGFkb3c6IDAgNHB4IDAgcmdiYSgwLDAsMCwwLjIpOyB0ZXh0LWFsaWduOiBjZW50ZXI7IH0KICAgICAgICAuc2NyZWVuLWljb24geyBmb250LXNpemU6IDcwcHg7IH0KICAgICAgICAuc3RhcnQtYnRuIHsgYmFja2dyb3VuZDogI0YxQzQwRjsgY29sb3I6ICMzMzM7IGJvcmRlcjogbm9uZTsgcGFkZGluZzogMTZweCA0MHB4OyBmb250LXNpemU6IDIycHg7IGZvbnQtZmFtaWx5OiAnRnJlZG9rYScsIHNhbnMtc2VyaWY7IGZvbnQtd2VpZ2h0OiA3MDA7IGJvcmRlci1yYWRpdXM6IDUwcHg7IGN1cnNvcjogcG9pbnRlcjsgYm94LXNoYWRvdzogMCA1cHggMCAjRDRBQzBEOyB9CiAgICAgICAgLnN0YXJ0LWJ0bjphY3RpdmUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoM3B4KTsgYm94LXNoYWRvdzogMCAycHggMCAjRDRBQzBEOyB9CiAgICAgICAgLmhpZGRlbiB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfQogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgaWQ9ImdhbWUtY29udGFpbmVyIj4KICAgICAgICA8ZGl2IGlkPSJ0b3AtYmFyIj4KICAgICAgICAgICAgPGJ1dHRvbiBpZD0ic291bmQtdG9nZ2xlIj7wn5SKPC9idXR0b24+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtYm94Ij7wn5C4IDxzcGFuIGlkPSJmcm9ncyI+MDwvc3Bhbj4vMzwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWJveCI+4p2k77iPIDxzcGFuIGlkPSJsaXZlcyI+Mzwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPkx2IDxzcGFuIGlkPSJsZXZlbCI+MTwvc3Bhbj48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8Y2FudmFzIGlkPSJnYW1lLWNhbnZhcyI+PC9jYW52YXM+CiAgICAgICAgPGRpdiBpZD0iY29udHJvbHMiPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJjdHJsLWJ0biIgaWQ9ImJ0bi11cCI+4qyG77iPPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImN0cmwtYnRuIiBpZD0iYnRuLWxlZnQiPuKshe+4jzwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJjdHJsLWJ0biIgaWQ9ImJ0bi1kb3duIj7irIfvuI88L2J1dHRvbj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iY3RybC1idG4iIGlkPSJidG4tcmlnaHQiPuKeoe+4jzwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9InN0YXJ0LXNjcmVlbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNjcmVlbi1pY29uIj7wn5C4PC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5Iw7xwZi1NZWlzdGVyITwvaDE+CiAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjp3aGl0ZTtmb250LXNpemU6MTZweDt0ZXh0LWFsaWduOmNlbnRlcjsiPkJyaW5nZSBkZW4gRnJvc2NoIHNpY2hlciBhbnMgWmllbCE8YnI+V2VpY2hlIEF1dG9zIGF1cyB1bmQgc3ByaW5nIGF1ZiBCYXVtc3TDpG1tZSE8L3A+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InN0YXJ0LWJ0biIgb25jbGljaz0ic3RhcnRHYW1lKCkiPvCfjq4gU3RhcnQhPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBpZD0ibGV2ZWwtc2NyZWVuIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPvCfkLg8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPkxldmVsIDxzcGFuIGlkPSJsZXZlbC1udW1iZXIiPjE8L3NwYW4+PC9oMT4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJ3aW4tc2NyZWVuIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPvCfj4Y8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPkdld29ubmVuITwvaDE+CiAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjp3aGl0ZTtmb250LXNpemU6MjBweDsiPkFsbGUgTGV2ZWwgZ2VzY2hhZmZ0ITwvcD4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic3RhcnQtYnRuIiBvbmNsaWNrPSJzdGFydEdhbWUoKSI+8J+UhCBOb2NobWFsITwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9Imxvc2Utc2NyZWVuIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2NyZWVuLWljb24iPvCfkpQ8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPkdhbWUgT3ZlciE8L2gxPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzdGFydC1idG4iIG9uY2xpY2s9InN0YXJ0R2FtZSgpIj7wn5SEIE5vY2htYWwhPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8c2NyaXB0PgogICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNhbnZhcycpOwogICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICAgIGNvbnN0IGZyb2dzRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmcm9ncycpOwogICAgICAgIGNvbnN0IGxpdmVzRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXZlcycpOwogICAgICAgIGNvbnN0IGxldmVsRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbCcpOwogICAgICAgIGNvbnN0IGxldmVsTnVtYmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLW51bWJlcicpOwogICAgICAgIGNvbnN0IHN0YXJ0U2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0LXNjcmVlbicpOwogICAgICAgIGNvbnN0IHdpblNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aW4tc2NyZWVuJyk7CiAgICAgICAgY29uc3QgbG9zZVNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb3NlLXNjcmVlbicpOwogICAgICAgIGNvbnN0IGxldmVsU2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLXNjcmVlbicpOwogICAgICAgIGNvbnN0IHNvdW5kVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvdW5kLXRvZ2dsZScpOwogICAgICAgIAogICAgICAgIGxldCBsZXZlbCA9IDEsIGxpdmVzID0gMywgZnJvZ3NIb21lID0gMDsKICAgICAgICBsZXQgZnJvZ1gsIGZyb2dZLCBmcm9nU2l6ZSA9IDQwOwogICAgICAgIGxldCBsYW5lcyA9IFtdLCBpc1BsYXlpbmcgPSBmYWxzZSwgc291bmRFbmFibGVkID0gdHJ1ZTsKICAgICAgICBsZXQgYXVkaW9DdHggPSBudWxsOwogICAgICAgIGNvbnN0IGNvbHMgPSA5LCByb3dzID0gMTE7CiAgICAgICAgbGV0IGNlbGxXLCBjZWxsSDsKICAgICAgICAKICAgICAgICBjb25zdCBsZXZlbENvbmZpZ3MgPSBbCiAgICAgICAgICAgIHsgc3BlZWQ6IDEsIGNhcnM6IDIsIGxvZ3M6IDIgfSwKICAgICAgICAgICAgeyBzcGVlZDogMS4zLCBjYXJzOiAzLCBsb2dzOiAyIH0sCiAgICAgICAgICAgIHsgc3BlZWQ6IDEuNSwgY2FyczogMywgbG9nczogMyB9LAogICAgICAgICAgICB7IHNwZWVkOiAxLjgsIGNhcnM6IDQsIGxvZ3M6IDMgfSwKICAgICAgICAgICAgeyBzcGVlZDogMiwgY2FyczogNCwgbG9nczogNCB9CiAgICAgICAgXTsKICAgICAgICAKICAgICAgICBmdW5jdGlvbiBpbml0QXVkaW8oKSB7IGlmICghYXVkaW9DdHgpIGF1ZGlvQ3R4ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKCk7IH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBwbGF5U291bmQodHlwZSkgewogICAgICAgICAgICBpZiAoIXNvdW5kRW5hYmxlZCB8fCAhYXVkaW9DdHgpIHJldHVybjsKICAgICAgICAgICAgY29uc3Qgb3NjID0gYXVkaW9DdHguY3JlYXRlT3NjaWxsYXRvcigpLCBnYWluID0gYXVkaW9DdHguY3JlYXRlR2FpbigpOwogICAgICAgICAgICBvc2MuY29ubmVjdChnYWluKTsgZ2Fpbi5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTsKICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdob3AnKSB7CiAgICAgICAgICAgICAgICBvc2MuZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKDQwMCwgYXVkaW9DdHguY3VycmVudFRpbWUpOwogICAgICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDYwMCwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjA4KTsKICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsKICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4xKTsKICAgICAgICAgICAgICAgIG9zYy5zdGFydCgpOyBvc2Muc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2RpZScpIHsKICAgICAgICAgICAgICAgIG9zYy5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoMzAwLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBvc2MuZnJlcXVlbmN5LmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoNTAsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4zKTsKICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjE1LCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBnYWluLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAxLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMyk7CiAgICAgICAgICAgICAgICBvc2Muc3RhcnQoKTsgb3NjLnN0b3AoYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjMpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdob21lJykgewogICAgICAgICAgICAgICAgWzUyMywgNjU5LCA3ODRdLmZvckVhY2goKGYsIGkpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBvID0gYXVkaW9DdHguY3JlYXRlT3NjaWxsYXRvcigpLCBnID0gYXVkaW9DdHguY3JlYXRlR2FpbigpOwogICAgICAgICAgICAgICAgICAgIG8uY29ubmVjdChnKTsgZy5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTsKICAgICAgICAgICAgICAgICAgICBvLmZyZXF1ZW5jeS52YWx1ZSA9IGY7CiAgICAgICAgICAgICAgICAgICAgZy5nYWluLnNldFZhbHVlQXRUaW1lKDAuMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xKTsKICAgICAgICAgICAgICAgICAgICBnLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAxLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjEgKyAwLjE1KTsKICAgICAgICAgICAgICAgICAgICBvLnN0YXJ0KGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMSk7CiAgICAgICAgICAgICAgICAgICAgby5zdG9wKGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMSArIDAuMTUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgc291bmRUb2dnbGUub25jbGljayA9ICgpID0+IHsgc291bmRFbmFibGVkID0gIXNvdW5kRW5hYmxlZDsgc291bmRUb2dnbGUudGV4dENvbnRlbnQgPSBzb3VuZEVuYWJsZWQgPyAn8J+UiicgOiAn8J+Uhyc7IH07CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gcmVzaXplQ2FudmFzKCkgewogICAgICAgICAgICBjb25zdCBtYXhXID0gd2luZG93LmlubmVyV2lkdGggLSAyMDsKICAgICAgICAgICAgY29uc3QgbWF4SCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIDIyMDsKICAgICAgICAgICAgY2VsbFcgPSBNYXRoLm1pbihNYXRoLmZsb29yKG1heFcgLyBjb2xzKSwgNTApOwogICAgICAgICAgICBjZWxsSCA9IE1hdGgubWluKE1hdGguZmxvb3IobWF4SCAvIHJvd3MpLCA0NSk7CiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGNvbHMgKiBjZWxsVzsKICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHJvd3MgKiBjZWxsSDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gc2V0dXBMZXZlbCgpIHsKICAgICAgICAgICAgY29uc3QgY29uZmlnID0gbGV2ZWxDb25maWdzW2xldmVsIC0gMV07CiAgICAgICAgICAgIGxhbmVzID0gW107CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSb3cgMDogR29hbCAobGlseSBwYWRzKQogICAgICAgICAgICBsYW5lcy5wdXNoKHsgdHlwZTogJ2dvYWwnLCBpdGVtczogW10gfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSb3dzIDEtNDogV2F0ZXIgd2l0aCBsb2dzCiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7CiAgICAgICAgICAgICAgICBjb25zdCBkaXIgPSBpICUgMiA9PT0gMCA/IDEgOiAtMTsKICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gW107CiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbmZpZy5sb2dzOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgeDogaiAqIChjYW52YXMud2lkdGggLyBjb25maWcubG9ncykgKyBNYXRoLnJhbmRvbSgpICogNTAsCiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBjZWxsVyAqICgyICsgTWF0aC5yYW5kb20oKSksCiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWVkOiAoMC41ICsgTWF0aC5yYW5kb20oKSAqIDAuNSkgKiBjb25maWcuc3BlZWQgKiBkaXIKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxhbmVzLnB1c2goeyB0eXBlOiAnd2F0ZXInLCBpdGVtcywgZGlyIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSb3cgNTogU2FmZSB6b25lCiAgICAgICAgICAgIGxhbmVzLnB1c2goeyB0eXBlOiAnc2FmZScsIGl0ZW1zOiBbXSB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFJvd3MgNi05OiBSb2FkIHdpdGggY2FycwogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykgewogICAgICAgICAgICAgICAgY29uc3QgZGlyID0gaSAlIDIgPT09IDAgPyAxIDogLTE7CiAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IFtdOwogICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjb25maWcuY2FyczsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHg6IGogKiAoY2FudmFzLndpZHRoIC8gY29uZmlnLmNhcnMpICsgTWF0aC5yYW5kb20oKSAqIDgwLAogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogY2VsbFcgKiAxLjUsCiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWVkOiAoMC44ICsgTWF0aC5yYW5kb20oKSAqIDAuNykgKiBjb25maWcuc3BlZWQgKiBkaXIsCiAgICAgICAgICAgICAgICAgICAgICAgIGVtb2ppOiBbJ/CfmpcnLCAn8J+alScsICfwn5qMJywgJ/CfmpInXVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KV0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxhbmVzLnB1c2goeyB0eXBlOiAncm9hZCcsIGl0ZW1zLCBkaXIgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFJvdyAxMDogU3RhcnQKICAgICAgICAgICAgbGFuZXMucHVzaCh7IHR5cGU6ICdzdGFydCcsIGl0ZW1zOiBbXSB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHJlc2V0RnJvZygpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiByZXNldEZyb2coKSB7CiAgICAgICAgICAgIGZyb2dYID0gTWF0aC5mbG9vcihjb2xzIC8gMik7CiAgICAgICAgICAgIGZyb2dZID0gcm93cyAtIDE7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIG1vdmVGcm9nKGR4LCBkeSkgewogICAgICAgICAgICBpZiAoIWlzUGxheWluZykgcmV0dXJuOwogICAgICAgICAgICBjb25zdCBuZXdYID0gZnJvZ1ggKyBkeDsKICAgICAgICAgICAgY29uc3QgbmV3WSA9IGZyb2dZICsgZHk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAobmV3WCA+PSAwICYmIG5ld1ggPCBjb2xzICYmIG5ld1kgPj0gMCAmJiBuZXdZIDwgcm93cykgewogICAgICAgICAgICAgICAgZnJvZ1ggPSBuZXdYOwogICAgICAgICAgICAgICAgZnJvZ1kgPSBuZXdZOwogICAgICAgICAgICAgICAgcGxheVNvdW5kKCdob3AnKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcmVhY2hlZCBnb2FsCiAgICAgICAgICAgICAgICBpZiAoZnJvZ1kgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBmcm9nc0hvbWUrKzsKICAgICAgICAgICAgICAgICAgICBmcm9nc0Rpc3BsYXkudGV4dENvbnRlbnQgPSBmcm9nc0hvbWU7CiAgICAgICAgICAgICAgICAgICAgcGxheVNvdW5kKCdob21lJyk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgaWYgKGZyb2dzSG9tZSA+PSAzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsQ29tcGxldGUoKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICByZXNldEZyb2coKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gQ29udHJvbHMKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLXVwJykub25jbGljayA9ICgpID0+IG1vdmVGcm9nKDAsIC0xKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLWRvd24nKS5vbmNsaWNrID0gKCkgPT4gbW92ZUZyb2coMCwgMSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1sZWZ0Jykub25jbGljayA9ICgpID0+IG1vdmVGcm9nKC0xLCAwKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLXJpZ2h0Jykub25jbGljayA9ICgpID0+IG1vdmVGcm9nKDEsIDApOwogICAgICAgIAogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4gewogICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdBcnJvd1VwJykgbW92ZUZyb2coMCwgLTEpOwogICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdBcnJvd0Rvd24nKSBtb3ZlRnJvZygwLCAxKTsKICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnQXJyb3dMZWZ0JykgbW92ZUZyb2coLTEsIDApOwogICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdBcnJvd1JpZ2h0JykgbW92ZUZyb2coMSwgMCk7CiAgICAgICAgfSk7CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gdXBkYXRlKCkgewogICAgICAgICAgICBpZiAoIWlzUGxheWluZykgcmV0dXJuOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gTW92ZSBsYW5lIGl0ZW1zCiAgICAgICAgICAgIGxhbmVzLmZvckVhY2gobGFuZSA9PiB7CiAgICAgICAgICAgICAgICBsYW5lLml0ZW1zLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaXRlbS54ICs9IGl0ZW0uc3BlZWQ7CiAgICAgICAgICAgICAgICAgICAgLy8gV3JhcCBhcm91bmQKICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS54ID4gY2FudmFzLndpZHRoICsgNTApIGl0ZW0ueCA9IC1pdGVtLndpZHRoOwogICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnggPCAtaXRlbS53aWR0aCAtIDUwKSBpdGVtLnggPSBjYW52YXMud2lkdGg7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBDaGVjayBjb2xsaXNpb25zCiAgICAgICAgICAgIGNvbnN0IGZyb2dQeCA9IGZyb2dYICogY2VsbFcgKyBjZWxsVyAvIDI7CiAgICAgICAgICAgIGNvbnN0IGZyb2dQeSA9IGZyb2dZICogY2VsbEggKyBjZWxsSCAvIDI7CiAgICAgICAgICAgIGNvbnN0IGxhbmUgPSBsYW5lc1tmcm9nWV07CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAobGFuZS50eXBlID09PSAncm9hZCcpIHsKICAgICAgICAgICAgICAgIC8vIENoZWNrIGNhciBjb2xsaXNpb24KICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2FyIG9mIGxhbmUuaXRlbXMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZnJvZ1B4ID4gY2FyLnggJiYgZnJvZ1B4IDwgY2FyLnggKyBjYXIud2lkdGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGllKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAobGFuZS50eXBlID09PSAnd2F0ZXInKSB7CiAgICAgICAgICAgICAgICAvLyBNdXN0IGJlIG9uIGEgbG9nCiAgICAgICAgICAgICAgICBsZXQgb25Mb2cgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbG9nIG9mIGxhbmUuaXRlbXMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZnJvZ1B4ID4gbG9nLnggJiYgZnJvZ1B4IDwgbG9nLnggKyBsb2cud2lkdGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgb25Mb2cgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAvLyBNb3ZlIHdpdGggbG9nCiAgICAgICAgICAgICAgICAgICAgICAgIGZyb2dYICs9IGxvZy5zcGVlZCAvIGNlbGxXICogMC41OwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJvZ1ggPCAwIHx8IGZyb2dYID49IGNvbHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICghb25Mb2cpIHsKICAgICAgICAgICAgICAgICAgICBkaWUoKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gZGllKCkgewogICAgICAgICAgICBsaXZlcy0tOwogICAgICAgICAgICBsaXZlc0Rpc3BsYXkudGV4dENvbnRlbnQgPSBsaXZlczsKICAgICAgICAgICAgcGxheVNvdW5kKCdkaWUnKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChsaXZlcyA8PSAwKSB7CiAgICAgICAgICAgICAgICBpc1BsYXlpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGxvc2VTY3JlZW4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXNldEZyb2coKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBkcmF3KCkgewogICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBEcmF3IGxhbmVzCiAgICAgICAgICAgIGxhbmVzLmZvckVhY2goKGxhbmUsIGkpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBpICogY2VsbEg7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChsYW5lLnR5cGUgPT09ICdnb2FsJykgewogICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzJFQ0M3MSc7CiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIHksIGNhbnZhcy53aWR0aCwgY2VsbEgpOwogICAgICAgICAgICAgICAgICAgIC8vIExpbHkgcGFkcwogICAgICAgICAgICAgICAgICAgIGN0eC5mb250ID0gYCR7Y2VsbEggKiAwLjh9cHggQXJpYWxgOwogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAxOyBqIDwgY29sczsgaiArPSAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dCgn8J+MvycsIGogKiBjZWxsVyArIDUsIHkgKyBjZWxsSCAtIDUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGFuZS50eXBlID09PSAnd2F0ZXInKSB7CiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMzQ5OERCJzsKICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgeSwgY2FudmFzLndpZHRoLCBjZWxsSCk7CiAgICAgICAgICAgICAgICAgICAgLy8gTG9ncwogICAgICAgICAgICAgICAgICAgIGxhbmUuaXRlbXMuZm9yRWFjaChsb2cgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyM4QjQ1MTMnOwogICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QobG9nLngsIHkgKyA1LCBsb2cud2lkdGgsIGNlbGxIIC0gMTApOwogICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNBMDUyMkQnOwogICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QobG9nLnggKyA1LCB5ICsgMTAsIGxvZy53aWR0aCAtIDEwLCBjZWxsSCAtIDIwKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGFuZS50eXBlID09PSAncm9hZCcpIHsKICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyM0NDQnOwogICAgICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCB5LCBjYW52YXMud2lkdGgsIGNlbGxIKTsKICAgICAgICAgICAgICAgICAgICAvLyBSb2FkIGxpbmVzCiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjRkZGJzsKICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbHM7IGorKykgewogICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoaiAqIGNlbGxXICsgY2VsbFcgLyAzLCB5ICsgY2VsbEggLyAyIC0gMiwgY2VsbFcgLyAzLCA0KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8gQ2FycwogICAgICAgICAgICAgICAgICAgIGN0eC5mb250ID0gYCR7Y2VsbEggKiAwLjd9cHggQXJpYWxgOwogICAgICAgICAgICAgICAgICAgIGxhbmUuaXRlbXMuZm9yRWFjaChjYXIgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoY2FyLmVtb2ppLCBjYXIueCwgeSArIGNlbGxIIC0gOCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxhbmUudHlwZSA9PT0gJ3NhZmUnIHx8IGxhbmUudHlwZSA9PT0gJ3N0YXJ0JykgewogICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzlCNTlCNic7CiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIHksIGNhbnZhcy53aWR0aCwgY2VsbEgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIERyYXcgZnJvZwogICAgICAgICAgICBjdHguZm9udCA9IGAke2Zyb2dTaXplfXB4IEFyaWFsYDsKICAgICAgICAgICAgY3R4LmZpbGxUZXh0KCfwn5C4JywgZnJvZ1ggKiBjZWxsVyArIChjZWxsVyAtIGZyb2dTaXplKSAvIDIsIGZyb2dZICogY2VsbEggKyBjZWxsSCAtIDUpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBnYW1lTG9vcCgpIHsKICAgICAgICAgICAgaWYgKCFpc1BsYXlpbmcpIHJldHVybjsKICAgICAgICAgICAgdXBkYXRlKCk7CiAgICAgICAgICAgIGRyYXcoKTsKICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gbGV2ZWxDb21wbGV0ZSgpIHsKICAgICAgICAgICAgaXNQbGF5aW5nID0gZmFsc2U7CiAgICAgICAgICAgIGxldmVsKys7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAobGV2ZWwgPiA1KSB7CiAgICAgICAgICAgICAgICB3aW5TY3JlZW4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzaG93TGV2ZWxTY3JlZW4oKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBzaG93TGV2ZWxTY3JlZW4oKSB7CiAgICAgICAgICAgIGxldmVsTnVtYmVyLnRleHRDb250ZW50ID0gbGV2ZWw7CiAgICAgICAgICAgIGxldmVsU2NyZWVuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgICAgICAgICAKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBsZXZlbFNjcmVlbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICAgICAgICAgIGZyb2dzSG9tZSA9IDA7CiAgICAgICAgICAgICAgICBmcm9nc0Rpc3BsYXkudGV4dENvbnRlbnQgPSBmcm9nc0hvbWU7CiAgICAgICAgICAgICAgICBsZXZlbERpc3BsYXkudGV4dENvbnRlbnQgPSBsZXZlbDsKICAgICAgICAgICAgICAgIHNldHVwTGV2ZWwoKTsKICAgICAgICAgICAgICAgIGlzUGxheWluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBnYW1lTG9vcCgpOwogICAgICAgICAgICB9LCAxNTAwKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gc3RhcnRHYW1lKCkgewogICAgICAgICAgICBpbml0QXVkaW8oKTsKICAgICAgICAgICAgcmVzaXplQ2FudmFzKCk7CiAgICAgICAgICAgIGxldmVsID0gMTsKICAgICAgICAgICAgbGl2ZXMgPSAzOwogICAgICAgICAgICBmcm9nc0hvbWUgPSAwOwogICAgICAgICAgICBsaXZlc0Rpc3BsYXkudGV4dENvbnRlbnQgPSBsaXZlczsKICAgICAgICAgICAgZnJvZ3NEaXNwbGF5LnRleHRDb250ZW50ID0gZnJvZ3NIb21lOwogICAgICAgICAgICBsZXZlbERpc3BsYXkudGV4dENvbnRlbnQgPSBsZXZlbDsKICAgICAgICAgICAgCiAgICAgICAgICAgIHN0YXJ0U2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgICAgICB3aW5TY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgIGxvc2VTY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBzZXR1cExldmVsKCk7CiAgICAgICAgICAgIGlzUGxheWluZyA9IHRydWU7CiAgICAgICAgICAgIGdhbWVMb29wKCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7CiAgICAgICAgICAgIHJlc2l6ZUNhbnZhcygpOwogICAgICAgICAgICBpZiAoaXNQbGF5aW5nKSBkcmF3KCk7CiAgICAgICAgfSk7CiAgICAgICAgCiAgICAgICAgcmVzaXplQ2FudmFzKCk7CiAgICA8L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+Cg==';
GAMES['rennen'] = 'PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImRlIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyI+CiAgICA8dGl0bGU+8J+Pju+4jyBSZW5uLU1laXN0ZXIhPC90aXRsZT4KICAgIDxzdHlsZT4KICAgICAgICBAaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1GcmVkb2thOndnaHRANDAwOzYwMDs3MDAmZGlzcGxheT1zd2FwJyk7CiAgICAgICAgKiB7IG1hcmdpbjogMDsgcGFkZGluZzogMDsgYm94LXNpemluZzogYm9yZGVyLWJveDsgfQogICAgICAgIGJvZHkgeyBmb250LWZhbWlseTogJ0ZyZWRva2EnLCBzYW5zLXNlcmlmOyBtaW4taGVpZ2h0OiAxMDB2aDsgYmFja2dyb3VuZDogIzFhMWEyZTsgb3ZlcmZsb3c6IGhpZGRlbjsgdG91Y2gtYWN0aW9uOiBub25lOyB9CiAgICAgICAgI2dhbWUtY29udGFpbmVyIHsgcG9zaXRpb246IHJlbGF0aXZlOyB3aWR0aDogMTAwdnc7IGhlaWdodDogMTAwdmg7IH0KICAgICAgICAjdG9wLWJhciB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAxMHB4OyBsZWZ0OiAwOyByaWdodDogMDsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogMTVweDsgei1pbmRleDogMTAwOyBwYWRkaW5nOiAwIDE1cHg7IGZsZXgtd3JhcDogd3JhcDsgfQogICAgICAgICNzY29yZS1ib2FyZCB7IGJhY2tncm91bmQ6ICNFNzRDM0M7IGNvbG9yOiB3aGl0ZTsgcGFkZGluZzogMTBweCAyMHB4OyBib3JkZXItcmFkaXVzOiA0MHB4OyBmb250LXNpemU6IDE4cHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGJveC1zaGFkb3c6IDAgNXB4IDAgI0MwMzkyQjsgfQogICAgICAgICNsZXZlbC1pbmZvIHsgYmFja2dyb3VuZDogIzM0OThEQjsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiA4cHggMTZweDsgYm9yZGVyLXJhZGl1czogMjVweDsgZm9udC1zaXplOiAxNXB4OyBmb250LXdlaWdodDogNjAwOyB9CiAgICAgICAgI2xhcC1pbmZvIHsgYmFja2dyb3VuZDogIzlCNTlCNjsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiA4cHggMTZweDsgYm9yZGVyLXJhZGl1czogMjVweDsgZm9udC1zaXplOiAxNXB4OyBmb250LXdlaWdodDogNjAwOyB9CiAgICAgICAgI3NvdW5kLXRvZ2dsZSB7IGJhY2tncm91bmQ6ICMzNDk4REI7IGJvcmRlcjogbm9uZTsgcGFkZGluZzogOHB4IDE1cHg7IGJvcmRlci1yYWRpdXM6IDI1cHg7IGZvbnQtc2l6ZTogMThweDsgY3Vyc29yOiBwb2ludGVyOyB9CiAgICAgICAgY2FudmFzIHsgZGlzcGxheTogYmxvY2s7IH0KICAgICAgICAjY29udHJvbHMgeyBwb3NpdGlvbjogYWJzb2x1dGU7IGJvdHRvbTogMDsgbGVmdDogMDsgcmlnaHQ6IDA7IGhlaWdodDogMzUlOyBkaXNwbGF5OiBmbGV4OyBwb2ludGVyLWV2ZW50czogYXV0bzsgei1pbmRleDogNTA7IH0KICAgICAgICAuY29udHJvbC16b25lIHsgZmxleDogMTsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGZvbnQtc2l6ZTogNjBweDsgb3BhY2l0eTogMC4zOyB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMXMsIGJhY2tncm91bmQgMC4xczsgdXNlci1zZWxlY3Q6IG5vbmU7IH0KICAgICAgICAuY29udHJvbC16b25lLmFjdGl2ZSB7IG9wYWNpdHk6IDE7IGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC4yKTsgfQogICAgICAgICNzdGFydC1zY3JlZW4sICN3aW4tc2NyZWVuLCAjbGV2ZWwtc2NyZWVuLCAjY3Jhc2gtc2NyZWVuIHsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNFNzRDM0MgMCUsICNDMDM5MkIgMTAwJSk7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyB6LWluZGV4OiAyMDA7IGdhcDogMjVweDsgfQogICAgICAgICN3aW4tc2NyZWVuIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzJFQ0M3MSAwJSwgIzI3QUU2MCAxMDAlKTsgfQogICAgICAgICNsZXZlbC1zY3JlZW4geyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMzQ5OERCIDAlLCAjMjk4MEI5IDEwMCUpOyB9CiAgICAgICAgI2NyYXNoLXNjcmVlbiB7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNFNzRDM0MgMCUsICNDMDM5MkIgMTAwJSk7IH0KICAgICAgICAuc2NyZWVuLXRpdGxlIHsgZm9udC1zaXplOiA0MnB4OyBjb2xvcjogd2hpdGU7IHRleHQtc2hhZG93OiAwIDZweCAwIHJnYmEoMCwwLDAsMC4yKTsgdGV4dC1hbGlnbjogY2VudGVyOyB9CiAgICAgICAgLnNjcmVlbi1pY29uIHsgZm9udC1zaXplOiA4MHB4OyB9CiAgICAgICAgLnN0YXJ0LWJ0biB7IGJhY2tncm91bmQ6ICNGMUM0MEY7IGNvbG9yOiAjMzMzOyBib3JkZXI6IG5vbmU7IHBhZGRpbmc6IDE4cHggNDVweDsgZm9udC1zaXplOiAyNnB4OyBmb250LWZhbWlseTogJ0ZyZWRva2EnLCBzYW5zLXNlcmlmOyBmb250LXdlaWdodDogNzAwOyBib3JkZXItcmFkaXVzOiA1MHB4OyBjdXJzb3I6IHBvaW50ZXI7IGJveC1zaGFkb3c6IDAgNnB4IDAgI0Q0QUMwRDsgfQogICAgICAgIC5zdGFydC1idG46YWN0aXZlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDNweCk7IGJveC1zaGFkb3c6IDAgM3B4IDAgI0Q0QUMwRDsgfQogICAgICAgIC5oaWRkZW4geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0KICAgICAgICAuaW5zdHJ1Y3Rpb25zIHsgY29sb3I6IHdoaXRlOyBmb250LXNpemU6IDE4cHg7IHRleHQtYWxpZ246IGNlbnRlcjsgbGluZS1oZWlnaHQ6IDEuNjsgfQogICAgICAgICNvZmZyb2FkLXdhcm5pbmcgeyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogNTAlOyBsZWZ0OiA1MCU7IHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOyBmb250LXNpemU6IDQwcHg7IGNvbG9yOiAjRTc0QzNDOyBmb250LXdlaWdodDogYm9sZDsgdGV4dC1zaGFkb3c6IDAgMCAyMHB4IHdoaXRlOyBkaXNwbGF5OiBub25lOyB6LWluZGV4OiAxNTA7IGFuaW1hdGlvbjogcHVsc2UgMC4zcyBpbmZpbml0ZTsgfQogICAgICAgIEBrZXlmcmFtZXMgcHVsc2UgeyAwJSwgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDEpOyB9IDUwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDEuMSk7IH0gfQogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgaWQ9ImdhbWUtY29udGFpbmVyIj4KICAgICAgICA8ZGl2IGlkPSJ0b3AtYmFyIj4KICAgICAgICAgICAgPGJ1dHRvbiBpZD0ic291bmQtdG9nZ2xlIj7wn5SKPC9idXR0b24+CiAgICAgICAgICAgIDxkaXYgaWQ9InNjb3JlLWJvYXJkIj7ij7HvuI8gPHNwYW4gaWQ9InRpbWUiPjA6MDA8L3NwYW4+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgaWQ9ImxldmVsLWluZm8iPlN0cmVja2UgPHNwYW4gaWQ9ImxldmVsIj4xPC9zcGFuPjwvZGl2PgogICAgICAgICAgICA8ZGl2IGlkPSJsYXAtaW5mbyI+UnVuZGUgPHNwYW4gaWQ9ImxhcCI+MTwvc3Bhbj4vMzwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxjYW52YXMgaWQ9ImdhbWUtY2FudmFzIj48L2NhbnZhcz4KICAgICAgICA8ZGl2IGlkPSJvZmZyb2FkLXdhcm5pbmciPuKaoO+4jyBaVVLDnENLIEFVRiBESUUgU1RSQVNTRSE8L2Rpdj4KICAgICAgICA8ZGl2IGlkPSJjb250cm9scyI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbnRyb2wtem9uZSIgaWQ9ImxlZnQtem9uZSI+4qyF77iPPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbnRyb2wtem9uZSIgaWQ9InJpZ2h0LXpvbmUiPuKeoe+4jzwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9InN0YXJ0LXNjcmVlbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNjcmVlbi1pY29uIj7wn4+O77iPPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5SZW5uLU1laXN0ZXIhPC9oMT4KICAgICAgICAgICAgPHAgY2xhc3M9Imluc3RydWN0aW9ucyI+SGFsdGUgbGlua3Mgb2RlciByZWNodHMgZ2VkcsO8Y2t0PGJyPnVtIHp1IGxlbmtlbiE8YnI+4pqg77iPIE5pY2h0IHZvbiBkZXIgU3RyYcOfZSBmYWxsZW4hPC9wPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzdGFydC1idG4iIG9uY2xpY2s9InN0YXJ0R2FtZSgpIj7wn4+BIFN0YXJ0ITwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9ImxldmVsLXNjcmVlbiIgY2xhc3M9ImhpZGRlbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNjcmVlbi1pY29uIj7wn4+O77iPPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5TdHJlY2tlIDxzcGFuIGlkPSJsZXZlbC1udW1iZXIiPjE8L3NwYW4+PC9oMT4KICAgICAgICAgICAgPHAgaWQ9InRyYWNrLW5hbWUiIHN0eWxlPSJjb2xvcjogd2hpdGU7IGZvbnQtc2l6ZTogMjRweDsiPjwvcD4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJjcmFzaC1zY3JlZW4iIGNsYXNzPSJoaWRkZW4iPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzY3JlZW4taWNvbiI+8J+SpTwvZGl2PgogICAgICAgICAgICA8aDEgY2xhc3M9InNjcmVlbi10aXRsZSI+Vm9uIGRlciBTdHJhw59lITwvaDE+CiAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjogd2hpdGU7IGZvbnQtc2l6ZTogMjBweDsiPlZlcnN1Y2ggZXMgbm9jaG1hbCE8L3A+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InN0YXJ0LWJ0biIgb25jbGljaz0icmVzdGFydExldmVsKCkiPvCflIQgV2VpdGVyITwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9Indpbi1zY3JlZW4iIGNsYXNzPSJoaWRkZW4iPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzY3JlZW4taWNvbiI+8J+PhjwvZGl2PgogICAgICAgICAgICA8aDEgY2xhc3M9InNjcmVlbi10aXRsZSI+R2V3b25uZW4hPC9oMT4KICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOiB3aGl0ZTsgZm9udC1zaXplOiAyNHB4OyI+QWxsZSBTdHJlY2tlbiBnZXNjaGFmZnQhPC9wPgogICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDMycHg7IGNvbG9yOiB3aGl0ZTsiPkdlc2FtdHplaXQ6IDxzcGFuIGlkPSJmaW5hbC10aW1lIj4wOjAwPC9zcGFuPjwvZGl2PgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzdGFydC1idG4iIG9uY2xpY2s9InN0YXJ0R2FtZSgpIj7wn5SEIE5vY2htYWwhPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8c2NyaXB0PgogICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNhbnZhcycpOwogICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICAgIGNvbnN0IHRpbWVEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpbWUnKTsKICAgICAgICBjb25zdCBsZXZlbERpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwnKTsKICAgICAgICBjb25zdCBsYXBEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhcCcpOwogICAgICAgIGNvbnN0IGxldmVsTnVtYmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLW51bWJlcicpOwogICAgICAgIGNvbnN0IHRyYWNrTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0cmFjay1uYW1lJyk7CiAgICAgICAgY29uc3Qgc3RhcnRTY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnQtc2NyZWVuJyk7CiAgICAgICAgY29uc3Qgd2luU2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpbi1zY3JlZW4nKTsKICAgICAgICBjb25zdCBsZXZlbFNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC1zY3JlZW4nKTsKICAgICAgICBjb25zdCBjcmFzaFNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjcmFzaC1zY3JlZW4nKTsKICAgICAgICBjb25zdCBmaW5hbFRpbWVEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbmFsLXRpbWUnKTsKICAgICAgICBjb25zdCBzb3VuZFRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb3VuZC10b2dnbGUnKTsKICAgICAgICBjb25zdCBsZWZ0Wm9uZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWZ0LXpvbmUnKTsKICAgICAgICBjb25zdCByaWdodFpvbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmlnaHQtem9uZScpOwogICAgICAgIGNvbnN0IG9mZnJvYWRXYXJuaW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29mZnJvYWQtd2FybmluZycpOwogICAgICAgIAogICAgICAgIGxldCBsZXZlbCA9IDEsIGxhcCA9IDEsIGlzUGxheWluZyA9IGZhbHNlLCBzb3VuZEVuYWJsZWQgPSB0cnVlOwogICAgICAgIGxldCBzdGFydFRpbWUgPSAwLCB0b3RhbFRpbWUgPSAwLCByYWNlVGltZSA9IDA7CiAgICAgICAgbGV0IHN0ZWVyTGVmdCA9IGZhbHNlLCBzdGVlclJpZ2h0ID0gZmFsc2U7CiAgICAgICAgbGV0IGF1ZGlvQ3R4ID0gbnVsbDsKICAgICAgICAKICAgICAgICAvLyBDYXIgcG9zaXRpb246IC0xIChsZWZ0IGVkZ2UpIHRvIDEgKHJpZ2h0IGVkZ2UpLCAwID0gY2VudGVyCiAgICAgICAgbGV0IGNhclggPSAwOwogICAgICAgIGxldCByb2FkQ3VydmUgPSAwOyAvLyBDdXJyZW50IGN1cnZlIG9mIHJvYWQKICAgICAgICBsZXQgZGlzdGFuY2UgPSAwOwogICAgICAgIGxldCBsYXBEaXN0YW5jZSA9IDA7CiAgICAgICAgY29uc3QgbGFwTGVuZ3RoID0gNjAwOwogICAgICAgIGxldCBvZmZyb2FkVGltZSA9IDA7CiAgICAgICAgY29uc3QgbWF4T2Zmcm9hZFRpbWUgPSA2MDsgLy8gZnJhbWVzIGJlZm9yZSBjcmFzaAogICAgICAgIAogICAgICAgIC8vIFRyYWNrIGRlZmluaXRpb24gLSBhcnJheSBvZiBjdXJ2ZSB2YWx1ZXMKICAgICAgICBsZXQgdHJhY2tEYXRhID0gW107CiAgICAgICAgCiAgICAgICAgY29uc3QgdHJhY2tzID0gWwogICAgICAgICAgICB7IG5hbWU6ICfwn4+BIEFuZsOkbmdlcicsIGNvbG9yOiAnIzI3QUU2MCcsIGRpZmZpY3VsdHk6IDEgfSwKICAgICAgICAgICAgeyBuYW1lOiAn8J+MsiBXYWxka3VycycsIGNvbG9yOiAnIzFFODQ0OScsIGRpZmZpY3VsdHk6IDIgfSwKICAgICAgICAgICAgeyBuYW1lOiAn8J+PnO+4jyBXw7xzdGUnLCBjb2xvcjogJyNENEFDMEQnLCBkaWZmaWN1bHR5OiAyLjUgfSwKICAgICAgICAgICAgeyBuYW1lOiAn4p2E77iPIEVpcy1QaXN0ZScsIGNvbG9yOiAnIzVEQURFMicsIGRpZmZpY3VsdHk6IDMgfSwKICAgICAgICAgICAgeyBuYW1lOiAn8J+MiCBSZWdlbmJvZ2VuJywgY29sb3I6ICcjOUI1OUI2JywgZGlmZmljdWx0eTogMy41IH0KICAgICAgICBdOwogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGluaXRBdWRpbygpIHsgaWYgKCFhdWRpb0N0eCkgYXVkaW9DdHggPSBuZXcgKHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkoKTsgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHBsYXlTb3VuZCh0eXBlKSB7CiAgICAgICAgICAgIGlmICghc291bmRFbmFibGVkIHx8ICFhdWRpb0N0eCkgcmV0dXJuOwogICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2xhcCcpIHsKICAgICAgICAgICAgICAgIGNvbnN0IG9zYyA9IGF1ZGlvQ3R4LmNyZWF0ZU9zY2lsbGF0b3IoKSwgZ2FpbiA9IGF1ZGlvQ3R4LmNyZWF0ZUdhaW4oKTsKICAgICAgICAgICAgICAgIG9zYy5jb25uZWN0KGdhaW4pOyBnYWluLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pOwogICAgICAgICAgICAgICAgb3NjLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZSg4MDAsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsKICAgICAgICAgICAgICAgIG9zYy5mcmVxdWVuY3kuZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgxMjAwLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMTUpOwogICAgICAgICAgICAgICAgZ2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKDAuMTUsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsKICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4yKTsKICAgICAgICAgICAgICAgIG9zYy5zdGFydCgpOyBvc2Muc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMik7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3dpbicpIHsKICAgICAgICAgICAgICAgIFs1MjMsIDY1OSwgNzg0LCAxMDQ3XS5mb3JFYWNoKChmcmVxLCBpKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbyA9IGF1ZGlvQ3R4LmNyZWF0ZU9zY2lsbGF0b3IoKSwgZyA9IGF1ZGlvQ3R4LmNyZWF0ZUdhaW4oKTsKICAgICAgICAgICAgICAgICAgICBvLmNvbm5lY3QoZyk7IGcuY29ubmVjdChhdWRpb0N0eC5kZXN0aW5hdGlvbik7CiAgICAgICAgICAgICAgICAgICAgby5mcmVxdWVuY3kudmFsdWUgPSBmcmVxOwogICAgICAgICAgICAgICAgICAgIGcuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMTIpOwogICAgICAgICAgICAgICAgICAgIGcuZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMTIgKyAwLjI1KTsKICAgICAgICAgICAgICAgICAgICBvLnN0YXJ0KGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMTIpOwogICAgICAgICAgICAgICAgICAgIG8uc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjEyICsgMC4yNSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnY3Jhc2gnKSB7CiAgICAgICAgICAgICAgICBjb25zdCBvc2MgPSBhdWRpb0N0eC5jcmVhdGVPc2NpbGxhdG9yKCksIGdhaW4gPSBhdWRpb0N0eC5jcmVhdGVHYWluKCk7CiAgICAgICAgICAgICAgICBvc2MuY29ubmVjdChnYWluKTsgZ2Fpbi5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTsKICAgICAgICAgICAgICAgIG9zYy5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoMzAwLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7CiAgICAgICAgICAgICAgICBvc2MuZnJlcXVlbmN5LmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoNTAsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4zKTsKICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjIsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsKICAgICAgICAgICAgICAgIGdhaW4uZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4zKTsKICAgICAgICAgICAgICAgIG9zYy5zdGFydCgpOyBvc2Muc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgc291bmRUb2dnbGUub25jbGljayA9ICgpID0+IHsgc291bmRFbmFibGVkID0gIXNvdW5kRW5hYmxlZDsgc291bmRUb2dnbGUudGV4dENvbnRlbnQgPSBzb3VuZEVuYWJsZWQgPyAn8J+UiicgOiAn8J+Uhyc7IH07CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gcmVzaXplQ2FudmFzKCkgewogICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsKICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gVG91Y2gvbW91c2UgY29udHJvbHMKICAgICAgICBmdW5jdGlvbiBzZXRMZWZ0QWN0aXZlKGFjdGl2ZSkgewogICAgICAgICAgICBzdGVlckxlZnQgPSBhY3RpdmU7CiAgICAgICAgICAgIGxlZnRab25lLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIGFjdGl2ZSk7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHNldFJpZ2h0QWN0aXZlKGFjdGl2ZSkgewogICAgICAgICAgICBzdGVlclJpZ2h0ID0gYWN0aXZlOwogICAgICAgICAgICByaWdodFpvbmUuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJywgYWN0aXZlKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgbGVmdFpvbmUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGUgPT4geyBlLnByZXZlbnREZWZhdWx0KCk7IHNldExlZnRBY3RpdmUodHJ1ZSk7IH0sIHsgcGFzc2l2ZTogZmFsc2UgfSk7CiAgICAgICAgbGVmdFpvbmUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoKSA9PiBzZXRMZWZ0QWN0aXZlKGZhbHNlKSk7CiAgICAgICAgbGVmdFpvbmUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCAoKSA9PiBzZXRMZWZ0QWN0aXZlKGZhbHNlKSk7CiAgICAgICAgbGVmdFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4gc2V0TGVmdEFjdGl2ZSh0cnVlKSk7CiAgICAgICAgbGVmdFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsICgpID0+IHNldExlZnRBY3RpdmUoZmFsc2UpKTsKICAgICAgICBsZWZ0Wm9uZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4gc2V0TGVmdEFjdGl2ZShmYWxzZSkpOwogICAgICAgIAogICAgICAgIHJpZ2h0Wm9uZS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZSA9PiB7IGUucHJldmVudERlZmF1bHQoKTsgc2V0UmlnaHRBY3RpdmUodHJ1ZSk7IH0sIHsgcGFzc2l2ZTogZmFsc2UgfSk7CiAgICAgICAgcmlnaHRab25lLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKCkgPT4gc2V0UmlnaHRBY3RpdmUoZmFsc2UpKTsKICAgICAgICByaWdodFpvbmUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCAoKSA9PiBzZXRSaWdodEFjdGl2ZShmYWxzZSkpOwogICAgICAgIHJpZ2h0Wm9uZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiBzZXRSaWdodEFjdGl2ZSh0cnVlKSk7CiAgICAgICAgcmlnaHRab25lLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoKSA9PiBzZXRSaWdodEFjdGl2ZShmYWxzZSkpOwogICAgICAgIHJpZ2h0Wm9uZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4gc2V0UmlnaHRBY3RpdmUoZmFsc2UpKTsKICAgICAgICAKICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZVRyYWNrKGRpZmZpY3VsdHkpIHsKICAgICAgICAgICAgdHJhY2tEYXRhID0gW107CiAgICAgICAgICAgIC8vIEdlbmVyYXRlIHNtb290aCBjdXJ2ZXMKICAgICAgICAgICAgbGV0IGN1cnJlbnRDdXJ2ZSA9IDA7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFwTGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIC8vIENoYW5nZSBkaXJlY3Rpb24gb2NjYXNpb25hbGx5CiAgICAgICAgICAgICAgICBpZiAoaSAlIDMwID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgY3VycmVudEN1cnZlID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogZGlmZmljdWx0eSAqIDAuODsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRyYWNrRGF0YS5wdXNoKGN1cnJlbnRDdXJ2ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gU21vb3RoIHRoZSB0cmFjawogICAgICAgICAgICBmb3IgKGxldCBwYXNzID0gMDsgcGFzcyA8IDM7IHBhc3MrKykgewogICAgICAgICAgICAgICAgY29uc3Qgc21vb3RoZWQgPSBbXTsKICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJhY2tEYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldiA9IHRyYWNrRGF0YVsoaSAtIDEgKyB0cmFja0RhdGEubGVuZ3RoKSAlIHRyYWNrRGF0YS5sZW5ndGhdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnIgPSB0cmFja0RhdGFbaV07CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IHRyYWNrRGF0YVsoaSArIDEpICUgdHJhY2tEYXRhLmxlbmd0aF07CiAgICAgICAgICAgICAgICAgICAgc21vb3RoZWQucHVzaCgocHJldiArIGN1cnIgKyBuZXh0KSAvIDMpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdHJhY2tEYXRhID0gc21vb3RoZWQ7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gZ2V0Q3VydmVBdChkaXN0KSB7CiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gTWF0aC5mbG9vcihkaXN0KSAlIGxhcExlbmd0aDsKICAgICAgICAgICAgcmV0dXJuIHRyYWNrRGF0YVtpbmRleF0gfHwgMDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gZHJhd0dhbWUoKSB7CiAgICAgICAgICAgIGNvbnN0IHcgPSBjYW52YXMud2lkdGgsIGggPSBjYW52YXMuaGVpZ2h0OwogICAgICAgICAgICBjb25zdCB0cmFjayA9IHRyYWNrc1tsZXZlbCAtIDFdOwogICAgICAgICAgICBjb25zdCBob3Jpem9uID0gaCAqIDAuMzU7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBTa3kKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGxldmVsID09PSA1ID8gJyM5QjU5QjYnIDogJyM0YTkwZDknOwogICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgdywgaG9yaXpvbik7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBHcm91bmQKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGxldmVsID09PSAzID8gJyNFREM5QUYnIDogbGV2ZWwgPT09IDQgPyAnI0U4RjRGOCcgOiAnIzNkOGM0MCc7CiAgICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCBob3Jpem9uLCB3LCBoIC0gaG9yaXpvbik7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBEcmF3IHJvYWQgc2VnbWVudHMgZnJvbSBob3Jpem9uIHRvIGJvdHRvbQogICAgICAgICAgICBjb25zdCBzZWdtZW50cyA9IDgwOwogICAgICAgICAgICBmb3IgKGxldCBpID0gc2VnbWVudHM7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICAgICAgICBjb25zdCBwZXJzcGVjdGl2ZSA9IGkgLyBzZWdtZW50czsgLy8gMCBhdCBob3Jpem9uLCAxIGF0IGJvdHRvbQogICAgICAgICAgICAgICAgY29uc3QgeSA9IGhvcml6b24gKyAoaCAtIGhvcml6b24pICogcGVyc3BlY3RpdmU7CiAgICAgICAgICAgICAgICBjb25zdCBzZWdtZW50SGVpZ2h0ID0gKGggLSBob3Jpem9uKSAvIHNlZ21lbnRzICsgMTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gTG9vayBhaGVhZCBpbiB0cmFjayBkYXRhIGZvciB0aGlzIHNlZ21lbnQKICAgICAgICAgICAgICAgIGNvbnN0IGxvb2tBaGVhZCA9IE1hdGguZmxvb3IoZGlzdGFuY2UgKyAoMSAtIHBlcnNwZWN0aXZlKSAqIDUwKTsKICAgICAgICAgICAgICAgIGNvbnN0IGN1cnZlID0gZ2V0Q3VydmVBdChsb29rQWhlYWQpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBSb2FkIHdpZHRoIGluY3JlYXNlcyB3aXRoIHBlcnNwZWN0aXZlCiAgICAgICAgICAgICAgICBjb25zdCByb2FkV2lkdGggPSA2MCArIHBlcnNwZWN0aXZlICogMjUwOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBSb2FkIGNlbnRlciBzaGlmdHMgYmFzZWQgb24gY3VydmUgYW5kIGNhciBwb3NpdGlvbgogICAgICAgICAgICAgICAgY29uc3QgY3VydmVTaGlmdCA9IGN1cnZlICogcGVyc3BlY3RpdmUgKiB3ICogMC40OwogICAgICAgICAgICAgICAgY29uc3QgY2FyU2hpZnQgPSAtY2FyWCAqIHBlcnNwZWN0aXZlICogdyAqIDAuMzsKICAgICAgICAgICAgICAgIGNvbnN0IGNlbnRlclggPSB3IC8gMiArIGN1cnZlU2hpZnQgKyBjYXJTaGlmdDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gRHJhdyBncmFzcyBzdHJpcGVzCiAgICAgICAgICAgICAgICBjb25zdCBzdHJpcGVQaGFzZSA9IChNYXRoLmZsb29yKGRpc3RhbmNlICogMikgKyBpKSAlIDI7CiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gc3RyaXBlUGhhc2UgPT09IDAgPyAKICAgICAgICAgICAgICAgICAgICAobGV2ZWwgPT09IDMgPyAnI0M0QTM1QScgOiBsZXZlbCA9PT0gNCA/ICcjQjhENEU4JyA6ICcjMmQ2YjMwJykgOgogICAgICAgICAgICAgICAgICAgIChsZXZlbCA9PT0gMyA/ICcjRDRCNDZBJyA6IGxldmVsID09PSA0ID8gJyNEMEU4RjAnIDogJyMzZDhjNDAnKTsKICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCB5LCB3LCBzZWdtZW50SGVpZ2h0KTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gRHJhdyByb2FkCiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyM0NDQnOwogICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KGNlbnRlclggLSByb2FkV2lkdGggLyAyLCB5LCByb2FkV2lkdGgsIHNlZ21lbnRIZWlnaHQpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBSb2FkIGVkZ2UgKHdoaXRlIGxpbmVzKQogICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjRkZGJzsKICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdChjZW50ZXJYIC0gcm9hZFdpZHRoIC8gMiAtIDQsIHksIDQsIHNlZ21lbnRIZWlnaHQpOwogICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KGNlbnRlclggKyByb2FkV2lkdGggLyAyLCB5LCA0LCBzZWdtZW50SGVpZ2h0KTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gQ2VudGVyIGxpbmUgKGRhc2hlZCkKICAgICAgICAgICAgICAgIGNvbnN0IGRhc2hQaGFzZSA9IChNYXRoLmZsb29yKGRpc3RhbmNlICogMykgKyBpKSAlIDQ7CiAgICAgICAgICAgICAgICBpZiAoZGFzaFBoYXNlIDwgMikgewogICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI0ZGRic7CiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KGNlbnRlclggLSAyLCB5LCA0LCBzZWdtZW50SGVpZ2h0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gUmVkLXdoaXRlIGN1cmJzIG9uIGVkZ2VzCiAgICAgICAgICAgICAgICBjb25zdCBjdXJiUGhhc2UgPSAoTWF0aC5mbG9vcihkaXN0YW5jZSAqIDIpICsgaSkgJSAyOwogICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGN1cmJQaGFzZSA9PT0gMCA/ICcjRTc0QzNDJyA6ICcjRkZGJzsKICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdChjZW50ZXJYIC0gcm9hZFdpZHRoIC8gMiAtIDE1LCB5LCAxMiwgc2VnbWVudEhlaWdodCk7CiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoY2VudGVyWCArIHJvYWRXaWR0aCAvIDIgKyA0LCB5LCAxMiwgc2VnbWVudEhlaWdodCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIERyYXcgY2FyCiAgICAgICAgICAgIGRyYXdDYXIodywgaCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBEcmF3IHNwZWVkb21ldGVyCiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgwLDAsMCwwLjUpJzsKICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDIwLCBoIC0gMTgwLCA4MCwgMzApOwogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMyRUNDNzEnOwogICAgICAgICAgICBjdHguZmlsbFJlY3QoMjIsIGggLSAxNzgsIDc2ICogMC43LCAyNik7IC8vIFNwZWVkIGJhcgogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNGRkYnOwogICAgICAgICAgICBjdHguZm9udCA9ICcxNHB4IEZyZWRva2EnOwogICAgICAgICAgICBjdHguZmlsbFRleHQoJ1NQRUVEJywgMzUsIGggLSAxNjApOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBkcmF3Q2FyKHcsIGgpIHsKICAgICAgICAgICAgY29uc3QgY2FyU2NyZWVuWCA9IHcgLyAyOwogICAgICAgICAgICBjb25zdCBjYXJZID0gaCAtIDE0MDsKICAgICAgICAgICAgY29uc3QgY2FyVyA9IDcwLCBjYXJIID0gNDU7CiAgICAgICAgICAgIAogICAgICAgICAgICBjdHguc2F2ZSgpOwogICAgICAgICAgICBjdHgudHJhbnNsYXRlKGNhclNjcmVlblgsIGNhclkpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gVGlsdCBjYXIgYmFzZWQgb24gc3RlZXJpbmcKICAgICAgICAgICAgbGV0IHRpbHQgPSAwOwogICAgICAgICAgICBpZiAoc3RlZXJMZWZ0KSB0aWx0ID0gMC4wODsKICAgICAgICAgICAgaWYgKHN0ZWVyUmlnaHQpIHRpbHQgPSAtMC4wODsKICAgICAgICAgICAgY3R4LnJvdGF0ZSh0aWx0KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFNoYWRvdwogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMC4zKSc7CiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgICAgY3R4LmVsbGlwc2UoMCwgY2FySCAvIDIgKyA4LCBjYXJXIC8gMiArIDUsIDEyLCAwLCAwLCBNYXRoLlBJICogMik7CiAgICAgICAgICAgIGN0eC5maWxsKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBDYXIgYm9keQogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNFNzRDM0MnOwogICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICAgIGN0eC5yb3VuZFJlY3QoLWNhclcgLyAyLCAtY2FySCAvIDIsIGNhclcsIGNhckgsIDgpOwogICAgICAgICAgICBjdHguZmlsbCgpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gUm9vZgogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNDMDM5MkInOwogICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICAgIGN0eC5yb3VuZFJlY3QoLWNhclcgLyAzLCAtY2FySCAvIDIgLSAxOCwgY2FyVyAqIDIgLyAzLCAyMiwgNSk7CiAgICAgICAgICAgIGN0eC5maWxsKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSZWFyIHdpbmRvdwogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyM1REFERTInOwogICAgICAgICAgICBjdHguZmlsbFJlY3QoLWNhclcgLyA0LCAtY2FySCAvIDIgLSAxMywgY2FyVyAvIDIsIDEyKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFdoZWVscwogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMxYTFhMWEnOwogICAgICAgICAgICBjdHguZmlsbFJlY3QoLWNhclcgLyAyIC0gNiwgLWNhckggLyAzLCAxMCwgY2FySCAqIDAuNik7CiAgICAgICAgICAgIGN0eC5maWxsUmVjdChjYXJXIC8gMiAtIDQsIC1jYXJIIC8gMywgMTAsIGNhckggKiAwLjYpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQnJha2UgbGlnaHRzCiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI0ZGNDQ0NCc7CiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgICAgY3R4LnJvdW5kUmVjdCgtY2FyVyAvIDIgKyA1LCBjYXJIIC8gMiAtIDgsIDEyLCA2LCAyKTsKICAgICAgICAgICAgY3R4LnJvdW5kUmVjdChjYXJXIC8gMiAtIDE3LCBjYXJIIC8gMiAtIDgsIDEyLCA2LCAyKTsKICAgICAgICAgICAgY3R4LmZpbGwoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBTdGVlcmluZyBhcnJvd3MKICAgICAgICAgICAgY3R4LmZvbnQgPSAnNDBweCBBcmlhbCc7CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBzdGVlckxlZnQgPyAnI0YxQzQwRicgOiAncmdiYSgyNTUsMjU1LDI1NSwwLjMpJzsKICAgICAgICAgICAgY3R4LmZpbGxUZXh0KCfil4AnLCBjYXJTY3JlZW5YIC0gODAsIGNhclkgKyAxMCk7CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBzdGVlclJpZ2h0ID8gJyNGMUM0MEYnIDogJ3JnYmEoMjU1LDI1NSwyNTUsMC4zKSc7CiAgICAgICAgICAgIGN0eC5maWxsVGV4dCgn4pa2JywgY2FyU2NyZWVuWCArIDUwLCBjYXJZICsgMTApOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiB1cGRhdGUoKSB7CiAgICAgICAgICAgIC8vIEdldCBjdXJyZW50IHJvYWQgY3VydmUKICAgICAgICAgICAgcm9hZEN1cnZlID0gZ2V0Q3VydmVBdChkaXN0YW5jZSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSb2FkIGN1cnZlIHB1c2hlcyBjYXIgLSBUSElTIElTIFRIRSBLRVkgTUVDSEFOSUMKICAgICAgICAgICAgLy8gVGhlIGN1cnZlIGNvbnN0YW50bHkgcHVzaGVzIHRoZSBjYXIsIHBsYXllciBtdXN0IGNvdW50ZXItc3RlZXIKICAgICAgICAgICAgY2FyWCArPSByb2FkQ3VydmUgKiAwLjAzNTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFBsYXllciBzdGVlcmluZwogICAgICAgICAgICBjb25zdCBzdGVlclBvd2VyID0gMC4wNDsKICAgICAgICAgICAgaWYgKHN0ZWVyTGVmdCkgY2FyWCAtPSBzdGVlclBvd2VyOwogICAgICAgICAgICBpZiAoc3RlZXJSaWdodCkgY2FyWCArPSBzdGVlclBvd2VyOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ2hlY2sgaWYgb2ZmIHJvYWQKICAgICAgICAgICAgY29uc3Qgcm9hZEVkZ2UgPSAwLjg1OwogICAgICAgICAgICBjb25zdCBpc09mZnJvYWQgPSBNYXRoLmFicyhjYXJYKSA+IHJvYWRFZGdlOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGlzT2Zmcm9hZCkgewogICAgICAgICAgICAgICAgb2Zmcm9hZFRpbWUrKzsKICAgICAgICAgICAgICAgIG9mZnJvYWRXYXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBTbG93IHB1c2ggYmFjayBzbGlnaHRseQogICAgICAgICAgICAgICAgaWYgKGNhclggPiByb2FkRWRnZSkgY2FyWCAtPSAwLjAxOwogICAgICAgICAgICAgICAgaWYgKGNhclggPCAtcm9hZEVkZ2UpIGNhclggKz0gMC4wMTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKG9mZnJvYWRUaW1lID4gbWF4T2Zmcm9hZFRpbWUpIHsKICAgICAgICAgICAgICAgICAgICAvLyBDcmFzaCEKICAgICAgICAgICAgICAgICAgICBpc1BsYXlpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBwbGF5U291bmQoJ2NyYXNoJyk7CiAgICAgICAgICAgICAgICAgICAgY3Jhc2hTY3JlZW4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgb2Zmcm9hZFRpbWUgPSBNYXRoLm1heCgwLCBvZmZyb2FkVGltZSAtIDIpOwogICAgICAgICAgICAgICAgb2Zmcm9hZFdhcm5pbmcuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gSGFyZCBjbGFtcAogICAgICAgICAgICBjYXJYID0gTWF0aC5tYXgoLTEuMSwgTWF0aC5taW4oMS4xLCBjYXJYKSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBNb3ZlIGZvcndhcmQgKGNvbnN0YW50IHNwZWVkKQogICAgICAgICAgICBjb25zdCBzcGVlZCA9IGlzT2Zmcm9hZCA/IDAuNSA6IDEuMjsKICAgICAgICAgICAgZGlzdGFuY2UgKz0gc3BlZWQ7CiAgICAgICAgICAgIGxhcERpc3RhbmNlICs9IHNwZWVkOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ2hlY2sgbGFwCiAgICAgICAgICAgIGlmIChsYXBEaXN0YW5jZSA+PSBsYXBMZW5ndGgpIHsKICAgICAgICAgICAgICAgIGxhcERpc3RhbmNlID0gMDsKICAgICAgICAgICAgICAgIGxhcCsrOwogICAgICAgICAgICAgICAgbGFwRGlzcGxheS50ZXh0Q29udGVudCA9IE1hdGgubWluKGxhcCwgMyk7CiAgICAgICAgICAgICAgICBwbGF5U291bmQoJ2xhcCcpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAobGFwID4gMykgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBsZXZlbCsrOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobGV2ZWwgPiA1KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1BsYXlpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlTb3VuZCgnd2luJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFRpbWUgKz0gcmFjZVRpbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFRpbWVEaXNwbGF5LnRleHRDb250ZW50ID0gZm9ybWF0VGltZSh0b3RhbFRpbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luU2NyZWVuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxUaW1lICs9IHJhY2VUaW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0xldmVsU2NyZWVuKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGZvcm1hdFRpbWUobXMpIHsKICAgICAgICAgICAgY29uc3Qgc2Vjb25kcyA9IE1hdGguZmxvb3IobXMgLyAxMDAwKTsKICAgICAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTsKICAgICAgICAgICAgY29uc3Qgc2VjcyA9IHNlY29uZHMgJSA2MDsKICAgICAgICAgICAgcmV0dXJuIG1pbnV0ZXMgKyAnOicgKyBzZWNzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gZ2FtZUxvb3AoKSB7CiAgICAgICAgICAgIGlmICghaXNQbGF5aW5nKSByZXR1cm47CiAgICAgICAgICAgIAogICAgICAgICAgICByYWNlVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7CiAgICAgICAgICAgIHRpbWVEaXNwbGF5LnRleHRDb250ZW50ID0gZm9ybWF0VGltZShyYWNlVGltZSk7CiAgICAgICAgICAgIAogICAgICAgICAgICB1cGRhdGUoKTsKICAgICAgICAgICAgZHJhd0dhbWUoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHJlc3RhcnRMZXZlbCgpIHsKICAgICAgICAgICAgY3Jhc2hTY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgIGNhclggPSAwOwogICAgICAgICAgICBvZmZyb2FkVGltZSA9IDA7CiAgICAgICAgICAgIG9mZnJvYWRXYXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIC8vIERvbid0IHJlc2V0IGxhcCBvciBkaXN0YW5jZSwganVzdCBjb250aW51ZQogICAgICAgICAgICBpc1BsYXlpbmcgPSB0cnVlOwogICAgICAgICAgICBnYW1lTG9vcCgpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBzaG93TGV2ZWxTY3JlZW4oKSB7CiAgICAgICAgICAgIGNvbnN0IHRyYWNrID0gdHJhY2tzW2xldmVsIC0gMV07CiAgICAgICAgICAgIGxldmVsTnVtYmVyLnRleHRDb250ZW50ID0gbGV2ZWw7CiAgICAgICAgICAgIHRyYWNrTmFtZS50ZXh0Q29udGVudCA9IHRyYWNrLm5hbWU7CiAgICAgICAgICAgIGxldmVsRGlzcGxheS50ZXh0Q29udGVudCA9IGxldmVsOwogICAgICAgICAgICBsZXZlbFNjcmVlbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgbGV2ZWxTY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgICAgICBsYXAgPSAxOwogICAgICAgICAgICAgICAgbGFwRGlzdGFuY2UgPSAwOwogICAgICAgICAgICAgICAgZGlzdGFuY2UgPSAwOwogICAgICAgICAgICAgICAgY2FyWCA9IDA7CiAgICAgICAgICAgICAgICBvZmZyb2FkVGltZSA9IDA7CiAgICAgICAgICAgICAgICBsYXBEaXNwbGF5LnRleHRDb250ZW50ID0gbGFwOwogICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTsKICAgICAgICAgICAgICAgIHJhY2VUaW1lID0gMDsKICAgICAgICAgICAgICAgIGdlbmVyYXRlVHJhY2sodHJhY2suZGlmZmljdWx0eSk7CiAgICAgICAgICAgICAgICBpc1BsYXlpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgZ2FtZUxvb3AoKTsKICAgICAgICAgICAgfSwgMjAwMCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHN0YXJ0R2FtZSgpIHsKICAgICAgICAgICAgaW5pdEF1ZGlvKCk7CiAgICAgICAgICAgIHJlc2l6ZUNhbnZhcygpOwogICAgICAgICAgICBsZXZlbCA9IDE7CiAgICAgICAgICAgIGxhcCA9IDE7CiAgICAgICAgICAgIHRvdGFsVGltZSA9IDA7CiAgICAgICAgICAgIGRpc3RhbmNlID0gMDsKICAgICAgICAgICAgbGFwRGlzdGFuY2UgPSAwOwogICAgICAgICAgICBjYXJYID0gMDsKICAgICAgICAgICAgb2Zmcm9hZFRpbWUgPSAwOwogICAgICAgICAgICBsZXZlbERpc3BsYXkudGV4dENvbnRlbnQgPSBsZXZlbDsKICAgICAgICAgICAgbGFwRGlzcGxheS50ZXh0Q29udGVudCA9IGxhcDsKICAgICAgICAgICAgc3RhcnRTY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgIHdpblNjcmVlbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICAgICAgY3Jhc2hTY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgIG9mZnJvYWRXYXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCB0cmFjayA9IHRyYWNrc1swXTsKICAgICAgICAgICAgZ2VuZXJhdGVUcmFjayh0cmFjay5kaWZmaWN1bHR5KTsKICAgICAgICAgICAgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTsKICAgICAgICAgICAgcmFjZVRpbWUgPSAwOwogICAgICAgICAgICBpc1BsYXlpbmcgPSB0cnVlOwogICAgICAgICAgICBnYW1lTG9vcCgpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplQ2FudmFzKTsKICAgICAgICByZXNpemVDYW52YXMoKTsKICAgIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4K';
GAMES['feuerwehr'] = 'PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImRlIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+8J+akiBGZXVlcndlaHItSGVsZCE8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICAgIEBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PUZyZWRva2E6d2dodEA0MDA7NjAwOzcwMCZkaXNwbGF5PXN3YXAnKTsKICAgICAgICAqIHsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9CiAgICAgICAgYm9keSB7IGZvbnQtZmFtaWx5OiAnRnJlZG9rYScsIHNhbnMtc2VyaWY7IGJhY2tncm91bmQ6ICM4N0NFRUI7IG1pbi1oZWlnaHQ6IDEwMHZoOyBvdmVyZmxvdzogaGlkZGVuOyBjdXJzb3I6IG5vbmU7IH0KICAgICAgICAjZ2FtZS1jb250YWluZXIgeyBwb3NpdGlvbjogcmVsYXRpdmU7IHdpZHRoOiAxMDB2dzsgaGVpZ2h0OiAxMDB2aDsgb3ZlcmZsb3c6IGhpZGRlbjsgfQogICAgICAgICNzY29yZS1ib2FyZCB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAyMHB4OyBsZWZ0OiA1MCU7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsgYmFja2dyb3VuZDogI0ZGNkIzNTsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAxNXB4IDQwcHg7IGJvcmRlci1yYWRpdXM6IDUwcHg7IGZvbnQtc2l6ZTogMjhweDsgZm9udC13ZWlnaHQ6IDcwMDsgYm94LXNoYWRvdzogMCA4cHggMCAjQ0M0QTFBOyB6LWluZGV4OiAxMDA7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogMTVweDsgfQogICAgICAgICNzY29yZS1ib2FyZCAuc3RhciB7IGZvbnQtc2l6ZTogMzJweDsgYW5pbWF0aW9uOiBwdWxzZSAxcyBlYXNlLWluLW91dCBpbmZpbml0ZTsgfQogICAgICAgIEBrZXlmcmFtZXMgcHVsc2UgeyAwJSwgMTAwJSB7IHRyYW5zZm9ybTogc2NhbGUoMSk7IH0gNTAlIHsgdHJhbnNmb3JtOiBzY2FsZSgxLjIpOyB9IH0KICAgICAgICAjbGV2ZWwtaW5mbyB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAyMHB4OyByaWdodDogMzBweDsgYmFja2dyb3VuZDogIzRFQ0RDNDsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAxMnB4IDI1cHg7IGJvcmRlci1yYWRpdXM6IDMwcHg7IGZvbnQtc2l6ZTogMjBweDsgZm9udC13ZWlnaHQ6IDYwMDsgYm94LXNoYWRvdzogMCA1cHggMCAjM0JBOTlDOyB6LWluZGV4OiAxMDA7IH0KICAgICAgICBjYW52YXMgeyBkaXNwbGF5OiBibG9jazsgfQogICAgICAgICNzdGFydC1zY3JlZW4sICN3aW4tc2NyZWVuLCAjbGV2ZWwtc2NyZWVuIHsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxODBkZWcsICNGRjZCMzUgMCUsICNGRjhDNDIgMTAwJSk7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyB6LWluZGV4OiAyMDA7IGdhcDogMzBweDsgfQogICAgICAgICN3aW4tc2NyZWVuIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE4MGRlZywgIzRFQ0RDNCAwJSwgIzQ0QTA4RCAxMDAlKTsgfQogICAgICAgICNsZXZlbC1zY3JlZW4geyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpOyB9CiAgICAgICAgLnNjcmVlbi10aXRsZSB7IGZvbnQtc2l6ZTogNzJweDsgY29sb3I6IHdoaXRlOyB0ZXh0LXNoYWRvdzogMCA4cHggMCByZ2JhKDAsMCwwLDAuMik7IHRleHQtYWxpZ246IGNlbnRlcjsgYW5pbWF0aW9uOiBib3VuY2UgMnMgZWFzZS1pbi1vdXQgaW5maW5pdGU7IH0KICAgICAgICAubGV2ZWwtdGl0bGUgeyBmb250LXNpemU6IDgwcHg7IGNvbG9yOiB3aGl0ZTsgdGV4dC1zaGFkb3c6IDAgOHB4IDAgcmdiYSgwLDAsMCwwLjIpOyBhbmltYXRpb246IHpvb21JbiAwLjVzIGVhc2Utb3V0OyB9CiAgICAgICAgLmxldmVsLXN1YnRpdGxlIHsgZm9udC1zaXplOiAzMnB4OyBjb2xvcjogcmdiYSgyNTUsMjU1LDI1NSwwLjkpOyB9CiAgICAgICAgQGtleWZyYW1lcyB6b29tSW4geyAwJSB7IHRyYW5zZm9ybTogc2NhbGUoMCk7IG9wYWNpdHk6IDA7IH0gMTAwJSB7IHRyYW5zZm9ybTogc2NhbGUoMSk7IG9wYWNpdHk6IDE7IH0gfQogICAgICAgIEBrZXlmcmFtZXMgYm91bmNlIHsgMCUsIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7IH0gNTAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0yMHB4KTsgfSB9CiAgICAgICAgLnZlaGljbGUtaWNvbiB7IGZvbnQtc2l6ZTogMTIwcHg7IGFuaW1hdGlvbjogZHJpdmUgM3MgZWFzZS1pbi1vdXQgaW5maW5pdGU7IH0KICAgICAgICBAa2V5ZnJhbWVzIGRyaXZlIHsgMCUsIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTIwcHgpIHJvdGF0ZSgtM2RlZyk7IH0gNTAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDIwcHgpIHJvdGF0ZSgzZGVnKTsgfSB9CiAgICAgICAgLnN0YXJ0LWJ0biB7IGJhY2tncm91bmQ6ICNGRkU2NkQ7IGNvbG9yOiAjMzMzOyBib3JkZXI6IG5vbmU7IHBhZGRpbmc6IDI1cHggNjBweDsgZm9udC1zaXplOiAzMnB4OyBmb250LWZhbWlseTogJ0ZyZWRva2EnLCBzYW5zLXNlcmlmOyBmb250LXdlaWdodDogNzAwOyBib3JkZXItcmFkaXVzOiA1MHB4OyBjdXJzb3I6IHBvaW50ZXI7IGJveC1zaGFkb3c6IDAgOHB4IDAgI0Q0QjgyQzsgfQogICAgICAgIC5zdGFydC1idG46aG92ZXIgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoNHB4KTsgYm94LXNoYWRvdzogMCA0cHggMCAjRDRCODJDOyB9CiAgICAgICAgLmluc3RydWN0aW9ucyB7IGNvbG9yOiB3aGl0ZTsgZm9udC1zaXplOiAyNHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IG9wYWNpdHk6IDAuOTsgfQogICAgICAgICNjdXN0b20tY3Vyc29yIHsgcG9zaXRpb246IGZpeGVkOyBwb2ludGVyLWV2ZW50czogbm9uZTsgei1pbmRleDogMTAwMDsgZm9udC1zaXplOiA1MHB4OyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsgZmlsdGVyOiBkcm9wLXNoYWRvdygwIDRweCA0cHggcmdiYSgwLDAsMCwwLjMpKTsgfQogICAgICAgIC5oaWRkZW4geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0KICAgICAgICAud2F0ZXItZHJvcCB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDEycHg7IGhlaWdodDogMTJweDsgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMzAlLCAjODdDRUVCLCAjMUU5MEZGKTsgYm9yZGVyLXJhZGl1czogNTAlOyBwb2ludGVyLWV2ZW50czogbm9uZTsgYW5pbWF0aW9uOiBkcm9wRmFsbCAwLjVzIGVhc2Utb3V0IGZvcndhcmRzOyB9CiAgICAgICAgQGtleWZyYW1lcyBkcm9wRmFsbCB7IDAlIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiBzY2FsZSgxKTsgfSAxMDAlIHsgb3BhY2l0eTogMDsgdHJhbnNmb3JtOiBzY2FsZSgwKSB0cmFuc2xhdGVZKDMwcHgpOyB9IH0KICAgICAgICAuY2VsZWJyYXRpb24tc3RhciB7IHBvc2l0aW9uOiBmaXhlZDsgZm9udC1zaXplOiA0MHB4OyBwb2ludGVyLWV2ZW50czogbm9uZTsgYW5pbWF0aW9uOiBzdGFyRmxvYXQgMnMgZWFzZS1vdXQgZm9yd2FyZHM7IHotaW5kZXg6IDUwMDsgfQogICAgICAgIEBrZXlmcmFtZXMgc3RhckZsb2F0IHsgMCUgeyBvcGFjaXR5OiAxOyB0cmFuc2Zvcm06IHNjYWxlKDApIHJvdGF0ZSgwZGVnKTsgfSA1MCUgeyBvcGFjaXR5OiAxOyB0cmFuc2Zvcm06IHNjYWxlKDEuNSkgcm90YXRlKDE4MGRlZyk7IH0gMTAwJSB7IG9wYWNpdHk6IDA7IHRyYW5zZm9ybTogc2NhbGUoMSkgcm90YXRlKDM2MGRlZykgdHJhbnNsYXRlWSgtMTAwcHgpOyB9IH0KICAgICAgICAjc291bmQtdG9nZ2xlIHsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDIwcHg7IGxlZnQ6IDMwcHg7IGJhY2tncm91bmQ6ICM5QjU5QjY7IGJvcmRlcjogbm9uZTsgcGFkZGluZzogMTJweCAyMHB4OyBib3JkZXItcmFkaXVzOiAzMHB4OyBmb250LXNpemU6IDI0cHg7IGN1cnNvcjogcG9pbnRlcjsgYm94LXNoYWRvdzogMCA1cHggMCAjN0QzQzk4OyB6LWluZGV4OiAxMDA7IH0KICAgIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8ZGl2IGlkPSJnYW1lLWNvbnRhaW5lciI+CiAgICAgICAgPGRpdiBpZD0ic2NvcmUtYm9hcmQiPjxzcGFuIGNsYXNzPSJzdGFyIj7irZA8L3NwYW4+PHNwYW4gaWQ9InNjb3JlIj4wPC9zcGFuPjwvZGl2PgogICAgICAgIDxkaXYgaWQ9ImxldmVsLWluZm8iPkxldmVsIDxzcGFuIGlkPSJsZXZlbCI+MTwvc3Bhbj48L2Rpdj4KICAgICAgICA8YnV0dG9uIGlkPSJzb3VuZC10b2dnbGUiPvCflIo8L2J1dHRvbj4KICAgICAgICA8Y2FudmFzIGlkPSJnYW1lLWNhbnZhcyI+PC9jYW52YXM+CiAgICAgICAgPGRpdiBpZD0ic3RhcnQtc2NyZWVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idmVoaWNsZS1pY29uIj7wn5qSPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5GZXVlcndlaHItSGVsZCE8L2gxPgogICAgICAgICAgICA8cCBjbGFzcz0iaW5zdHJ1Y3Rpb25zIj5CZXdlZ2UgZGllIE1hdXMgw7xiZXIgZGllIEZsYW1tZW4sPGJyPnVtIHNpZSB6dSBsw7ZzY2hlbiEg8J+SpvCflKU8L3A+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InN0YXJ0LWJ0biIgb25jbGljaz0ic3RhcnRHYW1lKCkiPvCfjq4gTG9zIGdlaHQncyE8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGlkPSJsZXZlbC1zY3JlZW4iIGNsYXNzPSJoaWRkZW4iPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ2ZWhpY2xlLWljb24iPvCfmpI8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJsZXZlbC10aXRsZSI+TGV2ZWwgPHNwYW4gaWQ9ImxldmVsLW51bWJlciI+MTwvc3Bhbj48L2gxPgogICAgICAgICAgICA8cCBpZD0ibGV2ZWwtdHlwZSIgY2xhc3M9ImxldmVsLXN1YnRpdGxlIj7wn4+gIEjDpHVzZXIgcmV0dGVuITwvcD4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGlkPSJ3aW4tc2NyZWVuIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idmVoaWNsZS1pY29uIj7wn4+GPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5TdXBlciBnZW1hY2h0ITwvaDE+CiAgICAgICAgICAgIDxwIGNsYXNzPSJpbnN0cnVjdGlvbnMiPkR1IGhhc3QgYWxsZSA1IExldmVsIGdlc2NoYWZmdCE8L3A+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogNDhweDsiPuKtkCA8c3BhbiBpZD0iZmluYWwtc2NvcmUiPjA8L3NwYW4+IOKtkDwvZGl2PgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzdGFydC1idG4iIG9uY2xpY2s9InN0YXJ0R2FtZSgpIj7wn5SEIE5vY2htYWwgc3BpZWxlbiE8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGlkPSJjdXN0b20tY3Vyc29yIj7wn5KnPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxzY3JpcHQ+CiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtY2FudmFzJyk7CiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAgY29uc3QgY3Vyc29yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1c3RvbS1jdXJzb3InKTsKICAgICAgICBjb25zdCBzdGFydFNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydC1zY3JlZW4nKTsKICAgICAgICBjb25zdCB3aW5TY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2luLXNjcmVlbicpOwogICAgICAgIGNvbnN0IGxldmVsU2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLXNjcmVlbicpOwogICAgICAgIGNvbnN0IHNjb3JlRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZScpOwogICAgICAgIGNvbnN0IGxldmVsRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbCcpOwogICAgICAgIGNvbnN0IGxldmVsTnVtYmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLW51bWJlcicpOwogICAgICAgIGNvbnN0IGxldmVsVHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC10eXBlJyk7CiAgICAgICAgY29uc3QgZmluYWxTY29yZURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmluYWwtc2NvcmUnKTsKICAgICAgICBjb25zdCBzb3VuZFRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb3VuZC10b2dnbGUnKTsKICAgICAgICAKICAgICAgICBsZXQgYnVpbGRpbmdzID0gW10sIGZpcmVzID0gW10sIHNjb3JlID0gMCwgbGV2ZWwgPSAxLCBtb3VzZVggPSAtMTAwMCwgbW91c2VZID0gLTEwMDA7CiAgICAgICAgbGV0IGlzUGxheWluZyA9IGZhbHNlLCBjYW5TcHJheSA9IGZhbHNlLCBzb3VuZEVuYWJsZWQgPSB0cnVlOwogICAgICAgIGxldCB0cnVja1ggPSAtMzAwLCB0cnVja1RhcmdldFggPSAyMCwgdHJ1Y2tTdGF0ZSA9ICdlbnRlcmluZycsIHRydWNrU3BlZWQgPSAzLCBhdWRpb0N0eCA9IG51bGw7CiAgICAgICAgCiAgICAgICAgY29uc3QgbGV2ZWxDb25maWdzID0gWwogICAgICAgICAgICB7IHR5cGU6ICdjaXR5JywgbmFtZTogJ/Cfj6AgSMOkdXNlciByZXR0ZW4hJywgY291bnQ6IDMgfSwKICAgICAgICAgICAgeyB0eXBlOiAnZm9yZXN0JywgbmFtZTogJ/CfjLIgV2FsZGJyYW5kIGzDtnNjaGVuIScsIGNvdW50OiA0IH0sCiAgICAgICAgICAgIHsgdHlwZTogJ2NpdHknLCBuYW1lOiAn8J+PoCBHcm/Dn2VyIEhhdXNicmFuZCEnLCBjb3VudDogNCB9LAogICAgICAgICAgICB7IHR5cGU6ICdmb3Jlc3QnLCBuYW1lOiAn8J+MsiBXYWxkZmV1ZXIgc3RvcHBlbiEnLCBjb3VudDogNSB9LAogICAgICAgICAgICB7IHR5cGU6ICdtaXhlZCcsIG5hbWU6ICfwn4+g8J+MsiBGaW5hbGUgUmV0dHVuZyEnLCBjb3VudDogNSB9CiAgICAgICAgXTsKICAgICAgICAKICAgICAgICBmdW5jdGlvbiBpbml0QXVkaW8oKSB7IGlmICghYXVkaW9DdHgpIGF1ZGlvQ3R4ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKCk7IH0KICAgICAgICBmdW5jdGlvbiBwbGF5U291bmQodHlwZSkgewogICAgICAgICAgICBpZiAoIXNvdW5kRW5hYmxlZCB8fCAhYXVkaW9DdHgpIHJldHVybjsKICAgICAgICAgICAgY29uc3Qgb3NjID0gYXVkaW9DdHguY3JlYXRlT3NjaWxsYXRvcigpLCBnYWluID0gYXVkaW9DdHguY3JlYXRlR2FpbigpOwogICAgICAgICAgICBvc2MuY29ubmVjdChnYWluKTsgZ2Fpbi5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTsKICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdzcGxhc2gnKSB7IG9zYy5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoODAwLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7IG9zYy5mcmVxdWVuY3kuZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgyMDAsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4yKTsgZ2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKDAuMSwgYXVkaW9DdHguY3VycmVudFRpbWUpOyBnYWluLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAxLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMik7IG9zYy5zdGFydCgpOyBvc2Muc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMik7IH0KICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ3N0YXInKSB7IG9zYy5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoMTIwMCwgYXVkaW9DdHguY3VycmVudFRpbWUpOyBvc2MuZnJlcXVlbmN5LmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMTYwMCwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjEpOyBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4xLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7IGdhaW4uZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4xNSk7IG9zYy5zdGFydCgpOyBvc2Muc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMTUpOyB9CiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICd2aWN0b3J5JykgeyBbNTIzLCA2NTksIDc4NCwgMTA0N10uZm9yRWFjaCgoZnJlcSwgaSkgPT4geyBjb25zdCBvID0gYXVkaW9DdHguY3JlYXRlT3NjaWxsYXRvcigpLCBnID0gYXVkaW9DdHguY3JlYXRlR2FpbigpOyBvLmNvbm5lY3QoZyk7IGcuY29ubmVjdChhdWRpb0N0eC5kZXN0aW5hdGlvbik7IG8uZnJlcXVlbmN5LnZhbHVlID0gZnJlcTsgZy5nYWluLnNldFZhbHVlQXRUaW1lKDAuMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xNSk7IGcuZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMTUgKyAwLjMpOyBvLnN0YXJ0KGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgaSAqIDAuMTUpOyBvLnN0b3AoYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xNSArIDAuMyk7IH0pOyB9CiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdzaXJlbicpIHsgb3NjLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZSg2MDAsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsgb3NjLmZyZXF1ZW5jeS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSg4MDAsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4zKTsgb3NjLmZyZXF1ZW5jeS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSg2MDAsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC42KTsgZ2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKDAuMDgsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsgZ2Fpbi5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjYpOyBvc2Muc3RhcnQoKTsgb3NjLnN0b3AoYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjYpOyB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHJlc2l6ZUNhbnZhcygpIHsgY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7IGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7IH0KICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplQ2FudmFzKTsgcmVzaXplQ2FudmFzKCk7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZSA9PiB7IG1vdXNlWCA9IGUuY2xpZW50WDsgbW91c2VZID0gZS5jbGllbnRZOyBjdXJzb3Iuc3R5bGUubGVmdCA9IG1vdXNlWCArICdweCc7IGN1cnNvci5zdHlsZS50b3AgPSBtb3VzZVkgKyAncHgnOyB9KTsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBlID0+IHsgZS5wcmV2ZW50RGVmYXVsdCgpOyBtb3VzZVggPSBlLnRvdWNoZXNbMF0uY2xpZW50WDsgbW91c2VZID0gZS50b3VjaGVzWzBdLmNsaWVudFk7IGN1cnNvci5zdHlsZS5sZWZ0ID0gbW91c2VYICsgJ3B4JzsgY3Vyc29yLnN0eWxlLnRvcCA9IG1vdXNlWSArICdweCc7IH0sIHsgcGFzc2l2ZTogZmFsc2UgfSk7CiAgICAgICAgc291bmRUb2dnbGUub25jbGljayA9ICgpID0+IHsgc291bmRFbmFibGVkID0gIXNvdW5kRW5hYmxlZDsgc291bmRUb2dnbGUudGV4dENvbnRlbnQgPSBzb3VuZEVuYWJsZWQgPyAn8J+UiicgOiAn8J+Uhyc7IH07CiAgICAgICAgCiAgICAgICAgY2xhc3MgSG91c2UgewogICAgICAgICAgICBjb25zdHJ1Y3Rvcih4LCBncm91bmRZLCBjb2xvckluZGV4KSB7IHRoaXMueCA9IHg7IHRoaXMuZ3JvdW5kWSA9IGdyb3VuZFk7IHRoaXMuY29sb3JJbmRleCA9IGNvbG9ySW5kZXg7IHRoaXMuZmlyZVggPSB4OyB0aGlzLmZpcmVZID0gZ3JvdW5kWSAtIDE1NTsgfQogICAgICAgICAgICBkcmF3KCkgewogICAgICAgICAgICAgICAgY29uc3QgY29sb3JzID0gWycjRTU3MzczJywgJyM2NEI1RjYnLCAnI0ZGRDU0RicsICcjODFDNzg0JywgJyNCQTY4QzgnXSwgcm9vZkNvbG9ycyA9IFsnI0M2MjgyOCcsICcjMTU2NUMwJywgJyNGOUE4MjUnLCAnIzJFN0QzMicsICcjN0IxRkEyJ107CiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gY29sb3JzW3RoaXMuY29sb3JJbmRleCAlIGNvbG9ycy5sZW5ndGhdOyBjdHguZmlsbFJlY3QodGhpcy54IC0gNjAsIHRoaXMuZ3JvdW5kWSAtIDEwMCwgMTIwLCAxMDApOwogICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHJvb2ZDb2xvcnNbdGhpcy5jb2xvckluZGV4ICUgcm9vZkNvbG9ycy5sZW5ndGhdOyBjdHguYmVnaW5QYXRoKCk7IGN0eC5tb3ZlVG8odGhpcy54IC0gNzUsIHRoaXMuZ3JvdW5kWSAtIDEwMCk7IGN0eC5saW5lVG8odGhpcy54LCB0aGlzLmdyb3VuZFkgLSAxNjApOyBjdHgubGluZVRvKHRoaXMueCArIDc1LCB0aGlzLmdyb3VuZFkgLSAxMDApOyBjdHguZmlsbCgpOwogICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjRkZGOUM0JzsgY3R4LmZpbGxSZWN0KHRoaXMueCAtIDQwLCB0aGlzLmdyb3VuZFkgLSA4MCwgMzAsIDMwKTsgY3R4LmZpbGxSZWN0KHRoaXMueCArIDEwLCB0aGlzLmdyb3VuZFkgLSA4MCwgMzAsIDMwKTsKICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzVENDAzNyc7IGN0eC5maWxsUmVjdCh0aGlzLnggLSAxNSwgdGhpcy5ncm91bmRZIC0gNTAsIDMwLCA1MCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgY2xhc3MgVHJlZSB7CiAgICAgICAgICAgIGNvbnN0cnVjdG9yKHgsIGdyb3VuZFksIHNpemUpIHsgdGhpcy54ID0geDsgdGhpcy5ncm91bmRZID0gZ3JvdW5kWTsgdGhpcy5zaXplID0gc2l6ZTsgdGhpcy5maXJlWCA9IHg7IHRoaXMuZmlyZVkgPSBncm91bmRZIC0gODAgKiBzaXplIC0gNTAgKiBzaXplOyB9CiAgICAgICAgICAgIGRyYXcoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBzID0gdGhpcy5zaXplOwogICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjOEI0NTEzJzsgY3R4LmZpbGxSZWN0KHRoaXMueCAtIDEyICogcywgdGhpcy5ncm91bmRZIC0gODAgKiBzLCAyNCAqIHMsIDgwICogcyk7CiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMyMjhCMjInOyBjdHguYmVnaW5QYXRoKCk7IGN0eC5tb3ZlVG8odGhpcy54IC0gNTAgKiBzLCB0aGlzLmdyb3VuZFkgLSA4MCAqIHMpOyBjdHgubGluZVRvKHRoaXMueCwgdGhpcy5ncm91bmRZIC0gMTgwICogcyk7IGN0eC5saW5lVG8odGhpcy54ICsgNTAgKiBzLCB0aGlzLmdyb3VuZFkgLSA4MCAqIHMpOyBjdHguZmlsbCgpOwogICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMkU3RDMyJzsgY3R4LmJlZ2luUGF0aCgpOyBjdHgubW92ZVRvKHRoaXMueCAtIDQwICogcywgdGhpcy5ncm91bmRZIC0gMTIwICogcyk7IGN0eC5saW5lVG8odGhpcy54LCB0aGlzLmdyb3VuZFkgLSAyMDAgKiBzKTsgY3R4LmxpbmVUbyh0aGlzLnggKyA0MCAqIHMsIHRoaXMuZ3JvdW5kWSAtIDEyMCAqIHMpOyBjdHguZmlsbCgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGNsYXNzIEZpcmUgewogICAgICAgICAgICBjb25zdHJ1Y3Rvcih4LCB5LCBzaXplKSB7IHRoaXMueCA9IHg7IHRoaXMueSA9IHk7IHRoaXMuc2l6ZSA9IHNpemU7IHRoaXMuaGVhbHRoID0gMTAwOyB0aGlzLmZsaWNrZXJPZmZzZXQgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIDI7IH0KICAgICAgICAgICAgZHJhdygpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGZsaWNrZXIgPSBNYXRoLnNpbihEYXRlLm5vdygpIC8gMTAwICsgdGhpcy5mbGlja2VyT2Zmc2V0KSAqIDUsIHNjYWxlID0gdGhpcy5oZWFsdGggLyAxMDAsIGNvbG9ycyA9IFsnI0ZGMDAwMCcsICcjRkY0NTAwJywgJyNGRjY2MDAnLCAnI0ZGOEMwMCcsICcjRkZENzAwJ107CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gY29sb3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7IGNvbnN0IGxheWVyU2l6ZSA9IHRoaXMuc2l6ZSAqIHNjYWxlICogKDEgLSBpICogMC4xNSk7IGN0eC5zYXZlKCk7IGN0eC50cmFuc2xhdGUodGhpcy54LCB0aGlzLnkgLSBpICogOCk7IGN0eC5iZWdpblBhdGgoKTsgY3R4Lm1vdmVUbygwLCBsYXllclNpemUgLyAyKTsgY3R4LnF1YWRyYXRpY0N1cnZlVG8oLWxheWVyU2l6ZSAvIDIgKyBmbGlja2VyLCAwLCAtbGF5ZXJTaXplIC8gNCwgLWxheWVyU2l6ZSAvIDIpOyBjdHgucXVhZHJhdGljQ3VydmVUbygwLCAtbGF5ZXJTaXplIC0gZmxpY2tlciAqIDIsIGxheWVyU2l6ZSAvIDQsIC1sYXllclNpemUgLyAyKTsgY3R4LnF1YWRyYXRpY0N1cnZlVG8obGF5ZXJTaXplIC8gMiAtIGZsaWNrZXIsIDAsIDAsIGxheWVyU2l6ZSAvIDIpOyBjdHguZmlsbFN0eWxlID0gY29sb3JzW2ldOyBjdHguZmlsbCgpOyBjdHgucmVzdG9yZSgpOyB9CiAgICAgICAgICAgICAgICBjb25zdCBiYXJXaWR0aCA9IDYwLCBiYXJIZWlnaHQgPSAxMCwgYmFyWCA9IHRoaXMueCAtIGJhcldpZHRoIC8gMiwgYmFyWSA9IHRoaXMueSAtIHRoaXMuc2l6ZSAtIDQwOwogICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMzMzJzsgY3R4LmZpbGxSZWN0KGJhclggLSAyLCBiYXJZIC0gMiwgYmFyV2lkdGggKyA0LCBiYXJIZWlnaHQgKyA0KTsKICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzQ0QUE0NCc7IGN0eC5maWxsUmVjdChiYXJYLCBiYXJZLCBiYXJXaWR0aCwgYmFySGVpZ2h0KTsKICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI0ZGNDQ0NCc7IGN0eC5maWxsUmVjdChiYXJYLCBiYXJZLCBiYXJXaWR0aCAqICh0aGlzLmhlYWx0aCAvIDEwMCksIGJhckhlaWdodCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2hlY2tXYXRlcihteCwgbXkpIHsKICAgICAgICAgICAgICAgIGlmIChNYXRoLmh5cG90KHRoaXMueCAtIG14LCB0aGlzLnkgLSBteSkgPCAyNSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuaGVhbHRoIC09IDEuNTsKICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuMykgeyBjb25zdCBkcm9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IGRyb3AuY2xhc3NOYW1lID0gJ3dhdGVyLWRyb3AnOyBkcm9wLnN0eWxlLmxlZnQgPSAobXggKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiA0MCkgKyAncHgnOyBkcm9wLnN0eWxlLnRvcCA9IChteSArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDQwKSArICdweCc7IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNvbnRhaW5lcicpLmFwcGVuZENoaWxkKGRyb3ApOyBzZXRUaW1lb3V0KCgpID0+IGRyb3AucmVtb3ZlKCksIDUwMCk7IH0KICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDUpIHBsYXlTb3VuZCgnc3BsYXNoJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGVhbHRoIDw9IDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gc3Bhd25MZXZlbCgpIHsKICAgICAgICAgICAgYnVpbGRpbmdzID0gW107IGZpcmVzID0gW107CiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IGxldmVsQ29uZmlnc1tsZXZlbCAtIDFdLCBncm91bmRZID0gY2FudmFzLmhlaWdodCAtIDgwOwogICAgICAgICAgICBjb25zdCBjb3VudCA9IGNvbmZpZy5jb3VudDsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFN0YXJ0IGFmdGVyIHRydWNrIGFyZWEsIHNwcmVhZCBhY3Jvc3MgcmVzdCBvZiBzY3JlZW4KICAgICAgICAgICAgY29uc3Qgc3RhcnRYID0gMjIwOwogICAgICAgICAgICBjb25zdCB0b3RhbFdpZHRoID0gY2FudmFzLndpZHRoIC0gc3RhcnRYIC0gNTA7CiAgICAgICAgICAgIGNvbnN0IHNwYWNpbmcgPSB0b3RhbFdpZHRoIC8gY291bnQ7CiAgICAgICAgICAgIAogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICAgICAgICAgIC8vIFNwcmVhZCBhY3Jvc3Mgc2NyZWVuIHdpdGggcmFuZG9tbmVzcwogICAgICAgICAgICAgICAgY29uc3QgeCA9IHN0YXJ0WCArIGkgKiBzcGFjaW5nICsgc3BhY2luZyAvIDIgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiBzcGFjaW5nICogMC40OwogICAgICAgICAgICAgICAgbGV0IGJ1aWxkaW5nOwogICAgICAgICAgICAgICAgaWYgKGNvbmZpZy50eXBlID09PSAnY2l0eScpIGJ1aWxkaW5nID0gbmV3IEhvdXNlKHgsIGdyb3VuZFksIGkpOwogICAgICAgICAgICAgICAgZWxzZSBpZiAoY29uZmlnLnR5cGUgPT09ICdmb3Jlc3QnKSBidWlsZGluZyA9IG5ldyBUcmVlKHgsIGdyb3VuZFksIDAuOCArIE1hdGgucmFuZG9tKCkgKiAwLjQpOwogICAgICAgICAgICAgICAgZWxzZSBidWlsZGluZyA9IGkgJSAyID09PSAwID8gbmV3IEhvdXNlKHgsIGdyb3VuZFksIGkpIDogbmV3IFRyZWUoeCwgZ3JvdW5kWSwgMSk7CiAgICAgICAgICAgICAgICBidWlsZGluZ3MucHVzaChidWlsZGluZyk7IAogICAgICAgICAgICAgICAgZmlyZXMucHVzaChuZXcgRmlyZShidWlsZGluZy5maXJlWCwgYnVpbGRpbmcuZmlyZVksIDUwKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZHJhd0JhY2tncm91bmQoKSB7CiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IGxldmVsQ29uZmlnc1tsZXZlbCAtIDFdLCBpc0ZvcmVzdCA9IGNvbmZpZy50eXBlID09PSAnZm9yZXN0JzsKICAgICAgICAgICAgY29uc3Qgc2t5ID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIDAsIDAsIGNhbnZhcy5oZWlnaHQpOwogICAgICAgICAgICBpZiAoaXNGb3Jlc3QpIHsgc2t5LmFkZENvbG9yU3RvcCgwLCAnI0ZGNzA0MycpOyBza3kuYWRkQ29sb3JTdG9wKDAuNiwgJyNGRkI3NEQnKTsgc2t5LmFkZENvbG9yU3RvcCgxLCAnIzgxQzc4NCcpOyB9CiAgICAgICAgICAgIGVsc2UgeyBza3kuYWRkQ29sb3JTdG9wKDAsICcjODdDRUVCJyk7IHNreS5hZGRDb2xvclN0b3AoMSwgJyNCOEQ0RTgnKTsgfQogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gc2t5OyBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjRkZEOTNEJzsgY3R4LmJlZ2luUGF0aCgpOyBjdHguYXJjKGNhbnZhcy53aWR0aCAtIDEwMCwgMTAwLCA1MCwgMCwgTWF0aC5QSSAqIDIpOyBjdHguZmlsbCgpOwogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gaXNGb3Jlc3QgPyAncmdiYSgxMDAsMTAwLDEwMCwwLjQpJyA6ICdyZ2JhKDI1NSwyNTUsMjU1LDAuOCknOwogICAgICAgICAgICBbWzgwLCA2MF0sIFszMDAsIDkwXSwgW2NhbnZhcy53aWR0aCAtIDI1MCwgNzVdXS5mb3JFYWNoKChbeCwgeV0pID0+IHsgY3R4LmJlZ2luUGF0aCgpOyBjdHguYXJjKHgsIHksIDI1LCAwLCBNYXRoLlBJICogMik7IGN0eC5hcmMoeCArIDM1LCB5IC0gMTAsIDMwLCAwLCBNYXRoLlBJICogMik7IGN0eC5hcmMoeCArIDY1LCB5LCAyNSwgMCwgTWF0aC5QSSAqIDIpOyBjdHguZmlsbCgpOyB9KTsKICAgICAgICAgICAgaWYgKGlzRm9yZXN0KSB7IGN0eC5maWxsU3R5bGUgPSAnIzFCNUUyMCc7IGZvciAobGV0IHggPSAwOyB4IDwgY2FudmFzLndpZHRoOyB4ICs9IDEwMCkgeyBjdHguYmVnaW5QYXRoKCk7IGN0eC5tb3ZlVG8oeCwgY2FudmFzLmhlaWdodCAtIDgwKTsgY3R4LmxpbmVUbyh4ICsgNTAsIGNhbnZhcy5oZWlnaHQgLSAyMjApOyBjdHgubGluZVRvKHggKyAxMDAsIGNhbnZhcy5oZWlnaHQgLSA4MCk7IGN0eC5maWxsKCk7IH0gfQogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gaXNGb3Jlc3QgPyAnIzVENDAzNycgOiAnIzdDQjM0Mic7IGN0eC5maWxsUmVjdCgwLCBjYW52YXMuaGVpZ2h0IC0gODAsIGNhbnZhcy53aWR0aCwgODApOwogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gaXNGb3Jlc3QgPyAnIzhCNDUxMycgOiAnIzQ0NCc7IGN0eC5maWxsUmVjdCgwLCBjYW52YXMuaGVpZ2h0IC0gODAsIGNhbnZhcy53aWR0aCwgNDUpOwogICAgICAgICAgICBpZiAoIWlzRm9yZXN0KSB7IGN0eC5zdHJva2VTdHlsZSA9ICcjRkZGJzsgY3R4LmxpbmVXaWR0aCA9IDM7IGN0eC5zZXRMaW5lRGFzaChbNDAsIDMwXSk7IGN0eC5iZWdpblBhdGgoKTsgY3R4Lm1vdmVUbygwLCBjYW52YXMuaGVpZ2h0IC0gNTcpOyBjdHgubGluZVRvKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCAtIDU3KTsgY3R4LnN0cm9rZSgpOyBjdHguc2V0TGluZURhc2goW10pOyB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGRyYXdGaXJlVHJ1Y2soeCkgewogICAgICAgICAgICBjb25zdCB5ID0gY2FudmFzLmhlaWdodCAtIDExNTsgY3R4LnNhdmUoKTsgY3R4LnRyYW5zbGF0ZSh4LCB5KTsKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsMCwwLDAuMiknOyBjdHguYmVnaW5QYXRoKCk7IGN0eC5lbGxpcHNlKDEwMCwgNjAsIDEwMCwgMTIsIDAsIDAsIE1hdGguUEkgKiAyKTsgY3R4LmZpbGwoKTsKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjQ0MwMDAwJzsgY3R4LmZpbGxSZWN0KDAsIDEwLCA5MCwgNTApOyBjdHguZmlsbFN0eWxlID0gJyNERDAwMDAnOyBjdHguZmlsbFJlY3QoOTAsIDUsIDcwLCA1NSk7CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI0REMDAwMCc7IGN0eC5iZWdpblBhdGgoKTsgY3R4Lm1vdmVUbygxNjAsIDYwKTsgY3R4LmxpbmVUbygxNjAsIDUpOyBjdHgubGluZVRvKDE3NSwgLTE1KTsgY3R4LmxpbmVUbygyMTUsIC0xNSk7IGN0eC5saW5lVG8oMjE1LCA2MCk7IGN0eC5maWxsKCk7CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzdFQzhFMyc7IGN0eC5iZWdpblBhdGgoKTsgY3R4Lm1vdmVUbygxNjMsIDApOyBjdHgubGluZVRvKDE3NCwgLTEyKTsgY3R4LmxpbmVUbygyMTIsIC0xMik7IGN0eC5saW5lVG8oMjEyLCAyOCk7IGN0eC5saW5lVG8oMTYzLCAyOCk7IGN0eC5maWxsKCk7CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI0ZGRic7IGN0eC5mb250ID0gJ2JvbGQgOXB4IEFyaWFsJzsgY3R4LmZpbGxUZXh0KCdGRVVFUldFSFInLCA5NSwgMzgpOyBjdHguZm9udCA9ICdib2xkIDE0cHggQXJpYWwnOyBjdHguZmlsbFRleHQoJzExMicsIDExMiwgNTQpOwogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNDMEMwQzAnOyBjdHguZmlsbFJlY3QoMTUsIDIsIDEyNSwgNCk7IGN0eC5maWxsUmVjdCgxNSwgMTAsIDEyNSwgNCk7CiAgICAgICAgICAgIGNvbnN0IGZsYXNoID0gTWF0aC5zaW4oRGF0ZS5ub3coKSAvIDEwMCkgPiAwOyBjdHguZmlsbFN0eWxlID0gZmxhc2ggPyAnI0ZGMDAwMCcgOiAnIzY2MDAwMCc7IGN0eC5iZWdpblBhdGgoKTsgY3R4LmFyYygxODIsIC0yMiwgOCwgMCwgTWF0aC5QSSAqIDIpOyBjdHguZmlsbCgpOyBjdHguZmlsbFN0eWxlID0gIWZsYXNoID8gJyMwMDY2RkYnIDogJyMwMDIyNjYnOyBjdHguYmVnaW5QYXRoKCk7IGN0eC5hcmMoMjAyLCAtMjIsIDgsIDAsIE1hdGguUEkgKiAyKTsgY3R4LmZpbGwoKTsKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMWExYTFhJzsgY3R4LmJlZ2luUGF0aCgpOyBjdHguYXJjKDM1LCA2MywgMjAsIDAsIE1hdGguUEkgKiAyKTsgY3R4LmFyYyg3MCwgNjMsIDIwLCAwLCBNYXRoLlBJICogMik7IGN0eC5hcmMoMTkwLCA2MywgMjIsIDAsIE1hdGguUEkgKiAyKTsgY3R4LmZpbGwoKTsKICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZHJhd1dhdGVySG9zZSgpIHsKICAgICAgICAgICAgaWYgKCFjYW5TcHJheSB8fCBtb3VzZVggPCAwKSByZXR1cm47CiAgICAgICAgICAgIGNvbnN0IHN0YXJ0WCA9IHRydWNrWCArIDkwLCBzdGFydFkgPSBjYW52YXMuaGVpZ2h0IC0gODUsIG1pZFggPSAoc3RhcnRYICsgbW91c2VYKSAvIDIsIG1pZFkgPSBNYXRoLm1pbihzdGFydFksIG1vdXNlWSkgLSA2MDsKICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyNENEEwMTcnOyBjdHgubGluZVdpZHRoID0gMTA7IGN0eC5saW5lQ2FwID0gJ3JvdW5kJzsgY3R4LmJlZ2luUGF0aCgpOyBjdHgubW92ZVRvKHN0YXJ0WCwgc3RhcnRZKTsgY3R4LnF1YWRyYXRpY0N1cnZlVG8obWlkWCwgbWlkWSwgbW91c2VYLCBtb3VzZVkpOyBjdHguc3Ryb2tlKCk7CiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjMzQ5OERCJzsgY3R4LmxpbmVXaWR0aCA9IDY7IGN0eC5iZWdpblBhdGgoKTsgY3R4Lm1vdmVUbyhzdGFydFgsIHN0YXJ0WSk7IGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKG1pZFgsIG1pZFksIG1vdXNlWCwgbW91c2VZKTsgY3R4LnN0cm9rZSgpOwogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoNTIsIDE1MiwgMjE5LCAwLjYpJzsgZm9yIChsZXQgaSA9IDA7IGkgPCAxMjsgaSsrKSB7IGNvbnN0IGFuZ2xlID0gKERhdGUubm93KCkgLyA0MCArIGkgKiAzMCkgKiBNYXRoLlBJIC8gMTgwLCBkaXN0ID0gMTggKyBNYXRoLnNpbihEYXRlLm5vdygpIC8gODAgKyBpKSAqIDEwOyBjdHguYmVnaW5QYXRoKCk7IGN0eC5hcmMobW91c2VYICsgTWF0aC5jb3MoYW5nbGUpICogZGlzdCwgbW91c2VZICsgTWF0aC5zaW4oYW5nbGUpICogZGlzdCwgNSwgMCwgTWF0aC5QSSAqIDIpOyBjdHguZmlsbCgpOyB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVRydWNrKCkgewogICAgICAgICAgICBpZiAodHJ1Y2tTdGF0ZSA9PT0gJ2VudGVyaW5nJykgeyB0cnVja1ggKz0gdHJ1Y2tTcGVlZDsgaWYgKHRydWNrWCA+PSB0cnVja1RhcmdldFgpIHsgdHJ1Y2tYID0gdHJ1Y2tUYXJnZXRYOyB0cnVja1N0YXRlID0gJ3BhcmtlZCc7IGNhblNwcmF5ID0gdHJ1ZTsgcGxheVNvdW5kKCdzaXJlbicpOyB9IH0KICAgICAgICAgICAgZWxzZSBpZiAodHJ1Y2tTdGF0ZSA9PT0gJ2xlYXZpbmcnKSB7IGNhblNwcmF5ID0gZmFsc2U7IHRydWNrWCArPSB0cnVja1NwZWVkOyBpZiAodHJ1Y2tYID4gY2FudmFzLndpZHRoICsgMTAwKSB7IHRydWNrU3RhdGUgPSAnd2FpdGluZyc7IGxldmVsKys7IGlmIChsZXZlbCA+IDUpIHsgaXNQbGF5aW5nID0gZmFsc2U7IHBsYXlTb3VuZCgndmljdG9yeScpOyBmaW5hbFNjb3JlRGlzcGxheS50ZXh0Q29udGVudCA9IHNjb3JlOyB3aW5TY3JlZW4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7IH0gZWxzZSB7IHNob3dMZXZlbFNjcmVlbigpOyB9IH0gfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBzaG93TGV2ZWxTY3JlZW4oKSB7IGNvbnN0IGNvbmZpZyA9IGxldmVsQ29uZmlnc1tsZXZlbCAtIDFdOyBsZXZlbE51bWJlci50ZXh0Q29udGVudCA9IGxldmVsOyBsZXZlbERpc3BsYXkudGV4dENvbnRlbnQgPSBsZXZlbDsgbGV2ZWxUeXBlLnRleHRDb250ZW50ID0gY29uZmlnLm5hbWU7IGxldmVsU2NyZWVuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOyBzZXRUaW1lb3V0KCgpID0+IHsgbGV2ZWxTY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7IHRydWNrWCA9IC0zMDA7IHRydWNrU3RhdGUgPSAnZW50ZXJpbmcnOyBtb3VzZVggPSAtMTAwMDsgbW91c2VZID0gLTEwMDA7IHNwYXduTGV2ZWwoKTsgfSwgMjAwMCk7IH0KICAgICAgICBmdW5jdGlvbiBjcmVhdGVTdGFyQ2VsZWJyYXRpb24oeCwgeSkgeyBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykgeyBzZXRUaW1lb3V0KCgpID0+IHsgY29uc3Qgc3RhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyBzdGFyLmNsYXNzTmFtZSA9ICdjZWxlYnJhdGlvbi1zdGFyJzsgc3Rhci50ZXh0Q29udGVudCA9ICfirZAnOyBzdGFyLnN0eWxlLmxlZnQgPSAoeCArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDEyMCkgKyAncHgnOyBzdGFyLnN0eWxlLnRvcCA9ICh5ICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMTIwKSArICdweCc7IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNvbnRhaW5lcicpLmFwcGVuZENoaWxkKHN0YXIpOyBzZXRUaW1lb3V0KCgpID0+IHN0YXIucmVtb3ZlKCksIDIwMDApOyB9LCBpICogODApOyB9IH0KICAgICAgICBmdW5jdGlvbiBnYW1lTG9vcCgpIHsKICAgICAgICAgICAgaWYgKCFpc1BsYXlpbmcpIHJldHVybjsKICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOyBkcmF3QmFja2dyb3VuZCgpOyBidWlsZGluZ3MuZm9yRWFjaChiID0+IGIuZHJhdygpKTsgZmlyZXMuZm9yRWFjaChmID0+IGYuZHJhdygpKTsgdXBkYXRlVHJ1Y2soKTsgZHJhd0ZpcmVUcnVjayh0cnVja1gpOwogICAgICAgICAgICBpZiAoY2FuU3ByYXkgJiYgbW91c2VYID4gMCkgeyBmb3IgKGxldCBpID0gZmlyZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsgaWYgKGZpcmVzW2ldLmNoZWNrV2F0ZXIobW91c2VYLCBtb3VzZVkpKSB7IGNyZWF0ZVN0YXJDZWxlYnJhdGlvbihmaXJlc1tpXS54LCBmaXJlc1tpXS55KTsgcGxheVNvdW5kKCdzdGFyJyk7IHNjb3JlICs9IDEwOyBzY29yZURpc3BsYXkudGV4dENvbnRlbnQgPSBzY29yZTsgZmlyZXMuc3BsaWNlKGksIDEpOyB9IH0gfQogICAgICAgICAgICBkcmF3V2F0ZXJIb3NlKCk7IGlmIChmaXJlcy5sZW5ndGggPT09IDAgJiYgdHJ1Y2tTdGF0ZSA9PT0gJ3BhcmtlZCcpIHsgdHJ1Y2tTdGF0ZSA9ICdsZWF2aW5nJzsgfQogICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBzdGFydEdhbWUoKSB7IGluaXRBdWRpbygpOyBzY29yZSA9IDA7IGxldmVsID0gMTsgc2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7IGxldmVsRGlzcGxheS50ZXh0Q29udGVudCA9IGxldmVsOyBzdGFydFNjcmVlbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsgd2luU2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOyBsZXZlbFNjcmVlbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsgdHJ1Y2tYID0gLTMwMDsgdHJ1Y2tTdGF0ZSA9ICdlbnRlcmluZyc7IGNhblNwcmF5ID0gZmFsc2U7IG1vdXNlWCA9IC0xMDAwOyBtb3VzZVkgPSAtMTAwMDsgaXNQbGF5aW5nID0gdHJ1ZTsgc3Bhd25MZXZlbCgpOyBwbGF5U291bmQoJ3NpcmVuJyk7IGdhbWVMb29wKCk7IH0KICAgIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4K';
GAMES['krankenwagen'] = 'PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImRlIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+8J+akSBLcmFua2Vud2FnZW4tSGVsZCE8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICAgIEBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PUZyZWRva2E6d2dodEA0MDA7NjAwOzcwMCZkaXNwbGF5PXN3YXAnKTsKICAgICAgICAqIHsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9CiAgICAgICAgYm9keSB7IGZvbnQtZmFtaWx5OiAnRnJlZG9rYScsIHNhbnMtc2VyaWY7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxODBkZWcsICM4N0NFRUIgMCUsICM5OEQ4QUEgMTAwJSk7IG1pbi1oZWlnaHQ6IDEwMHZoOyBvdmVyZmxvdzogaGlkZGVuOyB9CiAgICAgICAgI2dhbWUtY29udGFpbmVyIHsgcG9zaXRpb246IHJlbGF0aXZlOyB3aWR0aDogMTAwdnc7IGhlaWdodDogMTAwdmg7IG92ZXJmbG93OiBoaWRkZW47IH0KICAgICAgICAjc2NvcmUtYm9hcmQgeyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMjBweDsgbGVmdDogNTAlOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7IGJhY2tncm91bmQ6ICNFNzRDM0M7IGNvbG9yOiB3aGl0ZTsgcGFkZGluZzogMTVweCA0MHB4OyBib3JkZXItcmFkaXVzOiA1MHB4OyBmb250LXNpemU6IDI4cHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGJveC1zaGFkb3c6IDAgOHB4IDAgI0MwMzkyQjsgei1pbmRleDogMTAwOyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDE1cHg7IH0KICAgICAgICAjc2NvcmUtYm9hcmQgLmljb24geyBmb250LXNpemU6IDMycHg7IGFuaW1hdGlvbjogcHVsc2UgMXMgZWFzZS1pbi1vdXQgaW5maW5pdGU7IH0KICAgICAgICBAa2V5ZnJhbWVzIHB1bHNlIHsgMCUsIDEwMCUgeyB0cmFuc2Zvcm06IHNjYWxlKDEpOyB9IDUwJSB7IHRyYW5zZm9ybTogc2NhbGUoMS4yKTsgfSB9CiAgICAgICAgI2xldmVsLWluZm8geyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMjBweDsgcmlnaHQ6IDMwcHg7IGJhY2tncm91bmQ6ICMzNDk4REI7IGNvbG9yOiB3aGl0ZTsgcGFkZGluZzogMTJweCAyNXB4OyBib3JkZXItcmFkaXVzOiAzMHB4OyBmb250LXNpemU6IDIwcHg7IGZvbnQtd2VpZ2h0OiA2MDA7IGJveC1zaGFkb3c6IDAgNXB4IDAgIzI5ODBCOTsgei1pbmRleDogMTAwOyB9CiAgICAgICAgY2FudmFzIHsgZGlzcGxheTogYmxvY2s7IGN1cnNvcjogZ3JhYjsgfQogICAgICAgIGNhbnZhczphY3RpdmUgeyBjdXJzb3I6IGdyYWJiaW5nOyB9CiAgICAgICAgI3N0YXJ0LXNjcmVlbiwgI3dpbi1zY3JlZW4sICNsZXZlbC1zY3JlZW4geyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE4MGRlZywgI0U3NEMzQyAwJSwgI0MwMzkyQiAxMDAlKTsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IHotaW5kZXg6IDIwMDsgZ2FwOiAzMHB4OyB9CiAgICAgICAgI3dpbi1zY3JlZW4geyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCAjMkVDQzcxIDAlLCAjMjdBRTYwIDEwMCUpOyB9CiAgICAgICAgI2xldmVsLXNjcmVlbiB7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxODBkZWcsICMzNDk4REIgMCUsICMyOTgwQjkgMTAwJSk7IH0KICAgICAgICAuc2NyZWVuLXRpdGxlIHsgZm9udC1zaXplOiA3MnB4OyBjb2xvcjogd2hpdGU7IHRleHQtc2hhZG93OiAwIDhweCAwIHJnYmEoMCwwLDAsMC4yKTsgdGV4dC1hbGlnbjogY2VudGVyOyBhbmltYXRpb246IGJvdW5jZSAycyBlYXNlLWluLW91dCBpbmZpbml0ZTsgfQogICAgICAgIC5sZXZlbC10aXRsZSB7IGZvbnQtc2l6ZTogMTAwcHg7IGNvbG9yOiB3aGl0ZTsgdGV4dC1zaGFkb3c6IDAgOHB4IDAgcmdiYSgwLDAsMCwwLjIpOyBhbmltYXRpb246IHpvb21JbiAwLjVzIGVhc2Utb3V0OyB9CiAgICAgICAgQGtleWZyYW1lcyB6b29tSW4geyAwJSB7IHRyYW5zZm9ybTogc2NhbGUoMCk7IG9wYWNpdHk6IDA7IH0gMTAwJSB7IHRyYW5zZm9ybTogc2NhbGUoMSk7IG9wYWNpdHk6IDE7IH0gfQogICAgICAgIEBrZXlmcmFtZXMgYm91bmNlIHsgMCUsIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7IH0gNTAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0yMHB4KTsgfSB9CiAgICAgICAgLnZlaGljbGUtaWNvbiB7IGZvbnQtc2l6ZTogMTIwcHg7IGFuaW1hdGlvbjogZHJpdmUgM3MgZWFzZS1pbi1vdXQgaW5maW5pdGU7IH0KICAgICAgICBAa2V5ZnJhbWVzIGRyaXZlIHsgMCUsIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTIwcHgpIHJvdGF0ZSgtM2RlZyk7IH0gNTAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDIwcHgpIHJvdGF0ZSgzZGVnKTsgfSB9CiAgICAgICAgLnN0YXJ0LWJ0biB7IGJhY2tncm91bmQ6ICNGRkU2NkQ7IGNvbG9yOiAjMzMzOyBib3JkZXI6IG5vbmU7IHBhZGRpbmc6IDI1cHggNjBweDsgZm9udC1zaXplOiAzMnB4OyBmb250LWZhbWlseTogJ0ZyZWRva2EnLCBzYW5zLXNlcmlmOyBmb250LXdlaWdodDogNzAwOyBib3JkZXItcmFkaXVzOiA1MHB4OyBjdXJzb3I6IHBvaW50ZXI7IGJveC1zaGFkb3c6IDAgOHB4IDAgI0Q0QjgyQzsgfQogICAgICAgIC5zdGFydC1idG46aG92ZXIgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoNHB4KTsgYm94LXNoYWRvdzogMCA0cHggMCAjRDRCODJDOyB9CiAgICAgICAgLmluc3RydWN0aW9ucyB7IGNvbG9yOiB3aGl0ZTsgZm9udC1zaXplOiAyNHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IG9wYWNpdHk6IDAuOTsgbGluZS1oZWlnaHQ6IDEuNTsgfQogICAgICAgIC5oaWRkZW4geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0KICAgICAgICAuY2VsZWJyYXRpb24tc3RhciB7IHBvc2l0aW9uOiBmaXhlZDsgZm9udC1zaXplOiA0MHB4OyBwb2ludGVyLWV2ZW50czogbm9uZTsgYW5pbWF0aW9uOiBzdGFyRmxvYXQgMnMgZWFzZS1vdXQgZm9yd2FyZHM7IHotaW5kZXg6IDUwMDsgfQogICAgICAgIEBrZXlmcmFtZXMgc3RhckZsb2F0IHsgMCUgeyBvcGFjaXR5OiAxOyB0cmFuc2Zvcm06IHNjYWxlKDApIHJvdGF0ZSgwZGVnKTsgfSA1MCUgeyBvcGFjaXR5OiAxOyB0cmFuc2Zvcm06IHNjYWxlKDEuNSkgcm90YXRlKDE4MGRlZyk7IH0gMTAwJSB7IG9wYWNpdHk6IDA7IHRyYW5zZm9ybTogc2NhbGUoMSkgcm90YXRlKDM2MGRlZykgdHJhbnNsYXRlWSgtMTAwcHgpOyB9IH0KICAgICAgICAjc291bmQtdG9nZ2xlIHsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDIwcHg7IGxlZnQ6IDMwcHg7IGJhY2tncm91bmQ6ICMzNDk4REI7IGJvcmRlcjogbm9uZTsgcGFkZGluZzogMTJweCAyMHB4OyBib3JkZXItcmFkaXVzOiAzMHB4OyBmb250LXNpemU6IDI0cHg7IGN1cnNvcjogcG9pbnRlcjsgYm94LXNoYWRvdzogMCA1cHggMCAjMjk4MEI5OyB6LWluZGV4OiAxMDA7IH0KCiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGRpdiBpZD0iZ2FtZS1jb250YWluZXIiPgogICAgICAgIDxkaXYgaWQ9InNjb3JlLWJvYXJkIj48c3BhbiBjbGFzcz0iaWNvbiI+4p2k77iPPC9zcGFuPjxzcGFuIGlkPSJzY29yZSI+MDwvc3Bhbj48L2Rpdj4KICAgICAgICA8ZGl2IGlkPSJsZXZlbC1pbmZvIj5MZXZlbCA8c3BhbiBpZD0ibGV2ZWwiPjE8L3NwYW4+PC9kaXY+CiAgICAgICAgPGJ1dHRvbiBpZD0ic291bmQtdG9nZ2xlIj7wn5SKPC9idXR0b24+CiAgICAgICAgPGNhbnZhcyBpZD0iZ2FtZS1jYW52YXMiPjwvY2FudmFzPgoKICAgICAgICA8ZGl2IGlkPSJzdGFydC1zY3JlZW4iPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ2ZWhpY2xlLWljb24iPvCfmpE8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPktyYW5rZW53YWdlbi1IZWxkITwvaDE+CiAgICAgICAgICAgIDxwIGNsYXNzPSJpbnN0cnVjdGlvbnMiPlppZWhlIGRpZSBrcmFua2VuIFRpZXJlPGJyPmluIGRlbiBLcmFua2Vud2FnZW4hIPCfkJXwn5CIPC9wPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzdGFydC1idG4iIG9uY2xpY2s9InN0YXJ0R2FtZSgpIj7wn46uIExvcyBnZWh0J3MhPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBpZD0ibGV2ZWwtc2NyZWVuIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idmVoaWNsZS1pY29uIj7wn5qRPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ibGV2ZWwtdGl0bGUiPkxldmVsIDxzcGFuIGlkPSJsZXZlbC1udW1iZXIiPjE8L3NwYW4+PC9oMT4KICAgICAgICAgICAgPHAgY2xhc3M9Imluc3RydWN0aW9ucyI+UmV0dGUgZGllIFRpZXJlITwvcD4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGlkPSJ3aW4tc2NyZWVuIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idmVoaWNsZS1pY29uIj7wn4+GPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ic2NyZWVuLXRpdGxlIj5TdXBlciBnZW1hY2h0ITwvaDE+CiAgICAgICAgICAgIDxwIGNsYXNzPSJpbnN0cnVjdGlvbnMiPkR1IGhhc3QgYWxsZSA1IExldmVsIGdlc2NoYWZmdCE8L3A+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogNDhweDsiPuKdpO+4jyA8c3BhbiBpZD0iZmluYWwtc2NvcmUiPjA8L3NwYW4+IOKdpO+4jzwvZGl2PgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzdGFydC1idG4iIG9uY2xpY2s9InN0YXJ0R2FtZSgpIj7wn5SEIE5vY2htYWwgc3BpZWxlbiE8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgPHNjcmlwdD4KICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1jYW52YXMnKTsKICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgICBjb25zdCBzdGFydFNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydC1zY3JlZW4nKTsKICAgICAgICBjb25zdCB3aW5TY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2luLXNjcmVlbicpOwogICAgICAgIGNvbnN0IGxldmVsU2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLXNjcmVlbicpOwogICAgICAgIGNvbnN0IHNjb3JlRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZScpOwogICAgICAgIGNvbnN0IGxldmVsRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbCcpOwogICAgICAgIGNvbnN0IGxldmVsTnVtYmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLW51bWJlcicpOwogICAgICAgIGNvbnN0IGZpbmFsU2NvcmVEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbmFsLXNjb3JlJyk7CiAgICAgICAgY29uc3Qgc291bmRUb2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc291bmQtdG9nZ2xlJyk7CiAgICAgICAgCiAgICAgICAgCiAgICAgICAgbGV0IHBhdGllbnRzID0gW10sIHNjb3JlID0gMCwgbGV2ZWwgPSAxLCBpc1BsYXlpbmcgPSBmYWxzZSwgc291bmRFbmFibGVkID0gdHJ1ZTsKICAgICAgICBsZXQgYW1idWxhbmNlWCA9IGNhbnZhcy53aWR0aCArIDEwMCwgYW1idWxhbmNlVGFyZ2V0WCA9IDAsIGFtYnVsYW5jZVN0YXRlID0gJ2VudGVyaW5nJywgYW1idWxhbmNlU3BlZWQgPSAzOwogICAgICAgIGxldCByZXNjdWVkQ291bnQgPSAwLCBkcmFnZ2VkUGF0aWVudCA9IG51bGwsIGRyYWdPZmZzZXRYID0gMCwgZHJhZ09mZnNldFkgPSAwOwogICAgICAgIGxldCBhdWRpb0N0eCA9IG51bGw7CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gdXBkYXRlQW1idWxhbmNlVGFyZ2V0KCkgewogICAgICAgICAgICBhbWJ1bGFuY2VUYXJnZXRYID0gY2FudmFzLndpZHRoIC0gMjgwOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBjb25zdCBhbmltYWxUeXBlcyA9IFsKICAgICAgICAgICAgeyBlbW9qaTogJ/CfkJUnLCBuYW1lOiAnSHVuZCcgfSwKICAgICAgICAgICAgeyBlbW9qaTogJ/CfkIgnLCBuYW1lOiAnS2F0emUnIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn5CwJywgbmFtZTogJ0hhc2UnIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn5C5JywgbmFtZTogJ0hhbXN0ZXInIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn6aUJywgbmFtZTogJ0lnZWwnIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn5CmJywgbmFtZTogJ1ZvZ2VsJyB9LAogICAgICAgICAgICB7IGVtb2ppOiAn8J+QoicsIG5hbWU6ICdTY2hpbGRrcsO2dGUnIH0sCiAgICAgICAgICAgIHsgZW1vamk6ICfwn5C/77iPJywgbmFtZTogJ0VpY2how7ZybmNoZW4nIH0KICAgICAgICBdOwogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGluaXRBdWRpbygpIHsgaWYgKCFhdWRpb0N0eCkgYXVkaW9DdHggPSBuZXcgKHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkoKTsgfQogICAgICAgIGZ1bmN0aW9uIHBsYXlTb3VuZCh0eXBlKSB7CiAgICAgICAgICAgIGlmICghc291bmRFbmFibGVkIHx8ICFhdWRpb0N0eCkgcmV0dXJuOwogICAgICAgICAgICBjb25zdCBvc2MgPSBhdWRpb0N0eC5jcmVhdGVPc2NpbGxhdG9yKCksIGdhaW4gPSBhdWRpb0N0eC5jcmVhdGVHYWluKCk7CiAgICAgICAgICAgIG9zYy5jb25uZWN0KGdhaW4pOyBnYWluLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pOwogICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3Jlc2N1ZScpIHsgb3NjLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZSg1MjMsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsgb3NjLmZyZXF1ZW5jeS5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDc4NCwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjE1KTsgZ2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKDAuMTUsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsgZ2Fpbi5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjIpOyBvc2Muc3RhcnQoKTsgb3NjLnN0b3AoYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjIpOyB9CiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdkcm9wJykgeyBvc2MuZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKDIwMCwgYXVkaW9DdHguY3VycmVudFRpbWUpOyBvc2MuZnJlcXVlbmN5LmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMTAwLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMSk7IGdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsgZ2Fpbi5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjE1KTsgb3NjLnN0YXJ0KCk7IG9zYy5zdG9wKGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4xNSk7IH0KICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ3ZpY3RvcnknKSB7IFs1MjMsIDY1OSwgNzg0LCAxMDQ3XS5mb3JFYWNoKChmcmVxLCBpKSA9PiB7IGNvbnN0IG8gPSBhdWRpb0N0eC5jcmVhdGVPc2NpbGxhdG9yKCksIGcgPSBhdWRpb0N0eC5jcmVhdGVHYWluKCk7IG8uY29ubmVjdChnKTsgZy5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTsgby5mcmVxdWVuY3kudmFsdWUgPSBmcmVxOyBnLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4xLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjE1KTsgZy5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xNSArIDAuMyk7IG8uc3RhcnQoYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xNSk7IG8uc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjE1ICsgMC4zKTsgfSk7IH0KICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ3NpcmVuJykgeyBvc2MuZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKDcwMCwgYXVkaW9DdHguY3VycmVudFRpbWUpOyBvc2MuZnJlcXVlbmN5LmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDkwMCwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjI1KTsgb3NjLmZyZXF1ZW5jeS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSg3MDAsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC41KTsgZ2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKDAuMDgsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsgZ2Fpbi5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjUpOyBvc2Muc3RhcnQoKTsgb3NjLnN0b3AoYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjUpOyB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHJlc2l6ZUNhbnZhcygpIHsgY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7IGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7IH0KICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplQ2FudmFzKTsgcmVzaXplQ2FudmFzKCk7CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gZ2V0RXZlbnRQb3MoZSkgeyBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyByZXR1cm4gZS50b3VjaGVzID8geyB4OiBlLnRvdWNoZXNbMF0uY2xpZW50WCAtIHJlY3QubGVmdCwgeTogZS50b3VjaGVzWzBdLmNsaWVudFkgLSByZWN0LnRvcCB9IDogeyB4OiBlLmNsaWVudFggLSByZWN0LmxlZnQsIHk6IGUuY2xpZW50WSAtIHJlY3QudG9wIH07IH0KICAgICAgICAKICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZSA9PiB7IGlmICghaXNQbGF5aW5nIHx8IGFtYnVsYW5jZVN0YXRlICE9PSAncGFya2VkJykgcmV0dXJuOyBjb25zdCBwb3MgPSBnZXRFdmVudFBvcyhlKTsgZm9yIChsZXQgaSA9IHBhdGllbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7IGlmIChNYXRoLmh5cG90KHBhdGllbnRzW2ldLnggLSBwb3MueCwgcGF0aWVudHNbaV0ueSAtIHBvcy55KSA8IDUwKSB7IGRyYWdnZWRQYXRpZW50ID0gcGF0aWVudHNbaV07IGRyYWdPZmZzZXRYID0gZHJhZ2dlZFBhdGllbnQueCAtIHBvcy54OyBkcmFnT2Zmc2V0WSA9IGRyYWdnZWRQYXRpZW50LnkgLSBwb3MueTsgYnJlYWs7IH0gfSB9KTsKICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZSA9PiB7IGlmIChkcmFnZ2VkUGF0aWVudCkgeyBjb25zdCBwb3MgPSBnZXRFdmVudFBvcyhlKTsgZHJhZ2dlZFBhdGllbnQueCA9IHBvcy54ICsgZHJhZ09mZnNldFg7IGRyYWdnZWRQYXRpZW50LnkgPSBwb3MueSArIGRyYWdPZmZzZXRZOyB9IH0pOwogICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKCkgPT4geyBpZiAoZHJhZ2dlZFBhdGllbnQpIHsgY2hlY2tBbWJ1bGFuY2VEcm9wKCk7IGRyYWdnZWRQYXRpZW50ID0gbnVsbDsgfSB9KTsKICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGUgPT4geyBlLnByZXZlbnREZWZhdWx0KCk7IGlmICghaXNQbGF5aW5nIHx8IGFtYnVsYW5jZVN0YXRlICE9PSAncGFya2VkJykgcmV0dXJuOyBjb25zdCBwb3MgPSBnZXRFdmVudFBvcyhlKTsgZm9yIChsZXQgaSA9IHBhdGllbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7IGlmIChNYXRoLmh5cG90KHBhdGllbnRzW2ldLnggLSBwb3MueCwgcGF0aWVudHNbaV0ueSAtIHBvcy55KSA8IDUwKSB7IGRyYWdnZWRQYXRpZW50ID0gcGF0aWVudHNbaV07IGRyYWdPZmZzZXRYID0gZHJhZ2dlZFBhdGllbnQueCAtIHBvcy54OyBkcmFnT2Zmc2V0WSA9IGRyYWdnZWRQYXRpZW50LnkgLSBwb3MueTsgYnJlYWs7IH0gfSB9LCB7IHBhc3NpdmU6IGZhbHNlIH0pOwogICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBlID0+IHsgZS5wcmV2ZW50RGVmYXVsdCgpOyBpZiAoZHJhZ2dlZFBhdGllbnQpIHsgY29uc3QgcG9zID0gZ2V0RXZlbnRQb3MoZSk7IGRyYWdnZWRQYXRpZW50LnggPSBwb3MueCArIGRyYWdPZmZzZXRYOyBkcmFnZ2VkUGF0aWVudC55ID0gcG9zLnkgKyBkcmFnT2Zmc2V0WTsgfSB9LCB7IHBhc3NpdmU6IGZhbHNlIH0pOwogICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsICgpID0+IHsgaWYgKGRyYWdnZWRQYXRpZW50KSB7IGNoZWNrQW1idWxhbmNlRHJvcCgpOyBkcmFnZ2VkUGF0aWVudCA9IG51bGw7IH0gfSk7CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gY2hlY2tBbWJ1bGFuY2VEcm9wKCkgewogICAgICAgICAgICBpZiAoIWRyYWdnZWRQYXRpZW50KSByZXR1cm47CiAgICAgICAgICAgIC8vIEFtYnVsYW5jZSBiYWNrIGRvb3IgYXJlYSAtIG5vdyBvbiBsZWZ0IHNpZGUgb2YgYW1idWxhbmNlCiAgICAgICAgICAgIGNvbnN0IGFMID0gYW1idWxhbmNlWCAtIDEwLCBhUiA9IGFtYnVsYW5jZVggKyA5MCwgYVQgPSBjYW52YXMuaGVpZ2h0IC0gMTcwLCBhQiA9IGNhbnZhcy5oZWlnaHQgLSA2MDsKICAgICAgICAgICAgaWYgKGRyYWdnZWRQYXRpZW50LnggPiBhTCAmJiBkcmFnZ2VkUGF0aWVudC54IDwgYVIgJiYgZHJhZ2dlZFBhdGllbnQueSA+IGFUICYmIGRyYWdnZWRQYXRpZW50LnkgPCBhQikgewogICAgICAgICAgICAgICAgY29uc3QgaWR4ID0gcGF0aWVudHMuaW5kZXhPZihkcmFnZ2VkUGF0aWVudCk7CiAgICAgICAgICAgICAgICBpZiAoaWR4ID4gLTEpIHsgcGF0aWVudHMuc3BsaWNlKGlkeCwgMSk7IHJlc2N1ZWRDb3VudCsrOyBzY29yZSArPSAxMDsgc2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7IHBsYXlTb3VuZCgncmVzY3VlJyk7IGNyZWF0ZUNlbGVicmF0aW9uKGRyYWdnZWRQYXRpZW50LngsIGRyYWdnZWRQYXRpZW50LnkpOyB9CiAgICAgICAgICAgIH0gZWxzZSB7IHBsYXlTb3VuZCgnZHJvcCcpOyB9CiAgICAgICAgfQogICAgICAgIHNvdW5kVG9nZ2xlLm9uY2xpY2sgPSAoKSA9PiB7IHNvdW5kRW5hYmxlZCA9ICFzb3VuZEVuYWJsZWQ7IHNvdW5kVG9nZ2xlLnRleHRDb250ZW50ID0gc291bmRFbmFibGVkID8gJ/CflIonIDogJ/CflIcnOyB9OwogICAgICAgIAogICAgICAgIGNsYXNzIFBhdGllbnQgewogICAgICAgICAgICBjb25zdHJ1Y3Rvcih4LCB5LCBhbmltYWwpIHsgdGhpcy54ID0geDsgdGhpcy55ID0geTsgdGhpcy5hbmltYWwgPSBhbmltYWw7IHRoaXMud29iYmxlID0gTWF0aC5yYW5kb20oKSAqIE1hdGguUEkgKiAyOyB9CiAgICAgICAgICAgIGRyYXcoKSB7CiAgICAgICAgICAgICAgICBjb25zdCB3b2JibGUgPSBkcmFnZ2VkUGF0aWVudCA9PT0gdGhpcyA/IDAgOiBNYXRoLnNpbihEYXRlLm5vdygpIC8gNDAwICsgdGhpcy53b2JibGUpICogMzsKICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gZHJhZ2dlZFBhdGllbnQgPT09IHRoaXMgPyAxLjE1IDogMTsKICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7IGN0eC50cmFuc2xhdGUodGhpcy54LCB0aGlzLnkgKyB3b2JibGUpOyBjdHguc2NhbGUoc2NhbGUsIHNjYWxlKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gU2hhZG93IHdoZW4gZHJhZ2dpbmcKICAgICAgICAgICAgICAgIGlmIChkcmFnZ2VkUGF0aWVudCA9PT0gdGhpcykgeyBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMC4zKSc7IGN0eC5iZWdpblBhdGgoKTsgY3R4LmVsbGlwc2UoNSwgMzUsIDQwLCAxMiwgMCwgMCwgTWF0aC5QSSAqIDIpOyBjdHguZmlsbCgpOyB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIEJlZC9tYXQKICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI0Y1RjVGNSc7IGN0eC5iZWdpblBhdGgoKTsgY3R4LmVsbGlwc2UoMCwgMjUsIDQ1LCAxNCwgMCwgMCwgTWF0aC5QSSAqIDIpOyBjdHguZmlsbCgpOwogICAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyNEREQnOyBjdHgubGluZVdpZHRoID0gMjsgY3R4LnN0cm9rZSgpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBCbGFua2V0CiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNGRkI2QzEnOyBjdHguYmVnaW5QYXRoKCk7IGN0eC5lbGxpcHNlKDAsIDIwLCAzOCwgMTEsIDAsIDAsIE1hdGguUEkpOyBjdHguZmlsbCgpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBBbmltYWwKICAgICAgICAgICAgICAgIGN0eC5mb250ID0gJzUwcHggQXJpYWwnOyBjdHgudGV4dEFsaWduID0gJ2NlbnRlcic7IGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJzsKICAgICAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuODU7IGN0eC5maWxsVGV4dCh0aGlzLmFuaW1hbC5lbW9qaSwgMCwgLTUpOyBjdHguZ2xvYmFsQWxwaGEgPSAxOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBTaWNrIGluZGljYXRvcgogICAgICAgICAgICAgICAgY3R4LmZvbnQgPSAnMjJweCBBcmlhbCc7IGN0eC5maWxsVGV4dCgn8J+YoicsIDI4LCAtMTgpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBUaGVybW9tZXRlcgogICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjRkY2QjZCJzsgY3R4LmZpbGxSZWN0KC0zNSwgLTI1LCA2LCAyMCk7CiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNGRkYnOyBjdHguZmlsbFJlY3QoLTM1LCAtMjUsIDYsIDgpOwogICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOyBjdHguYXJjKC0zMiwgLTMsIDUsIDAsIE1hdGguUEkgKiAyKTsgY3R4LmZpbGwoKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBzcGF3bkxldmVsKCkgewogICAgICAgICAgICBwYXRpZW50cyA9IFtdOyByZXNjdWVkQ291bnQgPSAwOwogICAgICAgICAgICBjb25zdCBudW1QYXRpZW50cyA9IDMgKyBsZXZlbCAqIDI7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBVc2UgbW9yZSBzY3JlZW4gd2lkdGggd2l0aCAyIGNvbHVtbnMKICAgICAgICAgICAgY29uc3QgbWluWCA9IDYwOwogICAgICAgICAgICBjb25zdCBtYXhYID0gY2FudmFzLndpZHRoICogMC41NTsKICAgICAgICAgICAgY29uc3QgbWluWSA9IDExMDsKICAgICAgICAgICAgY29uc3QgbWF4WSA9IGNhbnZhcy5oZWlnaHQgLSAxODA7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyAyIGNvbHVtbnMgd29yayBiZXR0ZXIgb24gbmFycm93IG1vYmlsZSBzY3JlZW5zCiAgICAgICAgICAgIGNvbnN0IGNvbHMgPSAyOwogICAgICAgICAgICBjb25zdCByb3dzID0gTWF0aC5jZWlsKG51bVBhdGllbnRzIC8gY29scyk7CiAgICAgICAgICAgIGNvbnN0IGNlbGxXID0gKG1heFggLSBtaW5YKSAvIGNvbHM7CiAgICAgICAgICAgIGNvbnN0IGNlbGxIID0gKG1heFkgLSBtaW5ZKSAvIHJvd3M7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSBbXTsKICAgICAgICAgICAgZm9yIChsZXQgciA9IDA7IHIgPCByb3dzOyByKyspIHsKICAgICAgICAgICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgY29sczsgYysrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9ucy5sZW5ndGggPj0gbnVtUGF0aWVudHMpIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIC8vIE1vcmUgcmFuZG9taXphdGlvbiB3aXRoaW4gZWFjaCBjZWxsCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeCA9IG1pblggKyBjICogY2VsbFcgKyBjZWxsVyAqIDAuMSArIE1hdGgucmFuZG9tKCkgKiBjZWxsVyAqIDAuODsKICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0gbWluWSArIHIgKiBjZWxsSCArIGNlbGxIICogMC4xICsgTWF0aC5yYW5kb20oKSAqIGNlbGxIICogMC44OwogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKHt4LCB5fSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFNodWZmbGUgc28gb3JkZXIgaXNuJ3QgcHJlZGljdGFibGUKICAgICAgICAgICAgcG9zaXRpb25zLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVBhdGllbnRzICYmIGkgPCBwb3NpdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1hbCA9IGFuaW1hbFR5cGVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFuaW1hbFR5cGVzLmxlbmd0aCldOwogICAgICAgICAgICAgICAgcGF0aWVudHMucHVzaChuZXcgUGF0aWVudChwb3NpdGlvbnNbaV0ueCwgcG9zaXRpb25zW2ldLnksIGFuaW1hbCkpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGRyYXdCYWNrZ3JvdW5kKCkgewogICAgICAgICAgICBjb25zdCBza3kgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoMCwgMCwgMCwgY2FudmFzLmhlaWdodCk7IHNreS5hZGRDb2xvclN0b3AoMCwgJyM4N0NFRUInKTsgc2t5LmFkZENvbG9yU3RvcCgwLjcsICcjRTBGNEZGJyk7IHNreS5hZGRDb2xvclN0b3AoMSwgJyM5MEVFOTAnKTsKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHNreTsgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI0ZGRDkzRCc7IGN0eC5iZWdpblBhdGgoKTsgY3R4LmFyYyhjYW52YXMud2lkdGggLSAxMDAsIDgwLCA0NSwgMCwgTWF0aC5QSSAqIDIpOyBjdHguZmlsbCgpOwogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC45KSc7IFtbODAsIDcwXSwgWzI4MCwgMTAwXSwgW2NhbnZhcy53aWR0aCAtIDI4MCwgODBdXS5mb3JFYWNoKChbeCwgeV0pID0+IHsgY3R4LmJlZ2luUGF0aCgpOyBjdHguYXJjKHgsIHksIDI1LCAwLCBNYXRoLlBJICogMik7IGN0eC5hcmMoeCArIDMwLCB5IC0gMTAsIDMwLCAwLCBNYXRoLlBJICogMik7IGN0eC5hcmMoeCArIDYwLCB5LCAyNSwgMCwgTWF0aC5QSSAqIDIpOyBjdHguZmlsbCgpOyB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEhvc3BpdGFsCiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI0ZGRkZGRic7IGN0eC5maWxsUmVjdChjYW52YXMud2lkdGggLSAyMjAsIGNhbnZhcy5oZWlnaHQgLSAyODAsIDE5MCwgMjAwKTsKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjRTc0QzNDJzsgY3R4LmZpbGxSZWN0KGNhbnZhcy53aWR0aCAtIDIzMCwgY2FudmFzLmhlaWdodCAtIDI5MCwgMjEwLCAyMCk7CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI0U3NEMzQyc7IGN0eC5maWxsUmVjdChjYW52YXMud2lkdGggLSAxNDAsIGNhbnZhcy5oZWlnaHQgLSAyNTAsIDMwLCA4MCk7IGN0eC5maWxsUmVjdChjYW52YXMud2lkdGggLSAxNjUsIGNhbnZhcy5oZWlnaHQgLSAyMjUsIDgwLCAzMCk7CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzg3Q0VFQic7IGN0eC5maWxsUmVjdChjYW52YXMud2lkdGggLSAyMDAsIGNhbnZhcy5oZWlnaHQgLSAxNjAsIDQwLCA0MCk7IGN0eC5maWxsUmVjdChjYW52YXMud2lkdGggLSA5MCwgY2FudmFzLmhlaWdodCAtIDE2MCwgNDAsIDQwKTsKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMzQ5OERCJzsgY3R4LmZpbGxSZWN0KGNhbnZhcy53aWR0aCAtIDE0NSwgY2FudmFzLmhlaWdodCAtIDExMCwgNDAsIDMwKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEdyb3VuZCAmIHBhdGgKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjN0NCMzQyJzsgY3R4LmZpbGxSZWN0KDAsIGNhbnZhcy5oZWlnaHQgLSA4MCwgY2FudmFzLndpZHRoLCA4MCk7CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI0UwRTBFMCc7IGN0eC5maWxsUmVjdCgwLCBjYW52YXMuaGVpZ2h0IC0gODAsIGNhbnZhcy53aWR0aCwgNTApOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gRmxvd2VycwogICAgICAgICAgICBjdHguZm9udCA9ICcyMHB4IEFyaWFsJzsgZm9yIChsZXQgeCA9IDUwOyB4IDwgY2FudmFzLndpZHRoIC0gMjUwOyB4ICs9IDEwMCkgeyBjdHguZmlsbFRleHQoJ/CfjLgnLCB4LCBjYW52YXMuaGVpZ2h0IC0gODUpOyBjdHguZmlsbFRleHQoJ/CfjLwnLCB4ICsgNDAsIGNhbnZhcy5oZWlnaHQgLSA4Mik7IH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gZHJhd0FtYnVsYW5jZSh4KSB7CiAgICAgICAgICAgIGNvbnN0IHkgPSBjYW52YXMuaGVpZ2h0IC0gMTE4OwogICAgICAgICAgICBjdHguc2F2ZSgpOyBjdHgudHJhbnNsYXRlKHgsIHkpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gU2hhZG93CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgwLDAsMCwwLjIpJzsgY3R4LmJlZ2luUGF0aCgpOyBjdHguZWxsaXBzZSgxMTAsIDU1LCAxMTAsIDEyLCAwLCAwLCBNYXRoLlBJICogMik7IGN0eC5maWxsKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBNYWluIGJvZHkgKGZsaXBwZWQgLSBjYWJpbiBvbiByaWdodCwgZG9vciBvbiBsZWZ0KQogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNGRkZGRkYnOyBjdHguZmlsbFJlY3QoNTAsIDAsIDE4MCwgNTUpOwogICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnI0RERCc7IGN0eC5saW5lV2lkdGggPSAyOyBjdHguc3Ryb2tlUmVjdCg1MCwgMCwgMTgwLCA1NSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSZWQgc3RyaXBlCiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI0U3NEMzQyc7IGN0eC5maWxsUmVjdCg1MCwgMzgsIDE4MCwgMTIpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ3Jvc3Mgb24gc2lkZQogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNFNzRDM0MnOyBjdHguZmlsbFJlY3QoMTQwLCA4LCA4LCAyNik7IGN0eC5maWxsUmVjdCgxMzAsIDE1LCAyOCwgMTApOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQmFjayBkb29yIChvcGVuIGZvciBsb2FkaW5nKSAtIE5PVyBPTiBMRUZUCiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzkwRUU5MCc7IGN0eC5maWxsUmVjdCg1LCAtMTAsIDU1LCA2NSk7CiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjMzMzJzsgY3R4LmxpbmVXaWR0aCA9IDM7IGN0eC5zdHJva2VSZWN0KDUsIC0xMCwgNTUsIDY1KTsKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjRTc0QzNDJzsgY3R4LmZvbnQgPSAnYm9sZCAxMnB4IEFyaWFsJzsgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInOwogICAgICAgICAgICBjdHguZmlsbFRleHQoJ0hJRVInLCAzMiwgMjApOwogICAgICAgICAgICBjdHguZmlsbFRleHQoJ1JFSU4hJywgMzIsIDM4KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFJlc2N1ZWQgYW5pbWFscyBpbnNpZGUKICAgICAgICAgICAgY3R4LmZvbnQgPSAnMThweCBBcmlhbCc7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzY3VlZENvdW50ICYmIGkgPCA0OyBpKyspIHsKICAgICAgICAgICAgICAgIGNvbnN0IGF4ID0gMTggKyAoaSAlIDIpICogMjAsIGF5ID0gNSArIE1hdGguZmxvb3IoaSAvIDIpICogMjI7CiAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoJ/CfmIonLCBheCwgYXkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBDYWJpbiBvbiBSSUdIVAogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNGRkZGRkYnOwogICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7IGN0eC5tb3ZlVG8oMjMwLCA1NSk7IGN0eC5saW5lVG8oMjMwLCA1KTsgY3R4LmxpbmVUbygyNDUsIC0xMCk7IGN0eC5saW5lVG8oMjgwLCAtMTApOyBjdHgubGluZVRvKDI4MCwgNTUpOyBjdHguZmlsbCgpOwogICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnI0RERCc7IGN0eC5zdHJva2UoKTsKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjRTc0QzNDJzsgY3R4LmZpbGxSZWN0KDIzMCwgMzgsIDUwLCAxMik7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBXaW5kc2hpZWxkCiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzg3Q0VFQic7CiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsgY3R4Lm1vdmVUbygyMzMsIDApOyBjdHgubGluZVRvKDI0NCwgLTgpOyBjdHgubGluZVRvKDI3NywgLTgpOyBjdHgubGluZVRvKDI3NywgMzIpOyBjdHgubGluZVRvKDIzMywgMzIpOyBjdHguZmlsbCgpOwogICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzU1NSc7IGN0eC5saW5lV2lkdGggPSAyOyBjdHguc3Ryb2tlKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBMaWdodHMgb24gdG9wCiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzMzMyc7IGN0eC5maWxsUmVjdCgxMzAsIC0xMiwgNTAsIDEwKTsKICAgICAgICAgICAgY29uc3QgZmxhc2ggPSBNYXRoLnNpbihEYXRlLm5vdygpIC8gMTAwKSA+IDA7CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBmbGFzaCA/ICcjRkYwMDAwJyA6ICcjNjYwMDAwJzsgY3R4LmJlZ2luUGF0aCgpOyBjdHguYXJjKDE0MiwgLTcsIDcsIDAsIE1hdGguUEkgKiAyKTsgY3R4LmZpbGwoKTsKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICFmbGFzaCA/ICcjMDA2NkZGJyA6ICcjMDAyMjY2JzsgY3R4LmJlZ2luUGF0aCgpOyBjdHguYXJjKDE2OCwgLTcsIDcsIDAsIE1hdGguUEkgKiAyKTsgY3R4LmZpbGwoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFdoZWVscwogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMxYTFhMWEnOyBjdHguYmVnaW5QYXRoKCk7IGN0eC5hcmMoMTAwLCA1NSwgMjAsIDAsIE1hdGguUEkgKiAyKTsgY3R4LmFyYygyNDUsIDU1LCAyMCwgMCwgTWF0aC5QSSAqIDIpOyBjdHguZmlsbCgpOwogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNDMEMwQzAnOyBjdHguYmVnaW5QYXRoKCk7IGN0eC5hcmMoMTAwLCA1NSwgMTAsIDAsIE1hdGguUEkgKiAyKTsgY3R4LmFyYygyNDUsIDU1LCAxMCwgMCwgTWF0aC5QSSAqIDIpOyBjdHguZmlsbCgpOwogICAgICAgICAgICAKICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIERyb3Agem9uZSBpbmRpY2F0b3IgLSBMRUZUIHNpZGUgb2YgYW1idWxhbmNlCiAgICAgICAgICAgIGlmIChkcmFnZ2VkUGF0aWVudCkgewogICAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyM0Q0FGNTAnOyBjdHgubGluZVdpZHRoID0gNDsgY3R4LnNldExpbmVEYXNoKFsxMCwgNV0pOwogICAgICAgICAgICAgICAgY3R4LnN0cm9rZVJlY3QoeCwgY2FudmFzLmhlaWdodCAtIDE3NSwgNjUsIDExMCk7CiAgICAgICAgICAgICAgICBjdHguc2V0TGluZURhc2goW10pOwogICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDc2LCAxNzUsIDgwLCAwLjMpJzsgY3R4LmZpbGxSZWN0KHgsIGNhbnZhcy5oZWlnaHQgLSAxNzUsIDY1LCAxMTApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUFtYnVsYW5jZSgpIHsKICAgICAgICAgICAgaWYgKGFtYnVsYW5jZVN0YXRlID09PSAnZW50ZXJpbmcnKSB7IAogICAgICAgICAgICAgICAgYW1idWxhbmNlWCAtPSBhbWJ1bGFuY2VTcGVlZDsgCiAgICAgICAgICAgICAgICBpZiAoYW1idWxhbmNlWCA8PSBhbWJ1bGFuY2VUYXJnZXRYKSB7IAogICAgICAgICAgICAgICAgICAgIGFtYnVsYW5jZVggPSBhbWJ1bGFuY2VUYXJnZXRYOyAKICAgICAgICAgICAgICAgICAgICBhbWJ1bGFuY2VTdGF0ZSA9ICdwYXJrZWQnOyAKICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgcGxheVNvdW5kKCdzaXJlbicpOyAKICAgICAgICAgICAgICAgIH0gCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoYW1idWxhbmNlU3RhdGUgPT09ICdsZWF2aW5nJykgeyAKICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGFtYnVsYW5jZVggLT0gYW1idWxhbmNlU3BlZWQ7IAogICAgICAgICAgICAgICAgaWYgKGFtYnVsYW5jZVggPCAtMzAwKSB7IAogICAgICAgICAgICAgICAgICAgIGFtYnVsYW5jZVN0YXRlID0gJ3dhaXRpbmcnOyAKICAgICAgICAgICAgICAgICAgICBsZXZlbCsrOyAKICAgICAgICAgICAgICAgICAgICBpZiAobGV2ZWwgPiA1KSB7IAogICAgICAgICAgICAgICAgICAgICAgICBpc1BsYXlpbmcgPSBmYWxzZTsgCiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlTb3VuZCgndmljdG9yeScpOyAKICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxTY29yZURpc3BsYXkudGV4dENvbnRlbnQgPSBzY29yZTsgCiAgICAgICAgICAgICAgICAgICAgICAgIHdpblNjcmVlbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsgCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dMZXZlbFNjcmVlbigpOyAKICAgICAgICAgICAgICAgICAgICB9IAogICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBzaG93TGV2ZWxTY3JlZW4oKSB7IAogICAgICAgICAgICBsZXZlbE51bWJlci50ZXh0Q29udGVudCA9IGxldmVsOyAKICAgICAgICAgICAgbGV2ZWxEaXNwbGF5LnRleHRDb250ZW50ID0gbGV2ZWw7IAogICAgICAgICAgICBsZXZlbFNjcmVlbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsgCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyAKICAgICAgICAgICAgICAgIGxldmVsU2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOyAKICAgICAgICAgICAgICAgIHVwZGF0ZUFtYnVsYW5jZVRhcmdldCgpOwogICAgICAgICAgICAgICAgYW1idWxhbmNlWCA9IGNhbnZhcy53aWR0aCArIDEwMDsgCiAgICAgICAgICAgICAgICBhbWJ1bGFuY2VTdGF0ZSA9ICdlbnRlcmluZyc7IAogICAgICAgICAgICAgICAgc3Bhd25MZXZlbCgpOyAKICAgICAgICAgICAgfSwgMTUwMCk7IAogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBjcmVhdGVDZWxlYnJhdGlvbih4LCB5KSB7IFsn4p2k77iPJywgJ+KcqCcsICfwn4yfJywgJ/CfkponLCAn8J+YiiddLmZvckVhY2goKGVtb2ppLCBpKSA9PiB7IHNldFRpbWVvdXQoKCkgPT4geyBjb25zdCBzdGFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHN0YXIuY2xhc3NOYW1lID0gJ2NlbGVicmF0aW9uLXN0YXInOyBzdGFyLnRleHRDb250ZW50ID0gZW1vamk7IHN0YXIuc3R5bGUubGVmdCA9ICh4ICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMTAwKSArICdweCc7IHN0YXIuc3R5bGUudG9wID0gKHkgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAxMDApICsgJ3B4JzsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtY29udGFpbmVyJykuYXBwZW5kQ2hpbGQoc3Rhcik7IHNldFRpbWVvdXQoKCkgPT4gc3Rhci5yZW1vdmUoKSwgMjAwMCk7IH0sIGkgKiA4MCk7IH0pOyB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gZ2FtZUxvb3AoKSB7CiAgICAgICAgICAgIGlmICghaXNQbGF5aW5nKSByZXR1cm47CiAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsgZHJhd0JhY2tncm91bmQoKTsKICAgICAgICAgICAgcGF0aWVudHMuZmlsdGVyKHAgPT4gcCAhPT0gZHJhZ2dlZFBhdGllbnQpLmZvckVhY2gocCA9PiBwLmRyYXcoKSk7CiAgICAgICAgICAgIHVwZGF0ZUFtYnVsYW5jZSgpOyBkcmF3QW1idWxhbmNlKGFtYnVsYW5jZVgpOwogICAgICAgICAgICBpZiAoZHJhZ2dlZFBhdGllbnQpIGRyYWdnZWRQYXRpZW50LmRyYXcoKTsKICAgICAgICAgICAgaWYgKHBhdGllbnRzLmxlbmd0aCA9PT0gMCAmJiBhbWJ1bGFuY2VTdGF0ZSA9PT0gJ3BhcmtlZCcpIGFtYnVsYW5jZVN0YXRlID0gJ2xlYXZpbmcnOwogICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBzdGFydEdhbWUoKSB7IAogICAgICAgICAgICBpbml0QXVkaW8oKTsgCiAgICAgICAgICAgIHNjb3JlID0gMDsgCiAgICAgICAgICAgIGxldmVsID0gMTsgCiAgICAgICAgICAgIHJlc2N1ZWRDb3VudCA9IDA7IAogICAgICAgICAgICBzY29yZURpc3BsYXkudGV4dENvbnRlbnQgPSBzY29yZTsgCiAgICAgICAgICAgIGxldmVsRGlzcGxheS50ZXh0Q29udGVudCA9IGxldmVsOyAKICAgICAgICAgICAgc3RhcnRTY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7IAogICAgICAgICAgICB3aW5TY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7IAogICAgICAgICAgICBsZXZlbFNjcmVlbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsgCiAgICAgICAgICAgICAKICAgICAgICAgICAgdXBkYXRlQW1idWxhbmNlVGFyZ2V0KCk7CiAgICAgICAgICAgIGFtYnVsYW5jZVggPSBjYW52YXMud2lkdGggKyAxMDA7IAogICAgICAgICAgICBhbWJ1bGFuY2VTdGF0ZSA9ICdlbnRlcmluZyc7IAogICAgICAgICAgICBpc1BsYXlpbmcgPSB0cnVlOyAKICAgICAgICAgICAgc3Bhd25MZXZlbCgpOyAKICAgICAgICAgICAgcGxheVNvdW5kKCdzaXJlbicpOyAKICAgICAgICAgICAgZ2FtZUxvb3AoKTsgCiAgICAgICAgfQogICAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo=';
GAMES['traktor'] = 'PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImRlIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+8J+anCBUcmFrdG9yLUhlbGQhPC90aXRsZT4KICAgIDxzdHlsZT4KICAgICAgICBAaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1GcmVkb2thOndnaHRANDAwOzYwMDs3MDAmZGlzcGxheT1zd2FwJyk7CiAgICAgICAgKiB7IG1hcmdpbjogMDsgcGFkZGluZzogMDsgYm94LXNpemluZzogYm9yZGVyLWJveDsgfQogICAgICAgIGJvZHkgeyBmb250LWZhbWlseTogJ0ZyZWRva2EnLCBzYW5zLXNlcmlmOyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCAjODdDRUVCIDAlLCAjOThEOEFBIDEwMCUpOyBtaW4taGVpZ2h0OiAxMDB2aDsgb3ZlcmZsb3c6IGhpZGRlbjsgfQogICAgICAgICNnYW1lLWNvbnRhaW5lciB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgd2lkdGg6IDEwMHZ3OyBoZWlnaHQ6IDEwMHZoOyBvdmVyZmxvdzogaGlkZGVuOyB9CiAgICAgICAgI3Njb3JlLWJvYXJkIHsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDIwcHg7IGxlZnQ6IDUwJTsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpOyBiYWNrZ3JvdW5kOiAjOEI0NTEzOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDE1cHggNDBweDsgYm9yZGVyLXJhZGl1czogNTBweDsgZm9udC1zaXplOiAyOHB4OyBmb250LXdlaWdodDogNzAwOyBib3gtc2hhZG93OiAwIDhweCAwICM1RDNBMUE7IHotaW5kZXg6IDEwMDsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiAxNXB4OyB9CiAgICAgICAgI3Njb3JlLWJvYXJkIC5pY29uIHsgZm9udC1zaXplOiAzMnB4OyBhbmltYXRpb246IHB1bHNlIDFzIGVhc2UtaW4tb3V0IGluZmluaXRlOyB9CiAgICAgICAgQGtleWZyYW1lcyBwdWxzZSB7IDAlLCAxMDAlIHsgdHJhbnNmb3JtOiBzY2FsZSgxKTsgfSA1MCUgeyB0cmFuc2Zvcm06IHNjYWxlKDEuMik7IH0gfQogICAgICAgICNsZXZlbC1pbmZvIHsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDIwcHg7IHJpZ2h0OiAzMHB4OyBiYWNrZ3JvdW5kOiAjMjI4QjIyOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDEycHggMjVweDsgYm9yZGVyLXJhZGl1czogMzBweDsgZm9udC1zaXplOiAyMHB4OyBmb250LXdlaWdodDogNjAwOyBib3gtc2hhZG93OiAwIDVweCAwICMxQjZCMUI7IHotaW5kZXg6IDEwMDsgfQogICAgICAgIGNhbnZhcyB7IGRpc3BsYXk6IGJsb2NrOyBjdXJzb3I6IGdyYWI7IH0KICAgICAgICBjYW52YXM6YWN0aXZlIHsgY3Vyc29yOiBncmFiYmluZzsgfQogICAgICAgICNzdGFydC1zY3JlZW4sICN3aW4tc2NyZWVuLCAjbGV2ZWwtc2NyZWVuIHsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxODBkZWcsICMyMjhCMjIgMCUsICMzMkNEMzIgMTAwJSk7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyB6LWluZGV4OiAyMDA7IGdhcDogMzBweDsgfQogICAgICAgICN3aW4tc2NyZWVuIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE4MGRlZywgI0ZGRDcwMCAwJSwgI0ZGQTUwMCAxMDAlKTsgfQogICAgICAgICNsZXZlbC1zY3JlZW4geyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCAjOEI0NTEzIDAlLCAjQTA1MjJEIDEwMCUpOyB9CiAgICAgICAgLnNjcmVlbi10aXRsZSB7IGZvbnQtc2l6ZTogNzJweDsgY29sb3I6IHdoaXRlOyB0ZXh0LXNoYWRvdzogMCA4cHggMCByZ2JhKDAsMCwwLDAuMik7IHRleHQtYWxpZ246IGNlbnRlcjsgYW5pbWF0aW9uOiBib3VuY2UgMnMgZWFzZS1pbi1vdXQgaW5maW5pdGU7IH0KICAgICAgICAubGV2ZWwtdGl0bGUgeyBmb250LXNpemU6IDEwMHB4OyBjb2xvcjogd2hpdGU7IHRleHQtc2hhZG93OiAwIDhweCAwIHJnYmEoMCwwLDAsMC4yKTsgYW5pbWF0aW9uOiB6b29tSW4gMC41cyBlYXNlLW91dDsgfQogICAgICAgIEBrZXlmcmFtZXMgem9vbUluIHsgMCUgeyB0cmFuc2Zvcm06IHNjYWxlKDApOyBvcGFjaXR5OiAwOyB9IDEwMCUgeyB0cmFuc2Zvcm06IHNjYWxlKDEpOyBvcGFjaXR5OiAxOyB9IH0KICAgICAgICBAa2V5ZnJhbWVzIGJvdW5jZSB7IDAlLCAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9IDUwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMjBweCk7IH0gfQogICAgICAgIC52ZWhpY2xlLWljb24geyBmb250LXNpemU6IDEyMHB4OyBhbmltYXRpb246IGRyaXZlIDNzIGVhc2UtaW4tb3V0IGluZmluaXRlOyB9CiAgICAgICAgQGtleWZyYW1lcyBkcml2ZSB7IDAlLCAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0yMHB4KSByb3RhdGUoLTNkZWcpOyB9IDUwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgyMHB4KSByb3RhdGUoM2RlZyk7IH0gfQogICAgICAgIC5zdGFydC1idG4geyBiYWNrZ3JvdW5kOiAjRkZFNjZEOyBjb2xvcjogIzMzMzsgYm9yZGVyOiBub25lOyBwYWRkaW5nOiAyNXB4IDYwcHg7IGZvbnQtc2l6ZTogMzJweDsgZm9udC1mYW1pbHk6ICdGcmVkb2thJywgc2Fucy1zZXJpZjsgZm9udC13ZWlnaHQ6IDcwMDsgYm9yZGVyLXJhZGl1czogNTBweDsgY3Vyc29yOiBwb2ludGVyOyBib3gtc2hhZG93OiAwIDhweCAwICNENEI4MkM7IH0KICAgICAgICAuc3RhcnQtYnRuOmhvdmVyIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDRweCk7IGJveC1zaGFkb3c6IDAgNHB4IDAgI0Q0QjgyQzsgfQogICAgICAgIC5pbnN0cnVjdGlvbnMgeyBjb2xvcjogd2hpdGU7IGZvbnQtc2l6ZTogMjRweDsgdGV4dC1hbGlnbjogY2VudGVyOyBvcGFjaXR5OiAwLjk7IGxpbmUtaGVpZ2h0OiAxLjU7IH0KICAgICAgICAuaGlkZGVuIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9CiAgICAgICAgLmNlbGVicmF0aW9uLXN0YXIgeyBwb3NpdGlvbjogZml4ZWQ7IGZvbnQtc2l6ZTogNDBweDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IGFuaW1hdGlvbjogc3RhckZsb2F0IDJzIGVhc2Utb3V0IGZvcndhcmRzOyB6LWluZGV4OiA1MDA7IH0KICAgICAgICBAa2V5ZnJhbWVzIHN0YXJGbG9hdCB7IDAlIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiBzY2FsZSgwKSByb3RhdGUoMGRlZyk7IH0gNTAlIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiBzY2FsZSgxLjUpIHJvdGF0ZSgxODBkZWcpOyB9IDEwMCUgeyBvcGFjaXR5OiAwOyB0cmFuc2Zvcm06IHNjYWxlKDEpIHJvdGF0ZSgzNjBkZWcpIHRyYW5zbGF0ZVkoLTEwMHB4KTsgfSB9CiAgICAgICAgI3NvdW5kLXRvZ2dsZSB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAyMHB4OyBsZWZ0OiAzMHB4OyBiYWNrZ3JvdW5kOiAjMjI4QjIyOyBib3JkZXI6IG5vbmU7IHBhZGRpbmc6IDEycHggMjBweDsgYm9yZGVyLXJhZGl1czogMzBweDsgZm9udC1zaXplOiAyNHB4OyBjdXJzb3I6IHBvaW50ZXI7IGJveC1zaGFkb3c6IDAgNXB4IDAgIzFCNkIxQjsgei1pbmRleDogMTAwOyB9CgogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgaWQ9ImdhbWUtY29udGFpbmVyIj4KICAgICAgICA8ZGl2IGlkPSJzY29yZS1ib2FyZCI+PHNwYW4gY2xhc3M9Imljb24iPvCfjL48L3NwYW4+PHNwYW4gaWQ9InNjb3JlIj4wPC9zcGFuPjwvZGl2PgogICAgICAgIDxkaXYgaWQ9ImxldmVsLWluZm8iPkxldmVsIDxzcGFuIGlkPSJsZXZlbCI+MTwvc3Bhbj48L2Rpdj4KICAgICAgICA8YnV0dG9uIGlkPSJzb3VuZC10b2dnbGUiPvCflIo8L2J1dHRvbj4KICAgICAgICA8Y2FudmFzIGlkPSJnYW1lLWNhbnZhcyI+PC9jYW52YXM+CgogICAgICAgIDxkaXYgaWQ9InN0YXJ0LXNjcmVlbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InZlaGljbGUtaWNvbiI+8J+anDwvZGl2PgogICAgICAgICAgICA8aDEgY2xhc3M9InNjcmVlbi10aXRsZSI+VHJha3Rvci1IZWxkITwvaDE+CiAgICAgICAgICAgIDxwIGNsYXNzPSJpbnN0cnVjdGlvbnMiPlppZWhlIGRpZSBTdHJvaGJhbGxlbjxicj5pbiBkZW4gQW5ow6RuZ2VyISDwn4y+PC9wPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzdGFydC1idG4iIG9uY2xpY2s9InN0YXJ0R2FtZSgpIj7wn46uIExvcyBnZWh0J3MhPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBpZD0ibGV2ZWwtc2NyZWVuIiBjbGFzcz0iaGlkZGVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idmVoaWNsZS1pY29uIj7wn5qcPC9kaXY+CiAgICAgICAgICAgIDxoMSBjbGFzcz0ibGV2ZWwtdGl0bGUiPkxldmVsIDxzcGFuIGlkPSJsZXZlbC1udW1iZXIiPjE8L3NwYW4+PC9oMT4KICAgICAgICAgICAgPHAgY2xhc3M9Imluc3RydWN0aW9ucyI+U2FtbWVsIGFsbGUgU3Ryb2hiYWxsZW4hPC9wPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgaWQ9Indpbi1zY3JlZW4iIGNsYXNzPSJoaWRkZW4iPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ2ZWhpY2xlLWljb24iPvCfj4Y8L2Rpdj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJzY3JlZW4tdGl0bGUiPlN1cGVyIGdlbWFjaHQhPC9oMT4KICAgICAgICAgICAgPHAgY2xhc3M9Imluc3RydWN0aW9ucyI+RHUgaGFzdCBhbGxlIDUgTGV2ZWwgZ2VzY2hhZmZ0ITwvcD4KICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiA0OHB4OyI+8J+MviA8c3BhbiBpZD0iZmluYWwtc2NvcmUiPjA8L3NwYW4+IPCfjL48L2Rpdj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic3RhcnQtYnRuIiBvbmNsaWNrPSJzdGFydEdhbWUoKSI+8J+UhCBOb2NobWFsIHNwaWVsZW4hPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxzY3JpcHQ+CiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtY2FudmFzJyk7CiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAgY29uc3Qgc3RhcnRTY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnQtc2NyZWVuJyk7CiAgICAgICAgY29uc3Qgd2luU2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpbi1zY3JlZW4nKTsKICAgICAgICBjb25zdCBsZXZlbFNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC1zY3JlZW4nKTsKICAgICAgICBjb25zdCBzY29yZURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NvcmUnKTsKICAgICAgICBjb25zdCBsZXZlbERpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwnKTsKICAgICAgICBjb25zdCBsZXZlbE51bWJlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC1udW1iZXInKTsKICAgICAgICBjb25zdCBmaW5hbFNjb3JlRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaW5hbC1zY29yZScpOwogICAgICAgIGNvbnN0IHNvdW5kVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvdW5kLXRvZ2dsZScpOwogICAgICAgIAogICAgICAgIAogICAgICAgIGxldCBoYXlCYWxlcyA9IFtdLCBzY29yZSA9IDAsIGxldmVsID0gMSwgaXNQbGF5aW5nID0gZmFsc2UsIHNvdW5kRW5hYmxlZCA9IHRydWU7CiAgICAgICAgbGV0IHRyYWN0b3JYID0gLTIwMCwgdHJhY3RvclRhcmdldFggPSAxODAsIHRyYWN0b3JTdGF0ZSA9ICdlbnRlcmluZycsIHRyYWN0b3JTcGVlZCA9IDM7CiAgICAgICAgbGV0IGNvbGxlY3RlZENvdW50ID0gMCwgZHJhZ2dlZEJhbGUgPSBudWxsLCBkcmFnT2Zmc2V0WCA9IDAsIGRyYWdPZmZzZXRZID0gMCwgbW91c2VYID0gMCwgbW91c2VZID0gMDsKICAgICAgICBsZXQgYXVkaW9DdHggPSBudWxsOwogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGluaXRBdWRpbygpIHsgaWYgKCFhdWRpb0N0eCkgYXVkaW9DdHggPSBuZXcgKHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkoKTsgfQogICAgICAgIGZ1bmN0aW9uIHBsYXlTb3VuZCh0eXBlKSB7CiAgICAgICAgICAgIGlmICghc291bmRFbmFibGVkIHx8ICFhdWRpb0N0eCkgcmV0dXJuOwogICAgICAgICAgICBjb25zdCBvc2MgPSBhdWRpb0N0eC5jcmVhdGVPc2NpbGxhdG9yKCksIGdhaW4gPSBhdWRpb0N0eC5jcmVhdGVHYWluKCk7CiAgICAgICAgICAgIG9zYy5jb25uZWN0KGdhaW4pOyBnYWluLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pOwogICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2NvbGxlY3QnKSB7IG9zYy5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoNDAwLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7IG9zYy5mcmVxdWVuY3kuZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSg4MDAsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4xNSk7IGdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjE1LCBhdWRpb0N0eC5jdXJyZW50VGltZSk7IGdhaW4uZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4yKTsgb3NjLnN0YXJ0KCk7IG9zYy5zdG9wKGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4yKTsgfQogICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnZHJvcCcpIHsgb3NjLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZSgyMDAsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lKTsgb3NjLmZyZXF1ZW5jeS5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDEwMCwgYXVkaW9DdHguY3VycmVudFRpbWUgKyAwLjEpOyBnYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4xLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7IGdhaW4uZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIGF1ZGlvQ3R4LmN1cnJlbnRUaW1lICsgMC4xNSk7IG9zYy5zdGFydCgpOyBvc2Muc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIDAuMTUpOyB9CiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICd2aWN0b3J5JykgeyBbMzkyLCA0OTQsIDU4NywgNzg0XS5mb3JFYWNoKChmcmVxLCBpKSA9PiB7IGNvbnN0IG8gPSBhdWRpb0N0eC5jcmVhdGVPc2NpbGxhdG9yKCksIGcgPSBhdWRpb0N0eC5jcmVhdGVHYWluKCk7IG8uY29ubmVjdChnKTsgZy5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTsgby5mcmVxdWVuY3kudmFsdWUgPSBmcmVxOyBnLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4xLCBhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjE1KTsgZy5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xNSArIDAuMyk7IG8uc3RhcnQoYXVkaW9DdHguY3VycmVudFRpbWUgKyBpICogMC4xNSk7IG8uc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIGkgKiAwLjE1ICsgMC4zKTsgfSk7IH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gcmVzaXplQ2FudmFzKCkgeyBjYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsgY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsgfQogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVDYW52YXMpOyByZXNpemVDYW52YXMoKTsKICAgICAgICAKICAgICAgICBmdW5jdGlvbiBnZXRFdmVudFBvcyhlKSB7IGNvbnN0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IHJldHVybiBlLnRvdWNoZXMgPyB7IHg6IGUudG91Y2hlc1swXS5jbGllbnRYIC0gcmVjdC5sZWZ0LCB5OiBlLnRvdWNoZXNbMF0uY2xpZW50WSAtIHJlY3QudG9wIH0gOiB7IHg6IGUuY2xpZW50WCAtIHJlY3QubGVmdCwgeTogZS5jbGllbnRZIC0gcmVjdC50b3AgfTsgfQogICAgICAgIAogICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBlID0+IHsgaWYgKCFpc1BsYXlpbmcgfHwgdHJhY3RvclN0YXRlICE9PSAncGFya2VkJykgcmV0dXJuOyBjb25zdCBwb3MgPSBnZXRFdmVudFBvcyhlKTsgZm9yIChsZXQgaSA9IGhheUJhbGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7IGlmIChNYXRoLmh5cG90KGhheUJhbGVzW2ldLnggLSBwb3MueCwgaGF5QmFsZXNbaV0ueSAtIHBvcy55KSA8IDQ1KSB7IGRyYWdnZWRCYWxlID0gaGF5QmFsZXNbaV07IGRyYWdPZmZzZXRYID0gZHJhZ2dlZEJhbGUueCAtIHBvcy54OyBkcmFnT2Zmc2V0WSA9IGRyYWdnZWRCYWxlLnkgLSBwb3MueTsgYnJlYWs7IH0gfSB9KTsKICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZSA9PiB7IGNvbnN0IHBvcyA9IGdldEV2ZW50UG9zKGUpOyBtb3VzZVggPSBwb3MueDsgbW91c2VZID0gcG9zLnk7IGlmIChkcmFnZ2VkQmFsZSkgeyBkcmFnZ2VkQmFsZS54ID0gcG9zLnggKyBkcmFnT2Zmc2V0WDsgZHJhZ2dlZEJhbGUueSA9IHBvcy55ICsgZHJhZ09mZnNldFk7IH0gfSk7CiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoKSA9PiB7IGlmIChkcmFnZ2VkQmFsZSkgeyBjaGVja1RyYWlsZXJEcm9wKCk7IGRyYWdnZWRCYWxlID0gbnVsbDsgfSB9KTsKICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGUgPT4geyBlLnByZXZlbnREZWZhdWx0KCk7IGlmICghaXNQbGF5aW5nIHx8IHRyYWN0b3JTdGF0ZSAhPT0gJ3BhcmtlZCcpIHJldHVybjsgY29uc3QgcG9zID0gZ2V0RXZlbnRQb3MoZSk7IGZvciAobGV0IGkgPSBoYXlCYWxlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgeyBpZiAoTWF0aC5oeXBvdChoYXlCYWxlc1tpXS54IC0gcG9zLngsIGhheUJhbGVzW2ldLnkgLSBwb3MueSkgPCA0NSkgeyBkcmFnZ2VkQmFsZSA9IGhheUJhbGVzW2ldOyBkcmFnT2Zmc2V0WCA9IGRyYWdnZWRCYWxlLnggLSBwb3MueDsgZHJhZ09mZnNldFkgPSBkcmFnZ2VkQmFsZS55IC0gcG9zLnk7IGJyZWFrOyB9IH0gfSwgeyBwYXNzaXZlOiBmYWxzZSB9KTsKICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZSA9PiB7IGUucHJldmVudERlZmF1bHQoKTsgaWYgKGRyYWdnZWRCYWxlKSB7IGNvbnN0IHBvcyA9IGdldEV2ZW50UG9zKGUpOyBkcmFnZ2VkQmFsZS54ID0gcG9zLnggKyBkcmFnT2Zmc2V0WDsgZHJhZ2dlZEJhbGUueSA9IHBvcy55ICsgZHJhZ09mZnNldFk7IH0gfSwgeyBwYXNzaXZlOiBmYWxzZSB9KTsKICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoKSA9PiB7IGlmIChkcmFnZ2VkQmFsZSkgeyBjaGVja1RyYWlsZXJEcm9wKCk7IGRyYWdnZWRCYWxlID0gbnVsbDsgfSB9KTsKICAgICAgICAKICAgICAgICBmdW5jdGlvbiBjaGVja1RyYWlsZXJEcm9wKCkgewogICAgICAgICAgICBpZiAoIWRyYWdnZWRCYWxlKSByZXR1cm47CiAgICAgICAgICAgIC8vIFRyYWlsZXIgaXMgb24gTEVGVCBzaWRlIG9mIHRyYWN0b3IKICAgICAgICAgICAgY29uc3QgdEwgPSB0cmFjdG9yWCAtIDE2NSwgdFIgPSB0cmFjdG9yWCAtIDE1LCB0VCA9IGNhbnZhcy5oZWlnaHQgLSAxNjUsIHRCID0gY2FudmFzLmhlaWdodCAtIDYwOwogICAgICAgICAgICBpZiAoZHJhZ2dlZEJhbGUueCA+IHRMICYmIGRyYWdnZWRCYWxlLnggPCB0UiAmJiBkcmFnZ2VkQmFsZS55ID4gdFQgJiYgZHJhZ2dlZEJhbGUueSA8IHRCKSB7CiAgICAgICAgICAgICAgICBjb25zdCBpZHggPSBoYXlCYWxlcy5pbmRleE9mKGRyYWdnZWRCYWxlKTsKICAgICAgICAgICAgICAgIGlmIChpZHggPiAtMSkgeyBoYXlCYWxlcy5zcGxpY2UoaWR4LCAxKTsgY29sbGVjdGVkQ291bnQrKzsgc2NvcmUgKz0gMTA7IHNjb3JlRGlzcGxheS50ZXh0Q29udGVudCA9IHNjb3JlOyBwbGF5U291bmQoJ2NvbGxlY3QnKTsgY3JlYXRlQ2VsZWJyYXRpb24oZHJhZ2dlZEJhbGUueCwgZHJhZ2dlZEJhbGUueSk7IH0KICAgICAgICAgICAgfSBlbHNlIHsgcGxheVNvdW5kKCdkcm9wJyk7IH0KICAgICAgICB9CiAgICAgICAgc291bmRUb2dnbGUub25jbGljayA9ICgpID0+IHsgc291bmRFbmFibGVkID0gIXNvdW5kRW5hYmxlZDsgc291bmRUb2dnbGUudGV4dENvbnRlbnQgPSBzb3VuZEVuYWJsZWQgPyAn8J+UiicgOiAn8J+Uhyc7IH07CiAgICAgICAgCiAgICAgICAgY2xhc3MgSGF5QmFsZSB7CiAgICAgICAgICAgIGNvbnN0cnVjdG9yKHgsIHkpIHsgdGhpcy54ID0geDsgdGhpcy55ID0geTsgdGhpcy53b2JibGUgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIDI7IH0KICAgICAgICAgICAgZHJhdygpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHdvYmJsZSA9IGRyYWdnZWRCYWxlID09PSB0aGlzID8gMCA6IE1hdGguc2luKERhdGUubm93KCkgLyA1MDAgKyB0aGlzLndvYmJsZSkgKiAyOwogICAgICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBkcmFnZ2VkQmFsZSA9PT0gdGhpcyA/IDEuMSA6IDE7CiAgICAgICAgICAgICAgICBjdHguc2F2ZSgpOyBjdHgudHJhbnNsYXRlKHRoaXMueCwgdGhpcy55ICsgd29iYmxlKTsgY3R4LnNjYWxlKHNjYWxlLCBzY2FsZSk7CiAgICAgICAgICAgICAgICBpZiAoZHJhZ2dlZEJhbGUgPT09IHRoaXMpIHsgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsMCwwLDAuMyknOyBjdHguYmVnaW5QYXRoKCk7IGN0eC5lbGxpcHNlKDUsIDIwLCAzNSwgMTIsIDAsIDAsIE1hdGguUEkgKiAyKTsgY3R4LmZpbGwoKTsgfQogICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjREFBNTIwJzsgY3R4LmJlZ2luUGF0aCgpOyBjdHguZWxsaXBzZSgwLCAwLCA0MCwgMjgsIDAsIDAsIE1hdGguUEkgKiAyKTsgY3R4LmZpbGwoKTsKICAgICAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjQjg4NjBCJzsgY3R4LmxpbmVXaWR0aCA9IDI7IGZvciAobGV0IGkgPSAtMzA7IGkgPCAzMDsgaSArPSAxMCkgeyBjdHguYmVnaW5QYXRoKCk7IGN0eC5tb3ZlVG8oaSwgLTIyKTsgY3R4LmxpbmVUbyhpLCAyMik7IGN0eC5zdHJva2UoKTsgfQogICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjRjBDMDQwJzsgY3R4LmJlZ2luUGF0aCgpOyBjdHguZWxsaXBzZSgwLCAtOCwgMzIsIDE1LCAwLCBNYXRoLlBJLCBNYXRoLlBJICogMik7IGN0eC5maWxsKCk7CiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzhCNDUxMyc7IGN0eC5saW5lV2lkdGggPSA0OyBjdHguYmVnaW5QYXRoKCk7IGN0eC5tb3ZlVG8oLTM4LCAwKTsgY3R4LmxpbmVUbygzOCwgMCk7IGN0eC5zdHJva2UoKTsKICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gc3Bhd25MZXZlbCgpIHsKICAgICAgICAgICAgaGF5QmFsZXMgPSBbXTsgY29sbGVjdGVkQ291bnQgPSAwOwogICAgICAgICAgICBjb25zdCBudW1CYWxlcyA9IDQgKyBsZXZlbCAqIDI7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBVc2UgbW9yZSBzY3JlZW4gd2lkdGggd2l0aCAyIGNvbHVtbnMKICAgICAgICAgICAgY29uc3QgbWluWCA9IGNhbnZhcy53aWR0aCAqIDAuMzI7CiAgICAgICAgICAgIGNvbnN0IG1heFggPSBjYW52YXMud2lkdGggLSA0MDsKICAgICAgICAgICAgY29uc3QgbWluWSA9IDExMDsKICAgICAgICAgICAgY29uc3QgbWF4WSA9IGNhbnZhcy5oZWlnaHQgLSAxODA7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyAyIGNvbHVtbnMgd29yayBiZXR0ZXIgb24gbmFycm93IG1vYmlsZSBzY3JlZW5zCiAgICAgICAgICAgIGNvbnN0IGNvbHMgPSAyOwogICAgICAgICAgICBjb25zdCByb3dzID0gTWF0aC5jZWlsKG51bUJhbGVzIC8gY29scyk7CiAgICAgICAgICAgIGNvbnN0IGNlbGxXID0gKG1heFggLSBtaW5YKSAvIGNvbHM7CiAgICAgICAgICAgIGNvbnN0IGNlbGxIID0gKG1heFkgLSBtaW5ZKSAvIHJvd3M7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSBbXTsKICAgICAgICAgICAgZm9yIChsZXQgciA9IDA7IHIgPCByb3dzOyByKyspIHsKICAgICAgICAgICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgY29sczsgYysrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9ucy5sZW5ndGggPj0gbnVtQmFsZXMpIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIC8vIE1vcmUgcmFuZG9taXphdGlvbiB3aXRoaW4gZWFjaCBjZWxsCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeCA9IG1pblggKyBjICogY2VsbFcgKyBjZWxsVyAqIDAuMSArIE1hdGgucmFuZG9tKCkgKiBjZWxsVyAqIDAuODsKICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0gbWluWSArIHIgKiBjZWxsSCArIGNlbGxIICogMC4xICsgTWF0aC5yYW5kb20oKSAqIGNlbGxIICogMC44OwogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKHt4LCB5fSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFNodWZmbGUgc28gb3JkZXIgaXNuJ3QgcHJlZGljdGFibGUKICAgICAgICAgICAgcG9zaXRpb25zLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUJhbGVzICYmIGkgPCBwb3NpdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGhheUJhbGVzLnB1c2gobmV3IEhheUJhbGUocG9zaXRpb25zW2ldLngsIHBvc2l0aW9uc1tpXS55KSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZHJhd0JhY2tncm91bmQoKSB7CiAgICAgICAgICAgIGNvbnN0IHNreSA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCAwLCAwLCBjYW52YXMuaGVpZ2h0KTsgc2t5LmFkZENvbG9yU3RvcCgwLCAnIzg3Q0VFQicpOyBza3kuYWRkQ29sb3JTdG9wKDAuNiwgJyNCMEUwRTYnKTsgc2t5LmFkZENvbG9yU3RvcCgxLCAnIzkwRUU5MCcpOwogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gc2t5OyBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjRkZENzAwJzsgY3R4LmJlZ2luUGF0aCgpOyBjdHguYXJjKGNhbnZhcy53aWR0aCAtIDEwMCwgODAsIDQ1LCAwLCBNYXRoLlBJICogMik7IGN0eC5maWxsKCk7CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsMjU1LDI1NSwwLjgpJzsgW1sxMDAsIDYwXSwgWzM1MCwgOTBdLCBbY2FudmFzLndpZHRoIC0gMzAwLCA3MF1dLmZvckVhY2goKFt4LCB5XSkgPT4geyBjdHguYmVnaW5QYXRoKCk7IGN0eC5hcmMoeCwgeSwgMjUsIDAsIE1hdGguUEkgKiAyKTsgY3R4LmFyYyh4ICsgMzAsIHkgLSAxMCwgMzAsIDAsIE1hdGguUEkgKiAyKTsgY3R4LmFyYyh4ICsgNjAsIHksIDI1LCAwLCBNYXRoLlBJICogMik7IGN0eC5maWxsKCk7IH0pOwogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNDNEEwNTInOyBjdHguZmlsbFJlY3QoMCwgY2FudmFzLmhlaWdodCAtIDE4MCwgY2FudmFzLndpZHRoLCAxMDApOwogICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnI0EwODA0MCc7IGN0eC5saW5lV2lkdGggPSAyOyBmb3IgKGxldCB4ID0gMDsgeCA8IGNhbnZhcy53aWR0aDsgeCArPSAyMCkgeyBjb25zdCBoID0gMTAgKyBNYXRoLnJhbmRvbSgpICogMTU7IGN0eC5iZWdpblBhdGgoKTsgY3R4Lm1vdmVUbyh4LCBjYW52YXMuaGVpZ2h0IC0gMTgwKTsgY3R4LmxpbmVUbyh4ICsgNSwgY2FudmFzLmhlaWdodCAtIDE4MCAtIGgpOyBjdHguc3Ryb2tlKCk7IH0KICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjOEI0NTEzJzsgY3R4LmZpbGxSZWN0KDAsIGNhbnZhcy5oZWlnaHQgLSA4MCwgY2FudmFzLndpZHRoLCA4MCk7CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzhCMDAwMCc7IGN0eC5maWxsUmVjdChjYW52YXMud2lkdGggLSAxODAsIGNhbnZhcy5oZWlnaHQgLSAyMjAsIDE1MCwgMTQwKTsKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjNUM0MDMzJzsgY3R4LmJlZ2luUGF0aCgpOyBjdHgubW92ZVRvKGNhbnZhcy53aWR0aCAtIDE5MCwgY2FudmFzLmhlaWdodCAtIDIyMCk7IGN0eC5saW5lVG8oY2FudmFzLndpZHRoIC0gMTA1LCBjYW52YXMuaGVpZ2h0IC0gMjkwKTsgY3R4LmxpbmVUbyhjYW52YXMud2lkdGggLSAyMCwgY2FudmFzLmhlaWdodCAtIDIyMCk7IGN0eC5maWxsKCk7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGRyYXdUcmFjdG9yV2l0aFRyYWlsZXIoeCkgewogICAgICAgICAgICBjb25zdCB5ID0gY2FudmFzLmhlaWdodCAtIDExNTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vID09PSBUUkFJTEVSIE9OIExFRlQgKGluIGZyb250IG9mIHRyYWN0b3IpID09PQogICAgICAgICAgICBjdHguc2F2ZSgpOyBjdHgudHJhbnNsYXRlKHggLSAxNjAsIHkpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gVHJhaWxlciBzaGFkb3cKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsMCwwLDAuMiknOyBjdHguYmVnaW5QYXRoKCk7IGN0eC5lbGxpcHNlKDYwLCA1NSwgNzAsIDEwLCAwLCAwLCBNYXRoLlBJICogMik7IGN0eC5maWxsKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBUcmFpbGVyIGJlZAogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyM1RDQwMzcnOyBjdHguZmlsbFJlY3QoMCwgNSwgMTQwLCA1MCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBUcmFpbGVyIHNpZGVzICh0YWxsZXIgZm9yIHZpc2liaWxpdHkpCiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzhCNDUxMyc7IAogICAgICAgICAgICBjdHguZmlsbFJlY3QoLTUsIC00MCwgMTAsIDk1KTsgIC8vIExlZnQgd2FsbAogICAgICAgICAgICBjdHguZmlsbFJlY3QoMTM1LCAtNDAsIDEwLCA5NSk7IC8vIFJpZ2h0IHdhbGwKICAgICAgICAgICAgY3R4LmZpbGxSZWN0KC01LCAtNDAsIDE1MCwgMTApOyAvLyBCYWNrIHdhbGwKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vICJISUVSIiBsYWJlbCBvbiB0cmFpbGVyCiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI0ZGRic7IGN0eC5mb250ID0gJ2JvbGQgMTRweCBBcmlhbCc7IGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJzsKICAgICAgICAgICAgY3R4LmZpbGxUZXh0KCdISUVSIScsIDcwLCAtMjApOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ29sbGVjdGVkIGJhbGVzIGluIHRyYWlsZXIKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2xsZWN0ZWRDb3VudCAmJiBpIDwgODsgaSsrKSB7CiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNEQUE1MjAnOwogICAgICAgICAgICAgICAgY29uc3QgYnggPSAyMCArIChpICUgNCkgKiAzMDsKICAgICAgICAgICAgICAgIGNvbnN0IGJ5ID0gMCAtIE1hdGguZmxvb3IoaSAvIDQpICogMjU7CiAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7IGN0eC5lbGxpcHNlKGJ4LCBieSwgMTIsIDEwLCAwLCAwLCBNYXRoLlBJICogMik7IGN0eC5maWxsKCk7CiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzhCNDUxMyc7IGN0eC5saW5lV2lkdGggPSAyOyBjdHguc3Ryb2tlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEhpdGNoIGJhciAoY29ubmVjdGluZyB0byB0cmFjdG9yKQogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMzMzMnOyBjdHguZmlsbFJlY3QoMTM1LCAyNSwgNDAsIDgpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gVHJhaWxlciB3aGVlbHMKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMWExYTFhJzsgY3R4LmJlZ2luUGF0aCgpOyBjdHguYXJjKDM1LCA1NSwgMTgsIDAsIE1hdGguUEkgKiAyKTsgY3R4LmFyYygxMDUsIDU1LCAxOCwgMCwgTWF0aC5QSSAqIDIpOyBjdHguZmlsbCgpOwogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyM4ODgnOyBjdHguYmVnaW5QYXRoKCk7IGN0eC5hcmMoMzUsIDU1LCA4LCAwLCBNYXRoLlBJICogMik7IGN0eC5hcmMoMTA1LCA1NSwgOCwgMCwgTWF0aC5QSSAqIDIpOyBjdHguZmlsbCgpOwogICAgICAgICAgICAKICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vID09PSBUUkFDVE9SIE9OIFJJR0hUID09PQogICAgICAgICAgICBjdHguc2F2ZSgpOyBjdHgudHJhbnNsYXRlKHgsIHkpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gU2hhZG93CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgwLDAsMCwwLjIpJzsgY3R4LmJlZ2luUGF0aCgpOyBjdHguZWxsaXBzZSg3MCwgNTUsIDgwLCAxMiwgMCwgMCwgTWF0aC5QSSAqIDIpOyBjdHguZmlsbCgpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQm9keQogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMyMjhCMjInOyBjdHguZmlsbFJlY3QoNDAsIDAsIDgwLCA0NSk7IGN0eC5maWxsUmVjdCgxMjAsIDEwLCA1MCwgMzUpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gRXhoYXVzdAogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMzMzMnOyBjdHguZmlsbFJlY3QoMTMwLCAtMjAsIDgsIDMwKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFNtb2tlCiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgxNTAsMTUwLDE1MCwwLjUpJzsgY29uc3QgdCA9IERhdGUubm93KCkgLyAzMDA7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7IGNvbnN0IG9mZnNldFkgPSAodCArIGkgKiAyKSAlIDYgKiA4OyBjdHguYmVnaW5QYXRoKCk7IGN0eC5hcmMoMTM0ICsgTWF0aC5zaW4odCArIGkpICogNSwgLTI1IC0gb2Zmc2V0WSwgNiArIG9mZnNldFkgLyA2LCAwLCBNYXRoLlBJICogMik7IGN0eC5maWxsKCk7IH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIENhYmluCiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzFCNUUyMCc7IGN0eC5maWxsUmVjdCg0NSwgLTM1LCA3MCwgNDApOyBjdHguZmlsbFN0eWxlID0gJyMxNDUyMTQnOyBjdHguZmlsbFJlY3QoNDIsIC00MiwgNzYsIDEwKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFdpbmRvdwogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyM4N0NFRUInOyBjdHguZmlsbFJlY3QoNTAsIC0zMCwgNjAsIDMwKTsgY3R4LnN0cm9rZVN0eWxlID0gJyMzMzMnOyBjdHgubGluZVdpZHRoID0gMjsgY3R4LnN0cm9rZVJlY3QoNTAsIC0zMCwgNjAsIDMwKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEZyb250IHdoZWVsIChzbWFsbCkKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMWExYTFhJzsgY3R4LmJlZ2luUGF0aCgpOyBjdHguYXJjKDE1NSwgNDUsIDE4LCAwLCBNYXRoLlBJICogMik7IGN0eC5maWxsKCk7CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI0ZGRDcwMCc7IGN0eC5iZWdpblBhdGgoKTsgY3R4LmFyYygxNTUsIDQ1LCA4LCAwLCBNYXRoLlBJICogMik7IGN0eC5maWxsKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBCYWNrIHdoZWVsIChiaWcpCiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzFhMWExYSc7IGN0eC5iZWdpblBhdGgoKTsgY3R4LmFyYyg1NSwgNDUsIDM1LCAwLCBNYXRoLlBJICogMik7IGN0eC5maWxsKCk7CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI0ZGRDcwMCc7IGN0eC5iZWdpblBhdGgoKTsgY3R4LmFyYyg1NSwgNDUsIDE1LCAwLCBNYXRoLlBJICogMik7IGN0eC5maWxsKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBTcG9rZXMgYW5pbWF0aW9uCiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjRkZENzAwJzsgY3R4LmxpbmVXaWR0aCA9IDQ7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKSB7IGNvbnN0IGFuZ2xlID0gKGkgLyA2KSAqIE1hdGguUEkgKiAyICsgRGF0ZS5ub3coKSAvIDUwMDsgY3R4LmJlZ2luUGF0aCgpOyBjdHgubW92ZVRvKDU1ICsgTWF0aC5jb3MoYW5nbGUpICogMTUsIDQ1ICsgTWF0aC5zaW4oYW5nbGUpICogMTUpOyBjdHgubGluZVRvKDU1ICsgTWF0aC5jb3MoYW5nbGUpICogMzAsIDQ1ICsgTWF0aC5zaW4oYW5nbGUpICogMzApOyBjdHguc3Ryb2tlKCk7IH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEZlbmRlcgogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMyMjhCMjInOyBjdHguYmVnaW5QYXRoKCk7IGN0eC5hcmMoNTUsIDQ1LCA0MCwgTWF0aC5QSSwgTWF0aC5QSSAqIDIpOyBjdHguZmlsbCgpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gSGVhZGxpZ2h0CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI0ZGRkY5OSc7IGN0eC5iZWdpblBhdGgoKTsgY3R4LmFyYygxNzAsIDMwLCA2LCAwLCBNYXRoLlBJICogMik7IGN0eC5maWxsKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBjdHgucmVzdG9yZSgpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gRHJvcCB6b25lIGluZGljYXRvciBvbiBUUkFJTEVSIChsZWZ0IHNpZGUpCiAgICAgICAgICAgIGlmIChkcmFnZ2VkQmFsZSkgeyAKICAgICAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNENBRjUwJzsgY3R4LmxpbmVXaWR0aCA9IDQ7IGN0eC5zZXRMaW5lRGFzaChbMTAsIDVdKTsgCiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlUmVjdCh4IC0gMTY1LCBjYW52YXMuaGVpZ2h0IC0gMTYwLCAxNTAsIDEwMCk7IAogICAgICAgICAgICAgICAgY3R4LnNldExpbmVEYXNoKFtdKTsgCiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoNzYsIDE3NSwgODAsIDAuMyknOyAKICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdCh4IC0gMTY1LCBjYW52YXMuaGVpZ2h0IC0gMTYwLCAxNTAsIDEwMCk7IAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVRyYWN0b3IoKSB7CiAgICAgICAgICAgIGlmICh0cmFjdG9yU3RhdGUgPT09ICdlbnRlcmluZycpIHsgdHJhY3RvclggKz0gdHJhY3RvclNwZWVkOyBpZiAodHJhY3RvclggPj0gdHJhY3RvclRhcmdldFgpIHsgdHJhY3RvclggPSB0cmFjdG9yVGFyZ2V0WDsgdHJhY3RvclN0YXRlID0gJ3BhcmtlZCc7ICB9IH0KICAgICAgICAgICAgZWxzZSBpZiAodHJhY3RvclN0YXRlID09PSAnbGVhdmluZycpIHsgIHRyYWN0b3JYICs9IHRyYWN0b3JTcGVlZDsgaWYgKHRyYWN0b3JYID4gY2FudmFzLndpZHRoICsgMjAwKSB7IHRyYWN0b3JTdGF0ZSA9ICd3YWl0aW5nJzsgbGV2ZWwrKzsgaWYgKGxldmVsID4gNSkgeyBpc1BsYXlpbmcgPSBmYWxzZTsgcGxheVNvdW5kKCd2aWN0b3J5Jyk7IGZpbmFsU2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7IHdpblNjcmVlbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsgfSBlbHNlIHsgc2hvd0xldmVsU2NyZWVuKCk7IH0gfSB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHNob3dMZXZlbFNjcmVlbigpIHsgbGV2ZWxOdW1iZXIudGV4dENvbnRlbnQgPSBsZXZlbDsgbGV2ZWxEaXNwbGF5LnRleHRDb250ZW50ID0gbGV2ZWw7IGxldmVsU2NyZWVuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOyBzZXRUaW1lb3V0KCgpID0+IHsgbGV2ZWxTY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7IHRyYWN0b3JYID0gLTIwMDsgdHJhY3RvclN0YXRlID0gJ2VudGVyaW5nJzsgc3Bhd25MZXZlbCgpOyB9LCAxNTAwKTsgfQogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNlbGVicmF0aW9uKHgsIHkpIHsgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHsgc2V0VGltZW91dCgoKSA9PiB7IGNvbnN0IHN0YXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgc3Rhci5jbGFzc05hbWUgPSAnY2VsZWJyYXRpb24tc3Rhcic7IHN0YXIudGV4dENvbnRlbnQgPSAn8J+Mvic7IHN0YXIuc3R5bGUubGVmdCA9ICh4ICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMTAwKSArICdweCc7IHN0YXIuc3R5bGUudG9wID0gKHkgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAxMDApICsgJ3B4JzsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtY29udGFpbmVyJykuYXBwZW5kQ2hpbGQoc3Rhcik7IHNldFRpbWVvdXQoKCkgPT4gc3Rhci5yZW1vdmUoKSwgMjAwMCk7IH0sIGkgKiA2MCk7IH0gfQogICAgICAgIGZ1bmN0aW9uIGdhbWVMb29wKCkgewogICAgICAgICAgICBpZiAoIWlzUGxheWluZykgcmV0dXJuOwogICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7IGRyYXdCYWNrZ3JvdW5kKCk7CiAgICAgICAgICAgIGhheUJhbGVzLmZpbHRlcihiID0+IGIgIT09IGRyYWdnZWRCYWxlKS5mb3JFYWNoKGIgPT4gYi5kcmF3KCkpOwogICAgICAgICAgICB1cGRhdGVUcmFjdG9yKCk7IGRyYXdUcmFjdG9yV2l0aFRyYWlsZXIodHJhY3RvclgpOwogICAgICAgICAgICBpZiAoZHJhZ2dlZEJhbGUpIGRyYWdnZWRCYWxlLmRyYXcoKTsKICAgICAgICAgICAgaWYgKGhheUJhbGVzLmxlbmd0aCA9PT0gMCAmJiB0cmFjdG9yU3RhdGUgPT09ICdwYXJrZWQnKSB0cmFjdG9yU3RhdGUgPSAnbGVhdmluZyc7CiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHN0YXJ0R2FtZSgpIHsgaW5pdEF1ZGlvKCk7IHNjb3JlID0gMDsgbGV2ZWwgPSAxOyBjb2xsZWN0ZWRDb3VudCA9IDA7IHNjb3JlRGlzcGxheS50ZXh0Q29udGVudCA9IHNjb3JlOyBsZXZlbERpc3BsYXkudGV4dENvbnRlbnQgPSBsZXZlbDsgc3RhcnRTY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7IHdpblNjcmVlbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsgbGV2ZWxTY3JlZW4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7IHRyYWN0b3JYID0gLTIwMDsgdHJhY3RvclN0YXRlID0gJ2VudGVyaW5nJzsgaXNQbGF5aW5nID0gdHJ1ZTsgc3Bhd25MZXZlbCgpOyBnYW1lTG9vcCgpOyB9CiAgICA8L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+Cg==';

function loadGame(id) {
    if (!GAMES[id]) { alert('Spiel nicht gefunden'); return; }
    document.getElementById('menu').style.display = 'none';
    document.getElementById('game-frame').style.display = 'block';
    document.getElementById('back-btn').style.display = 'flex';
    document.getElementById('iframe').src = 'data:text/html;base64,' + GAMES[id];
}

function closeGame() {
    document.getElementById('menu').style.display = 'block';
    document.getElementById('game-frame').style.display = 'none';
    document.getElementById('back-btn').style.display = 'none';
    document.getElementById('iframe').src = 'about:blank';
}

document.querySelectorAll('.game-btn').forEach(btn => {
    btn.addEventListener('click', () => loadGame(btn.dataset.game));
});

document.getElementById('back-btn').addEventListener('click', closeGame);
</script>
</body>
</html>
